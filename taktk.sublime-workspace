{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"lay",
				"layout_class"
			],
			[
				"is",
				"isinstance"
			],
			[
				"def",
				"default"
			],
			[
				"cre",
				"created"
			],
			[
				"rende",
				"renderred"
			],
			[
				"subs",
				"Subscriber"
			],
			[
				"Na",
				"NameError"
			],
			[
				"bui",
				"builtins"
			],
			[
				"tk",
				"tkMenu"
			],
			[
				"__",
				"__init__()"
			],
			[
				"dic",
				"dictionary"
			],
			[
				"sub",
				"subscribeable"
			],
			[
				"_co",
				"_collect_values"
			],
			[
				"_c",
				"_component_"
			],
			[
				"Sub",
				"Subscriber"
			],
			[
				"att",
				"attrs"
			],
			[
				"_sub",
				"_subscribeable"
			],
			[
				"_subs",
				"_subscriber"
			],
			[
				"_s",
				"_subscribeable"
			],
			[
				"w",
				"writeable"
			],
			[
				"At",
				"AttributeError"
			],
			[
				"pa",
				"params"
			],
			[
				"Att",
				"Attrs"
			],
			[
				"Attr",
				"AttributeManager"
			],
			[
				"su",
				"subscriber"
			],
			[
				"Su",
				"Subscriber"
			],
			[
				"_subsc",
				"_subscribers"
			],
			[
				"a",
				"auto"
			],
			[
				"Subs",
				"Subscriber"
			],
			[
				"subsc",
				"subscriber"
			],
			[
				"Im",
				"ImportError"
			],
			[
				"glTr",
				"glTranslate"
			],
			[
				"ii",
				"init_gl"
			],
			[
				"dr",
				"draw_scene"
			],
			[
				"lex",
				"lexer"
			],
			[
				"p",
				"tip"
			],
			[
				"3",
				"35em"
			],
			[
				"gi",
				"i-github\tSVG Icon GitHub"
			],
			[
				"extr",
				"extra_header_link_icons="
			],
			[
				"lo",
				"logo_light="
			],
			[
				"sp",
				"sphinx_rtd_theme"
			],
			[
				"meta",
				"meta_content_scope"
			],
			[
				"illegal-",
				"illegal-assignment"
			],
			[
				"se",
				"separator."
			],
			[
				"Nam",
				"NameError"
			],
			[
				"var",
				"varname"
			],
			[
				"col",
				"columnconfigure"
			],
			[
				"un",
				"unsubscribe_from_all"
			],
			[
				"subscr",
				"subscribeable"
			],
			[
				"subc",
				"subscribe"
			],
			[
				"nam",
				"namespace"
			],
			[
				"ca",
				"call_gets"
			],
			[
				"cal",
				"call_sets"
			],
			[
				"ev",
				"eval_gets"
			],
			[
				"set",
				"set_response"
			],
			[
				"get",
				"getter_caller"
			],
			[
				"Wr",
				"Writeable"
			],
			[
				"Wri",
				"WritableStringVar"
			],
			[
				"e",
				"evaluate_string"
			],
			[
				"Ex",
				"Expression"
			],
			[
				"cl",
				"classmethod"
			],
			[
				"c",
				"classmethod"
			],
			[
				"com",
				"component"
			],
			[
				"ch",
				"children"
			],
			[
				"na",
				"namespace"
			],
			[
				"ty",
				"type"
			],
			[
				"in",
				"instructions"
			],
			[
				"las",
				"last_tag"
			],
			[
				"chi",
				"child"
			],
			[
				"la",
				"last_indent"
			],
			[
				"pr",
				"print()"
			],
			[
				"chil",
				"children"
			],
			[
				"ind",
				"indent"
			],
			[
				"par",
				"parent"
			],
			[
				"parse_next",
				"parse_next_instruction"
			],
			[
				"__get",
				"__getitem__"
			],
			[
				"parse",
				"parse_next_instruction"
			],
			[
				"ta",
				"taktk-args"
			],
			[
				"bra",
				"brackets."
			],
			[
				"co",
				"continuation."
			],
			[
				"attr",
				"attributes"
			],
			[
				"tra",
				"transparent"
			],
			[
				"conte",
				"contextmanager"
			],
			[
				"o",
				"other."
			],
			[
				"de",
				"default"
			],
			[
				"l",
				"language"
			],
			[
				"layou",
				"layout_parent"
			],
			[
				"cont",
				"container"
			],
			[
				"im",
				"import"
			],
			[
				"curr",
				"current_page"
			],
			[
				"Mod",
				"ModuleType"
			],
			[
				"an",
				"annotate"
			],
			[
				"fall",
				"fallback_language"
			],
			[
				"wind",
				"window_class"
			],
			[
				"medi",
				"media_path"
			],
			[
				"fal",
				"fallback_language"
			],
			[
				"_creat",
				"_create_params"
			],
			[
				"N",
				"Newlines"
			],
			[
				"res",
				"response_text"
			],
			[
				"winfo_",
				"winfo_rooty()"
			],
			[
				"posit",
				"position_widgets()"
			],
			[
				"app",
				"application"
			],
			[
				"vi",
				"view"
			],
			[
				"ur",
				"urllib."
			],
			[
				"cu",
				"current_url"
			],
			[
				"R",
				"RequestHandler"
			],
			[
				"Us",
				"Users"
			],
			[
				"appl",
				"application_server"
			],
			[
				"con",
				"converter()"
			],
			[
				"reg",
				"registerrer"
			],
			[
				"them",
				"theme_use()"
			],
			[
				"up",
				"update_entry"
			],
			[
				"for",
				"for_page()"
			],
			[
				"mo",
				"module"
			],
			[
				"r",
				"read()"
			],
			[
				"pag",
				"page_stores"
			],
			[
				"bas",
				"basicConfig"
			],
			[
				"url",
				"urlparse"
			],
			[
				"E",
				"Expression"
			],
			[
				"D",
				"Dictionary"
			],
			[
				"spl",
				"splitlines"
			],
			[
				"compo",
				"component_space"
			],
			[
				"En",
				"EnumComponent"
			],
			[
				"ann",
				"ann\tannotate"
			],
			[
				"Compon",
				"ComponentNamespace"
			],
			[
				"Com",
				"ComponentNamespace"
			],
			[
				"_",
				"_instructions_"
			],
			[
				"line",
				"line_idx"
			]
		]
	},
	"buffers":
	[
		{
			"file": "/home/ken-morel/.config/sublime-text/Packages/subliminal/subliminal-Python.sublime-syntax",
			"settings":
			{
				"buffer_size": 142517,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					37,
					1,
					"left_delete",
					null,
					"AQAAAAQkAgAAAAAABCQCAAAAAAACAAAAXFs",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAABiQCAAAAAAAEJAIAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"insert",
					{
						"characters": "@"
					},
					"AQAAAAQkAgAAAAAABSQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAABCQCAAAAAAAEJAIAAAAAAAAAAAAAAPC/"
				],
				[
					52,
					1,
					"cut",
					null,
					"AQAAAD8kAgAAAAAAPyQCAAAAAAALAAAAW1xkXHcuXC1fXSs",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAPyQCAAAAAABKJAIAAAAAAAAAAAAAAPC/"
				],
				[
					55,
					1,
					"insert",
					{
						"characters": "("
					},
					"AQAAAAYkAgAAAAAAByQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAABiQCAAAAAAAGJAIAAAAAAAAAAAAAAPC/"
				],
				[
					56,
					1,
					"paste",
					null,
					"AQAAAAckAgAAAAAAEiQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAByQCAAAAAAAHJAIAAAAAAAAAAAAAAPC/"
				],
				[
					57,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAABIkAgAAAAAAEyQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAEiQCAAAAAAASJAIAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"insert",
					{
						"characters": "\ncaptures"
					},
					"CgAAAC0kAgAAAAAALiQCAAAAAAAAAAAALiQCAAAAAAA0JAIAAAAAAAAAAAA0JAIAAAAAADUkAgAAAAAAAAAAADUkAgAAAAAANiQCAAAAAAAAAAAANiQCAAAAAAA3JAIAAAAAAAAAAAA3JAIAAAAAADgkAgAAAAAAAAAAADgkAgAAAAAAOSQCAAAAAAAAAAAAOSQCAAAAAAA6JAIAAAAAAAAAAAA6JAIAAAAAADskAgAAAAAAAAAAADskAgAAAAAAPCQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAALSQCAAAAAAAtJAIAAAAAAAAAAAAAQGdA"
				],
				[
					61,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAADwkAgAAAAAAPSQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAPCQCAAAAAAA8JAIAAAAAAAAAAAAAAPC/"
				],
				[
					65,
					1,
					"cut",
					null,
					"AQAAACIkAgAAAAAAIiQCAAAAAAALAAAAcHVuY3R1YXRpb24",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAIiQCAAAAAAAtJAIAAAAAAAAAAAAAAPC/"
				],
				[
					67,
					1,
					"left_delete",
					null,
					"AwAAABUkAgAAAAAAFSQCAAAAAAAOAAAAICAgICAgc2NvcGU6IAoVJAIAAAAAABUkAgAAAAAABgAAACAgICAgIBUkAgAAAAAAGSQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAFSQCAAAAAAAjJAIAAAAAAAAAAAAAAPC/"
				],
				[
					68,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAABkkAgAAAAAAGyQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAGSQCAAAAAAAZJAIAAAAAAAAAAAAAAPC/"
				],
				[
					70,
					1,
					"insert",
					{
						"characters": "\n1:"
					},
					"BQAAACQkAgAAAAAAJSQCAAAAAAAAAAAAJSQCAAAAAAArJAIAAAAAAAAAAAArJAIAAAAAAC0kAgAAAAAAAAAAAC0kAgAAAAAALiQCAAAAAAAAAAAALiQCAAAAAAAvJAIAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAJCQCAAAAAAAkJAIAAAAAAAAAAAAAAPC/"
				],
				[
					71,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAC8kAgAAAAAAMCQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAALyQCAAAAAAAvJAIAAAAAAAAAAAAAAPC/"
				],
				[
					72,
					1,
					"paste",
					null,
					"AQAAADAkAgAAAAAAOyQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAMCQCAAAAAAAwJAIAAAAAAAAAAAAAAPC/"
				],
				[
					73,
					1,
					"insert",
					{
						"characters": "\n2:"
					},
					"BAAAADskAgAAAAAAPCQCAAAAAAAAAAAAPCQCAAAAAABEJAIAAAAAAAAAAABEJAIAAAAAAEUkAgAAAAAAAAAAAEUkAgAAAAAARiQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAOyQCAAAAAAA7JAIAAAAAAAAAAAAAAPC/"
				],
				[
					79,
					1,
					"cut",
					null,
					"AQAAAHgkAgAAAAAAeCQCAAAAAAAGAAAAc3RyaW5n",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAeCQCAAAAAAB+JAIAAAAAAAAAAAAAAPC/"
				],
				[
					81,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAEYkAgAAAAAARyQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAARiQCAAAAAABGJAIAAAAAAAAAAAAAgFlA"
				],
				[
					82,
					1,
					"paste",
					null,
					"AQAAAEckAgAAAAAATSQCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAARyQCAAAAAABHJAIAAAAAAAAAAAAAAPC/"
				],
				[
					87,
					1,
					"left_delete",
					null,
					"AQAAAE4kAgAAAAAATiQCAAAAAAC1AAAAICAgICAgcHVzaDoKICAgICAgICAtIG1hdGNoOiAoKQogICAgICAgICAgc2NvcGU6IAogICAgICAgIC0gbWF0Y2g6IChcXSkKICAgICAgICAgIHNjb3BlOiBwdW5jdHVhdGlvbgogICAgICAgICAgcG9wOiB0cnVlCiAgICAgICAgLSBtYXRjaDogJy4nCiAgICAgICAgICBzY29wZTogaW52YWxpZC5pbGxlZ2FsLnRha3RrCg",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAATiQCAAAAAAADJQIAAAAAAAAAAAAAAPC/"
				],
				[
					112,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAFUpAgAAAAAAVikCAAAAAAAAAAAAVikCAAAAAABcKQIAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAVSkCAAAAAABVKQIAAAAAAAAAAAAAAPC/"
				],
				[
					113,
					1,
					"left_delete",
					null,
					"AQAAAFopAgAAAAAAWikCAAAAAAACAAAAICA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAXCkCAAAAAABcKQIAAAAAAAAAAAAAAPC/"
				],
				[
					114,
					1,
					"paste",
					null,
					"AQAAAFopAgAAAAAAECsCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAWikCAAAAAABaKQIAAAAAAAAAAAAAAPC/"
				],
				[
					118,
					1,
					"left_delete",
					null,
					"AQAAAGQpAgAAAAAAZCkCAAAAAAAEAAAAKFx7KQ",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAZCkCAAAAAABoKQIAAAAAAAAAAAAAAPC/"
				],
				[
					120,
					1,
					"insert",
					{
						"characters": "()"
					},
					"AgAAAGgpAgAAAAAAaSkCAAAAAAAAAAAAaSkCAAAAAABqKQIAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAaCkCAAAAAABoKQIAAAAAAAAAAAAAAPC/"
				],
				[
					122,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAGkpAgAAAAAAaykCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAaSkCAAAAAABpKQIAAAAAAAAAAAAAAPC/"
				],
				[
					125,
					1,
					"insert",
					{
						"characters": "\\w_"
					},
					"AwAAAGopAgAAAAAAaykCAAAAAAAAAAAAaykCAAAAAABsKQIAAAAAAAAAAABsKQIAAAAAAG0pAgAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAaikCAAAAAABqKQIAAAAAAAAAAAAAAPC/"
				],
				[
					127,
					1,
					"insert",
					{
						"characters": "+"
					},
					"AQAAAG4pAgAAAAAAbykCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAbikCAAAAAABuKQIAAAAAAAAAAAAAAPC/"
				],
				[
					129,
					1,
					"insert",
					{
						"characters": "\\d"
					},
					"AgAAAG0pAgAAAAAAbikCAAAAAAAAAAAAbikCAAAAAABvKQIAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAbSkCAAAAAABtKQIAAAAAAAAAAAAAAPC/"
				],
				[
					135,
					1,
					"left_delete",
					null,
					"AQAAALopAgAAAAAAuikCAAAAAAABAAAAMg",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAuykCAAAAAAC7KQIAAAAAAAAAAAAAAEtA"
				],
				[
					136,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAALopAgAAAAAAuykCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAuikCAAAAAAC6KQIAAAAAAAAAAAAAAPC/"
				],
				[
					139,
					1,
					"left_delete",
					null,
					"AQAAAIQpAgAAAAAAhCkCAAAAAAAuAAAAICAgICAgICAxOiBwdW5jdHVhdGlvbi5iZWdpbi5leHByZXNzaW9uLnRha3RrCg",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAhCkCAAAAAACyKQIAAAAAAAAAAAAAAPC/"
				],
				[
					142,
					1,
					"insert",
					{
						"characters": "\n2:"
					},
					"BAAAAKQpAgAAAAAApSkCAAAAAAAAAAAApSkCAAAAAACtKQIAAAAAAAAAAACtKQIAAAAAAK4pAgAAAAAAAAAAAK4pAgAAAAAArykCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAApCkCAAAAAACkKQIAAAAAAAAAAAAAAPC/"
				],
				[
					143,
					1,
					"insert",
					{
						"characters": " na"
					},
					"AwAAAK8pAgAAAAAAsCkCAAAAAAAAAAAAsCkCAAAAAACxKQIAAAAAAAAAAACxKQIAAAAAALIpAgAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAArykCAAAAAACvKQIAAAAAAAAAAAAAAPC/"
				],
				[
					144,
					1,
					"insert_completion",
					{
						"completion": "name",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "name"
					},
					"AgAAALApAgAAAAAAsCkCAAAAAAACAAAAbmGwKQIAAAAAALQpAgAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAsikCAAAAAACyKQIAAAAAAAAAAAAAAPC/"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": "."
					},
					"AQAAALQpAgAAAAAAtSkCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAtCkCAAAAAAC0KQIAAAAAAAAAAAAAAPC/"
				],
				[
					146,
					1,
					"insert",
					{
						"characters": "va"
					},
					"AgAAALUpAgAAAAAAtikCAAAAAAAAAAAAtikCAAAAAAC3KQIAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAtSkCAAAAAAC1KQIAAAAAAAAAAAAAAPC/"
				],
				[
					147,
					1,
					"insert_completion",
					{
						"completion": "variable.",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "variable."
					},
					"AgAAALUpAgAAAAAAtSkCAAAAAAACAAAAdmG1KQIAAAAAAL4pAgAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAtykCAAAAAAC3KQIAAAAAAAAAAAAAAPC/"
				],
				[
					148,
					1,
					"insert_completion",
					{
						"completion": "python",
						"format": "text",
						"keep_prefix": false,
						"must_insert": true,
						"trigger": "python"
					},
					"AQAAAL4pAgAAAAAAxCkCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAvikCAAAAAAC+KQIAAAAAAAAAAAAAAPC/"
				],
				[
					156,
					1,
					"left_delete",
					null,
					"AQAAAMUpAgAAAAAAxSkCAAAAAAA0AQAAICAgICAgcHVzaDoKICAgICAgICAtIG1ldGFfY29udGVudF9zY29wZTogbWV0YS5pbnRlcnBvbGF0aW9uLnB5dGhvbgogICAgICAgIC0gbWF0Y2g6ICdcfScKICAgICAgICAgIHNjb3BlOiBwdW5jdHVhdGlvbi5lbmQuZXhwcmVzc2lvbi50YWt0awogICAgICAgICAgcG9wOiB0cnVlCiAgICAgICAgLSBtYXRjaDogJ1w6P1w9JwogICAgICAgICAgc2NvcGU6IGludmFsaWQuaWxsZWdhbC5hc3NpZ25tZW50LnB5dGhvbgogICAgICAgIC0gaW5jbHVkZTogZXhwcmVzc2lvbnMtY29tbW9uCiAgICAgICAgLSBpbmNsdWRlOiBxdWFsaWZpZWQtbmFtZQo",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAxSkCAAAAAAD5KgIAAAAAAAAAAAAAAPC/"
				],
				[
					165,
					1,
					"cut",
					null,
					"AQAAAKknAgAAAAAAqScCAAAAAAAEAAAAKFx7KQ",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAqScCAAAAAACtJwIAAAAAAAAAAAAAAPC/"
				],
				[
					167,
					1,
					"paste",
					null,
					"AQAAAK0nAgAAAAAAsScCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAArScCAAAAAACtJwIAAAAAAAAAAAAAAPC/"
				],
				[
					183,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMQpAgAAAAAAxSkCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAxCkCAAAAAADEKQIAAAAAAAAAAAAAoHRA"
				],
				[
					184,
					1,
					"paste",
					null,
					"AQAAAMUpAgAAAAAA3ikCAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAxSkCAAAAAADFKQIAAAAAAAAAAAAAAPC/"
				],
				[
					192,
					2,
					"left_delete",
					null,
					"AgAAALkkAgAAAAAAuSQCAAAAAAABAAAAe7gkAgAAAAAAuCQCAAAAAAABAAAAXA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAuiQCAAAAAAC6JAIAAAAAAAAAAAAAAPC/"
				],
				[
					193,
					1,
					"insert",
					{
						"characters": "\\$"
					},
					"AgAAALgkAgAAAAAAuSQCAAAAAAAAAAAAuSQCAAAAAAC6JAIAAAAAAAAAAAA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAuCQCAAAAAAC4JAIAAAAAAAAAAAAAAPC/"
				],
				[
					199,
					1,
					"left_delete",
					null,
					"AQAAAFQlAgAAAAAAVCUCAAAAAAACAAAAXH0",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAViUCAAAAAABUJQIAAAAAAAAAAAAAAPC/"
				],
				[
					216,
					2,
					"left_delete",
					null,
					"AgAAAFMmAgAAAAAAUyYCAAAAAAABAAAAfVImAgAAAAAAUiYCAAAAAAABAAAAXA",
					"BAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAVCYCAAAAAABUJgIAAAAAAAAAAAAAAPC/"
				],
				[
					7,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAPQjAgAAAAAA9SMCAAAAAAAAAAAA9SMCAAAAAAD7IwIAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9CMCAAAAAAD0IwIAAAAAAAAAAAAAgF9A"
				],
				[
					8,
					1,
					"left_delete",
					null,
					"AQAAAPkjAgAAAAAA+SMCAAAAAAACAAAAICA",
					"AQAAAAAAAAABAAAA+yMCAAAAAAD7IwIAAAAAAAAAAAAAAPC/"
				],
				[
					9,
					1,
					"insert",
					{
						"characters": "-"
					},
					"AQAAAPkjAgAAAAAA+iMCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+SMCAAAAAAD5IwIAAAAAAAAAAAAAAPC/"
				],
				[
					10,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/PackageDev/Package/Sublime Text Syntax Definition/Add Syntax Rule (space).sublime-macro"
					},
					"AQAAAPojAgAAAAAA+yMCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+iMCAAAAAAD6IwIAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"insert",
					{
						"characters": "match"
					},
					"BQAAAPsjAgAAAAAA/CMCAAAAAAAAAAAA/CMCAAAAAAD9IwIAAAAAAAAAAAD9IwIAAAAAAP4jAgAAAAAAAAAAAP4jAgAAAAAA/yMCAAAAAAAAAAAA/yMCAAAAAAAAJAIAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+yMCAAAAAAD7IwIAAAAAAAAAAAAAAPC/"
				],
				[
					12,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAAkAgAAAAAAASQCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAACQCAAAAAAAAJAIAAAAAAAAAAAAAAPC/"
				],
				[
					13,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAAEkAgAAAAAAAyQCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAASQCAAAAAAABJAIAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAAAAkAgAAAAAAASQCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAACQCAAAAAAAAJAIAAAAAAAAAAAAAAPC/"
				],
				[
					17,
					1,
					"insert",
					{
						"characters": "<"
					},
					"AQAAAAMkAgAAAAAABCQCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAyQCAAAAAAADJAIAAAAAAAAAAAAAAPC/"
				],
				[
					20,
					1,
					"insert",
					{
						"characters": "\n\tpop:"
					},
					"BwAAAAUkAgAAAAAABiQCAAAAAAAAAAAABiQCAAAAAAAKJAIAAAAAAAAAAAAKJAIAAAAAAAwkAgAAAAAAAAAAAAwkAgAAAAAADSQCAAAAAAAAAAAADSQCAAAAAAAOJAIAAAAAAAAAAAAOJAIAAAAAAA8kAgAAAAAAAAAAAA8kAgAAAAAAECQCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABSQCAAAAAAAFJAIAAAAAAAAAAAAAAPC/"
				],
				[
					21,
					1,
					"insert",
					{
						"characters": " true"
					},
					"BQAAABAkAgAAAAAAESQCAAAAAAAAAAAAESQCAAAAAAASJAIAAAAAAAAAAAASJAIAAAAAABMkAgAAAAAAAAAAABMkAgAAAAAAFCQCAAAAAAAAAAAAFCQCAAAAAAAVJAIAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAECQCAAAAAAAQJAIAAAAAAAAAAAAAAPC/"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": "\n\tpush:"
					},
					"CAAAAAUkAgAAAAAABiQCAAAAAAAAAAAABiQCAAAAAAAKJAIAAAAAAAAAAAAKJAIAAAAAAAwkAgAAAAAAAAAAAAwkAgAAAAAADSQCAAAAAAAAAAAADSQCAAAAAAAOJAIAAAAAAAAAAAAOJAIAAAAAAA8kAgAAAAAAAAAAAA8kAgAAAAAAECQCAAAAAAAAAAAAECQCAAAAAAARJAIAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABSQCAAAAAAAFJAIAAAAAAAAAAAAAAPC/"
				],
				[
					25,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAABEkAgAAAAAAEiQCAAAAAAAAAAAAEiQCAAAAAAAYJAIAAAAAAAAAAAAYJAIAAAAAABokAgAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAESQCAAAAAAARJAIAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					5,
					"left_delete",
					null,
					"BQAAABgkAgAAAAAAGCQCAAAAAAACAAAAICAWJAIAAAAAABYkAgAAAAAAAgAAACAgFCQCAAAAAAAUJAIAAAAAAAIAAAAgIBIkAgAAAAAAEiQCAAAAAAACAAAAICARJAIAAAAAABEkAgAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAAGiQCAAAAAAAaJAIAAAAAAAAAAAAAAPC/"
				],
				[
					27,
					1,
					"insert",
					{
						"characters": " media-spe"
					},
					"CgAAABEkAgAAAAAAEiQCAAAAAAAAAAAAEiQCAAAAAAATJAIAAAAAAAAAAAATJAIAAAAAABQkAgAAAAAAAAAAABQkAgAAAAAAFSQCAAAAAAAAAAAAFSQCAAAAAAAWJAIAAAAAAAAAAAAWJAIAAAAAABckAgAAAAAAAAAAABckAgAAAAAAGCQCAAAAAAAAAAAAGCQCAAAAAAAZJAIAAAAAAAAAAAAZJAIAAAAAABokAgAAAAAAAAAAABokAgAAAAAAGyQCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAESQCAAAAAAARJAIAAAAAAAAAAAAAAPC/"
				],
				[
					28,
					1,
					"insert",
					{
						"characters": "c"
					},
					"AQAAABskAgAAAAAAHCQCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGyQCAAAAAAAbJAIAAAAAAAAAAAAAAPC/"
				],
				[
					36,
					1,
					"insert",
					{
						"characters": "taktk-"
					},
					"BgAAABIkAgAAAAAAEyQCAAAAAAAAAAAAEyQCAAAAAAAUJAIAAAAAAAAAAAAUJAIAAAAAABUkAgAAAAAAAAAAABUkAgAAAAAAFiQCAAAAAAAAAAAAFiQCAAAAAAAXJAIAAAAAAAAAAAAXJAIAAAAAABgkAgAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEiQCAAAAAAASJAIAAAAAAAAAAAAAAPC/"
				],
				[
					42,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAH8sAgAAAAAAgCwCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfywCAAAAAAB/LAIAAAAAAAAAAAAAAAAA"
				],
				[
					43,
					1,
					"reindent",
					null,
					"AQAAAIAsAgAAAAAAhiwCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgCwCAAAAAACALAIAAAAAAAAAAAAAAPC/"
				],
				[
					44,
					2,
					"left_delete",
					null,
					"AgAAAIQsAgAAAAAAhCwCAAAAAAACAAAAICCCLAIAAAAAAIIsAgAAAAAAAgAAACAg",
					"AQAAAAAAAAABAAAAhiwCAAAAAACGLAIAAAAAAAAAAAAAAPC/"
				],
				[
					45,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAIIsAgAAAAAAhCwCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgiwCAAAAAACCLAIAAAAAAAAAAAAAAPC/"
				],
				[
					46,
					1,
					"left_delete",
					null,
					"AQAAAIIsAgAAAAAAgiwCAAAAAAACAAAAICA",
					"AQAAAAAAAAABAAAAhCwCAAAAAACELAIAAAAAAAAAAAAAAPC/"
				],
				[
					47,
					1,
					"paste",
					null,
					"AQAAAIIsAgAAAAAAkiwCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgiwCAAAAAACCLAIAAAAAAAAAAAAAAPC/"
				],
				[
					48,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAAJIsAgAAAAAAkywCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkiwCAAAAAACSLAIAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAAJMsAgAAAAAAlCwCAAAAAAAAAAAAlCwCAAAAAACWLAIAAAAAAAAAAACWLAIAAAAAAJgsAgAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkywCAAAAAACTLAIAAAAAAAAAAAAAgFxA"
				],
				[
					61,
					1,
					"insert",
					{
						"characters": "-"
					},
					"AQAAAJgsAgAAAAAAmSwCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmCwCAAAAAACYLAIAAAAAAAAAAAAAAPC/"
				],
				[
					62,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/PackageDev/Package/Sublime Text Syntax Definition/Add Syntax Rule (space).sublime-macro"
					},
					"AQAAAJksAgAAAAAAmiwCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmSwCAAAAAACZLAIAAAAAAAAAAAAAAPC/"
				],
				[
					63,
					1,
					"insert",
					{
						"characters": "match:"
					},
					"BgAAAJosAgAAAAAAmywCAAAAAAAAAAAAmywCAAAAAACcLAIAAAAAAAAAAACcLAIAAAAAAJ0sAgAAAAAAAAAAAJ0sAgAAAAAAniwCAAAAAAAAAAAAniwCAAAAAACfLAIAAAAAAAAAAACfLAIAAAAAAKAsAgAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmiwCAAAAAACaLAIAAAAAAAAAAAAAAPC/"
				],
				[
					64,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKAsAgAAAAAAoSwCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoCwCAAAAAACgLAIAAAAAAAAAAAAAAPC/"
				],
				[
					65,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAKEsAgAAAAAAoywCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoSwCAAAAAAChLAIAAAAAAAAAAAAAAPC/"
				],
				[
					66,
					1,
					"insert",
					{
						"characters": ">"
					},
					"AQAAAKIsAgAAAAAAoywCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoiwCAAAAAACiLAIAAAAAAAAAAAAAAPC/"
				],
				[
					68,
					1,
					"insert",
					{
						"characters": "\n\tpop:"
					},
					"CgAAAKQsAgAAAAAApSwCAAAAAAAAAAAApSwCAAAAAACpLAIAAAAAAAAAAACpLAIAAAAAAKssAgAAAAAAAAAAAKUsAgAAAAAApSwCAAAAAAAGAAAAICAgICAgpSwCAAAAAACpLAIAAAAAAAAAAACpLAIAAAAAAKssAgAAAAAAAAAAAKssAgAAAAAArCwCAAAAAAAAAAAArCwCAAAAAACtLAIAAAAAAAAAAACtLAIAAAAAAK4sAgAAAAAAAAAAAK4sAgAAAAAArywCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApCwCAAAAAACkLAIAAAAAAAAAAAAAAPC/"
				],
				[
					69,
					1,
					"insert",
					{
						"characters": " true"
					},
					"BQAAAK8sAgAAAAAAsCwCAAAAAAAAAAAAsCwCAAAAAACxLAIAAAAAAAAAAACxLAIAAAAAALIsAgAAAAAAAAAAALIsAgAAAAAAsywCAAAAAAAAAAAAsywCAAAAAAC0LAIAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArywCAAAAAACvLAIAAAAAAAAAAAAAAPC/"
				],
				[
					71,
					1,
					"ensure_newline_at_eof",
					null,
					"AQAAALQsAgAAAAAAtSwCAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtCwCAAAAAAC0LAIAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/taktk/components.py",
			"settings":
			{
				"buffer_size": 5723,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAALgAAAAAAAAAuQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuAAAAAAAAAC4AAAAAAAAAAAAAAAAAPC/"
				],
				[
					4,
					1,
					"insert",
					{
						"characters": " Ph"
					},
					"AwAAALkAAAAAAAAAugAAAAAAAAAAAAAAugAAAAAAAAC7AAAAAAAAAAAAAAC7AAAAAAAAALwAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuQAAAAAAAAC5AAAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"insert_dimensions",
					null,
					"AgAAALoAAAAAAAAAugAAAAAAAAACAAAAUGi6AAAAAAAAAMQAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAvAAAAAAAAAC8AAAAAAAAAAAAAAAAAPC/"
				],
				[
					8,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAhRYAAAAAAACFFgAAIiIiQmFzZSBtb2R1bGUgY29udGFpbmluZyB0YWt0ayBidWlsdC1pbiBjb21wb25lbnRzLiIiIgoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZmllbGQKZnJvbSB0a2ludGVyIGltcG9ydCBCb29sZWFuVmFyCmZyb20gdGtpbnRlciBpbXBvcnQgSW1hZ2UgYXMgVGtJbWFnZQpmcm9tIHRraW50ZXIgaW1wb3J0IFN0cmluZ1ZhciwgUGhvdG9JbWFnZQpmcm9tIHRraW50ZXIudHRrIGltcG9ydCBCdXR0b24sIENoZWNrYnV0dG9uLCBFbnRyeSwgRnJhbWUsIExhYmVsCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgT3B0aW9uYWwKCmZyb20gLiBpbXBvcnQgTmlsLCBOaWxUeXBlLCByZXNvbHZlCmZyb20gLiBpbXBvcnQgbWVkaWEsIHdyaXRlYWJsZSwgY29tcG9uZW50CgoKY2xhc3MgZnJhbWUoY29tcG9uZW50LlRrQ29tcG9uZW50KToKICAgIFdpZGdldCA9IEZyYW1lCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHBhZGRpbmc6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBib3JkZXJ3aWR0aDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHJlbGllZjogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHdpZHRoOiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgaGVpZ2h0OiBpbnQgfCBOaWxUeXBlID0gTmlsCgoKY2xhc3MgbGFiZWwoY29tcG9uZW50LlRrQ29tcG9uZW50KToKICAgIFdpZGdldCA9IExhYmVsCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHRleHQ6IHN0ciA9ICJmYWtlIgogICAgICAgIGZvcmVncm91bmQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBiYWNrZ3JvdW5kOiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgdGV4dF9jb2xvcjogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHBhZHg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgZm9udDogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGltYWdlOiBtZWRpYS5JbWFnZSB8IFRrSW1hZ2UgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgY29tcG91bmQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKCgpjbGFzcyBidXR0b24oY29tcG9uZW50LlRrQ29tcG9uZW50KToKICAgIFdpZGdldCA9IEJ1dHRvbgoKICAgIGNsYXNzIEF0dHJzOgogICAgICAgIHdlaWdodDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIHBvczogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGxheTogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJpbmQ6IGRpY3QgPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9ZGljdCkKICAgICAgICBib290c3R5bGU6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICB0ZXh0OiBzdHIgPSAiZmFrZSIKICAgICAgICBjb21tYW5kOiBDYWxsYWJsZSA9IGxhbWJkYTogTm9uZQogICAgICAgIHBhZHg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgZmc6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBiZzogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGltYWdlOiBtZWRpYS5JbWFnZSB8IFRrSW1hZ2UgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgY29tcG91bmQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBiYWNrZ3JvdW5kOiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgZm9yZWdyb3VuZDogc3RyIHwgTmlsVHlwZSA9IE5pbAoKCmNsYXNzIGVudHJ5KGNvbXBvbmVudC5Ua0NvbXBvbmVudCk6CiAgICBXaWRnZXQgPSBFbnRyeQogICAgX2F0dHJfaWdub3JlID0gKCJ0ZXh0IiwpCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYm9vdHN0eWxlOiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgdGV4dDogc3RyID0gImZha2UiCiAgICAgICAgcGFkeDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHBhZHk6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICB3aWR0aDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGZvbnQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBzaG93OiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQoKICAgIGRlZiBjcmVhdGUoc2VsZiwgcGFyZW50OiAiT3B0aW9uYWxbY29tcG9uZW50LkJhc2VDb21wb25lbnRdIiA9IE5vbmUpOgogICAgICAgIHN1cGVyKCkuY3JlYXRlKHBhcmVudCkKICAgICAgICBzZWxmLmNvbnRhaW5lclsidGV4dHZhcmlhYmxlIl0gPSBzZWxmLmF0dHJzLl9nZXRfd3JpdGVhYmxlKAogICAgICAgICAgICAidGV4dCIKICAgICAgICApLnN0cmluZ3ZhcgoKCmNsYXNzIGNoZWNrYnV0dG9uKGNvbXBvbmVudC5Ua0NvbXBvbmVudCk6CiAgICBXaWRnZXQgPSBDaGVja2J1dHRvbgogICAgX2F0dHJfaWdub3JlID0gKCJjaGVja2VkIiwpCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGNoZWNrZWQ6IGJvb2wgPSBGYWxzZQogICAgICAgIHBhZHg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgd2lkdGg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICB2YXJpYWJsZTogQm9vbGVhblZhciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBfaWdub3JlID0gKCJjaGVja2VkIiwpCgogICAgZGVmIGNyZWF0ZShzZWxmLCBwYXJlbnQ6ICJPcHRpb25hbFtjb21wb25lbnQuQmFzZUNvbXBvbmVudF0iID0gTm9uZSk6CiAgICAgICAgY29tcG9uZW50LkJhc2VDb21wb25lbnQuY3JlYXRlKHNlbGYpCiAgICAgICAgcGFyZW50ID0gcGFyZW50CiAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAqKnsKICAgICAgICAgICAgICAgIHNlbGYuY29uZl9hbGlhc3Nlc1trXTogcmVzb2x2ZSh2KQogICAgICAgICAgICAgICAgZm9yIGssIHYgaW4gdmFycyhzZWxmLmF0dHJzKS5pdGVtcygpCiAgICAgICAgICAgICAgICBpZiBrIGluIHNlbGYuY29uZl9hbGlhc3NlcyBhbmQgdiBpcyBub3QgTmlsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgInZhcmlhYmxlIiBub3QgaW4gcGFyYW1zOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYuYXR0cnMuY2hlY2tlZCwgd3JpdGVhYmxlLldyaXRlYWJsZSk6CiAgICAgICAgICAgICAgICBzZWxmLnZhcmlhYmxlID0gc2VsZi5hdHRycy5jaGVja2VkLmJvb2xlYW52YXIKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYudmFyaWFibGUgPSBCb29sZWFuVmFyKHZhbHVlPXNlbGYuYXR0cnMuY2hlY2tlZCkKICAgICAgICAgICAgcGFyYW1zWyJ2YXJpYWJsZSJdID0gc2VsZi52YXJpYWJsZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYudmFyaWFibGUgPSBwYXJhbXNbInZhcmlhYmxlIl0KICAgICAgICBzZWxmLmNvbnRhaW5lciA9IHNlbGYuV2lkZ2V0KAogICAgICAgICAgICBtYXN0ZXI9cGFyZW50LAogICAgICAgICAgICAqKnBhcmFtcywKICAgICAgICApCiAgICAgICAgc2VsZi5vdXRsZXQgPSBOb25lCiAgICAgICAgc2VsZi5pbml0X2dlb21ldHJ5KCkKICAgICAgICBzZWxmLm1ha2VfYmluZGluZ3MoKQoKCmNsYXNzIHNkb3duOgogICAgZnJvbSAuc2Rvd24gaW1wb3J0IExleGVkQ29kZSBhcyBjb2RlCiAgICBmcm9tIC5zZG93biBpbXBvcnQgU2Rvd25WaWV3ZXIgYXMgdmlldwoKCnRyeToKICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrQnV0dG9uLCBDVGtFbnRyeSwgQ1RrRnJhbWUsIENUa0xhYmVsCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHBhc3MKZWxzZToKCiAgICBjbGFzcyBjdGs6CiAgICAgICAgY2xhc3MgZnJhbWUoZnJhbWUpOgogICAgICAgICAgICBXaWRnZXQgPSBDVGtGcmFtZQoKICAgICAgICBjbGFzcyBsYWJlbChsYWJlbCk6CiAgICAgICAgICAgIFdpZGdldCA9IENUa0xhYmVsCgogICAgICAgICAgICBjbGFzcyBhdHRyczoKICAgICAgICAgICAgICAgIHRleHQ6IHN0ciA9ICJmYWtlIgogICAgICAgICAgICAgICAgZmdfY29sb3I6IHN0ciA9IE5pbAogICAgICAgICAgICAgICAgYmdfY29sb3I6IHN0ciA9IE5pbAogICAgICAgICAgICAgICAgdGV4dF9jb2xvcjogc3RyID0gTmlsCiAgICAgICAgICAgICAgICBwYWR4OiBpbnQgPSBOaWwKICAgICAgICAgICAgICAgIHBhZHk6IGludCA9IE5pbAogICAgICAgICAgICAgICAgZm9udDogc3RyID0gTmlsCgogICAgICAgIGNsYXNzIGJ1dHRvbihidXR0b24pOgogICAgICAgICAgICBXaWRnZXQgPSBDVGtCdXR0b24KCiAgICAgICAgY2xhc3MgZW50cnkoZW50cnkpOgogICAgICAgICAgICBjbGFzcyBBdHRyczoKICAgICAgICAgICAgICAgIHdlaWdodDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgICAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgICAgICAgICBsYXk6IGRpY3QgPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9ZGljdCkKICAgICAgICAgICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgICAgICAgICAgdGV4dDogc3RyID0gImZha2UiCiAgICAgICAgICAgICAgICBwYWR4OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICB3aWR0aDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgICAgICAgICAgZm9udDogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgICAgICAgICAgdGV4dHZhcmlhYmxlOiBTdHJpbmdWYXIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICBzaG93OiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICBiaW5kOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCgogICAgICAgICAgICBXaWRnZXQgPSBDVGtFbnRyeQo",
					"AQAAAAAAAAABAAAAxAAAAAAAAADEAAAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					1,
					"left_delete",
					null,
					"AQAAAKgFAAAAAAAAqAUAAAAAAAAfAAAAbWVkaWEuSW1hZ2UgfCBUa0ltYWdlIHwgTmlsVHlwZQ",
					"AQAAAAAAAAABAAAAqAUAAAAAAADHBQAAAAAAAAAAAAAAAPC/"
				],
				[
					20,
					1,
					"paste",
					null,
					"AQAAAKgFAAAAAAAAsgUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqAUAAAAAAACoBQAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAcBYAAAAAAABwFgAAIiIiQmFzZSBtb2R1bGUgY29udGFpbmluZyB0YWt0ayBidWlsdC1pbiBjb21wb25lbnRzLiIiIgoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZmllbGQKZnJvbSB0a2ludGVyIGltcG9ydCBCb29sZWFuVmFyCmZyb20gdGtpbnRlciBpbXBvcnQgSW1hZ2UgYXMgVGtJbWFnZQpmcm9tIHRraW50ZXIgaW1wb3J0IFN0cmluZ1ZhciwgUGhvdG9JbWFnZQpmcm9tIHRraW50ZXIudHRrIGltcG9ydCBCdXR0b24sIENoZWNrYnV0dG9uLCBFbnRyeSwgRnJhbWUsIExhYmVsCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgT3B0aW9uYWwKCmZyb20gLiBpbXBvcnQgTmlsLCBOaWxUeXBlLCByZXNvbHZlCmZyb20gLiBpbXBvcnQgbWVkaWEsIHdyaXRlYWJsZSwgY29tcG9uZW50CgoKY2xhc3MgZnJhbWUoY29tcG9uZW50LlRrQ29tcG9uZW50KToKICAgIFdpZGdldCA9IEZyYW1lCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHBhZGRpbmc6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBib3JkZXJ3aWR0aDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHJlbGllZjogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHdpZHRoOiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgaGVpZ2h0OiBpbnQgfCBOaWxUeXBlID0gTmlsCgoKY2xhc3MgbGFiZWwoY29tcG9uZW50LlRrQ29tcG9uZW50KToKICAgIFdpZGdldCA9IExhYmVsCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHRleHQ6IHN0ciA9ICJmYWtlIgogICAgICAgIGZvcmVncm91bmQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBiYWNrZ3JvdW5kOiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgdGV4dF9jb2xvcjogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHBhZHg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgZm9udDogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGltYWdlOiBQaG90b0ltYWdlID0gTmlsCiAgICAgICAgY29tcG91bmQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKCgpjbGFzcyBidXR0b24oY29tcG9uZW50LlRrQ29tcG9uZW50KToKICAgIFdpZGdldCA9IEJ1dHRvbgoKICAgIGNsYXNzIEF0dHJzOgogICAgICAgIHdlaWdodDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIHBvczogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGxheTogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJpbmQ6IGRpY3QgPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9ZGljdCkKICAgICAgICBib290c3R5bGU6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICB0ZXh0OiBzdHIgPSAiZmFrZSIKICAgICAgICBjb21tYW5kOiBDYWxsYWJsZSA9IGxhbWJkYTogTm9uZQogICAgICAgIHBhZHg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgZmc6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBiZzogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGltYWdlOiBtZWRpYS5JbWFnZSB8IFRrSW1hZ2UgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgY29tcG91bmQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBiYWNrZ3JvdW5kOiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgZm9yZWdyb3VuZDogc3RyIHwgTmlsVHlwZSA9IE5pbAoKCmNsYXNzIGVudHJ5KGNvbXBvbmVudC5Ua0NvbXBvbmVudCk6CiAgICBXaWRnZXQgPSBFbnRyeQogICAgX2F0dHJfaWdub3JlID0gKCJ0ZXh0IiwpCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYm9vdHN0eWxlOiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgdGV4dDogc3RyID0gImZha2UiCiAgICAgICAgcGFkeDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHBhZHk6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICB3aWR0aDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGZvbnQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBzaG93OiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQoKICAgIGRlZiBjcmVhdGUoc2VsZiwgcGFyZW50OiAiT3B0aW9uYWxbY29tcG9uZW50LkJhc2VDb21wb25lbnRdIiA9IE5vbmUpOgogICAgICAgIHN1cGVyKCkuY3JlYXRlKHBhcmVudCkKICAgICAgICBzZWxmLmNvbnRhaW5lclsidGV4dHZhcmlhYmxlIl0gPSBzZWxmLmF0dHJzLl9nZXRfd3JpdGVhYmxlKAogICAgICAgICAgICAidGV4dCIKICAgICAgICApLnN0cmluZ3ZhcgoKCmNsYXNzIGNoZWNrYnV0dG9uKGNvbXBvbmVudC5Ua0NvbXBvbmVudCk6CiAgICBXaWRnZXQgPSBDaGVja2J1dHRvbgogICAgX2F0dHJfaWdub3JlID0gKCJjaGVja2VkIiwpCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGNoZWNrZWQ6IGJvb2wgPSBGYWxzZQogICAgICAgIHBhZHg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgd2lkdGg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICB2YXJpYWJsZTogQm9vbGVhblZhciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBfaWdub3JlID0gKCJjaGVja2VkIiwpCgogICAgZGVmIGNyZWF0ZShzZWxmLCBwYXJlbnQ6ICJPcHRpb25hbFtjb21wb25lbnQuQmFzZUNvbXBvbmVudF0iID0gTm9uZSk6CiAgICAgICAgY29tcG9uZW50LkJhc2VDb21wb25lbnQuY3JlYXRlKHNlbGYpCiAgICAgICAgcGFyZW50ID0gcGFyZW50CiAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAqKnsKICAgICAgICAgICAgICAgIHNlbGYuY29uZl9hbGlhc3Nlc1trXTogcmVzb2x2ZSh2KQogICAgICAgICAgICAgICAgZm9yIGssIHYgaW4gdmFycyhzZWxmLmF0dHJzKS5pdGVtcygpCiAgICAgICAgICAgICAgICBpZiBrIGluIHNlbGYuY29uZl9hbGlhc3NlcyBhbmQgdiBpcyBub3QgTmlsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgInZhcmlhYmxlIiBub3QgaW4gcGFyYW1zOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYuYXR0cnMuY2hlY2tlZCwgd3JpdGVhYmxlLldyaXRlYWJsZSk6CiAgICAgICAgICAgICAgICBzZWxmLnZhcmlhYmxlID0gc2VsZi5hdHRycy5jaGVja2VkLmJvb2xlYW52YXIKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYudmFyaWFibGUgPSBCb29sZWFuVmFyKHZhbHVlPXNlbGYuYXR0cnMuY2hlY2tlZCkKICAgICAgICAgICAgcGFyYW1zWyJ2YXJpYWJsZSJdID0gc2VsZi52YXJpYWJsZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYudmFyaWFibGUgPSBwYXJhbXNbInZhcmlhYmxlIl0KICAgICAgICBzZWxmLmNvbnRhaW5lciA9IHNlbGYuV2lkZ2V0KAogICAgICAgICAgICBtYXN0ZXI9cGFyZW50LAogICAgICAgICAgICAqKnBhcmFtcywKICAgICAgICApCiAgICAgICAgc2VsZi5vdXRsZXQgPSBOb25lCiAgICAgICAgc2VsZi5pbml0X2dlb21ldHJ5KCkKICAgICAgICBzZWxmLm1ha2VfYmluZGluZ3MoKQoKCmNsYXNzIHNkb3duOgogICAgZnJvbSAuc2Rvd24gaW1wb3J0IExleGVkQ29kZSBhcyBjb2RlCiAgICBmcm9tIC5zZG93biBpbXBvcnQgU2Rvd25WaWV3ZXIgYXMgdmlldwoKCnRyeToKICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrQnV0dG9uLCBDVGtFbnRyeSwgQ1RrRnJhbWUsIENUa0xhYmVsCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHBhc3MKZWxzZToKCiAgICBjbGFzcyBjdGs6CiAgICAgICAgY2xhc3MgZnJhbWUoZnJhbWUpOgogICAgICAgICAgICBXaWRnZXQgPSBDVGtGcmFtZQoKICAgICAgICBjbGFzcyBsYWJlbChsYWJlbCk6CiAgICAgICAgICAgIFdpZGdldCA9IENUa0xhYmVsCgogICAgICAgICAgICBjbGFzcyBhdHRyczoKICAgICAgICAgICAgICAgIHRleHQ6IHN0ciA9ICJmYWtlIgogICAgICAgICAgICAgICAgZmdfY29sb3I6IHN0ciA9IE5pbAogICAgICAgICAgICAgICAgYmdfY29sb3I6IHN0ciA9IE5pbAogICAgICAgICAgICAgICAgdGV4dF9jb2xvcjogc3RyID0gTmlsCiAgICAgICAgICAgICAgICBwYWR4OiBpbnQgPSBOaWwKICAgICAgICAgICAgICAgIHBhZHk6IGludCA9IE5pbAogICAgICAgICAgICAgICAgZm9udDogc3RyID0gTmlsCgogICAgICAgIGNsYXNzIGJ1dHRvbihidXR0b24pOgogICAgICAgICAgICBXaWRnZXQgPSBDVGtCdXR0b24KCiAgICAgICAgY2xhc3MgZW50cnkoZW50cnkpOgogICAgICAgICAgICBjbGFzcyBBdHRyczoKICAgICAgICAgICAgICAgIHdlaWdodDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgICAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgICAgICAgICBsYXk6IGRpY3QgPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9ZGljdCkKICAgICAgICAgICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgICAgICAgICAgdGV4dDogc3RyID0gImZha2UiCiAgICAgICAgICAgICAgICBwYWR4OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICB3aWR0aDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgICAgICAgICAgZm9udDogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgICAgICAgICAgdGV4dHZhcmlhYmxlOiBTdHJpbmdWYXIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICBzaG93OiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICBiaW5kOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCgogICAgICAgICAgICBXaWRnZXQgPSBDVGtFbnRyeQo",
					"AQAAAAAAAAABAAAAsgUAAAAAAACyBQAAAAAAAAAAAAAAAPC/"
				],
				[
					41,
					1,
					"left_delete",
					null,
					"AQAAAO4HAAAAAAAA7gcAAAAAAAAfAAAAbWVkaWEuSW1hZ2UgfCBUa0ltYWdlIHwgTmlsVHlwZQ",
					"AQAAAAAAAAABAAAADQgAAAAAAADuBwAAAAAAAAAAAAAAAPC/"
				],
				[
					42,
					1,
					"paste",
					null,
					"AQAAAO4HAAAAAAAA+AcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7gcAAAAAAADuBwAAAAAAAAAAAAAAAPC/"
				],
				[
					48,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAWxYAAAAAAABbFgAAIiIiQmFzZSBtb2R1bGUgY29udGFpbmluZyB0YWt0ayBidWlsdC1pbiBjb21wb25lbnRzLiIiIgoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZmllbGQKZnJvbSB0a2ludGVyIGltcG9ydCBCb29sZWFuVmFyCmZyb20gdGtpbnRlciBpbXBvcnQgSW1hZ2UgYXMgVGtJbWFnZQpmcm9tIHRraW50ZXIgaW1wb3J0IFN0cmluZ1ZhciwgUGhvdG9JbWFnZQpmcm9tIHRraW50ZXIudHRrIGltcG9ydCBCdXR0b24sIENoZWNrYnV0dG9uLCBFbnRyeSwgRnJhbWUsIExhYmVsCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgT3B0aW9uYWwKCmZyb20gLiBpbXBvcnQgTmlsLCBOaWxUeXBlLCByZXNvbHZlCmZyb20gLiBpbXBvcnQgbWVkaWEsIHdyaXRlYWJsZSwgY29tcG9uZW50CgoKY2xhc3MgZnJhbWUoY29tcG9uZW50LlRrQ29tcG9uZW50KToKICAgIFdpZGdldCA9IEZyYW1lCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHBhZGRpbmc6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBib3JkZXJ3aWR0aDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHJlbGllZjogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHdpZHRoOiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgaGVpZ2h0OiBpbnQgfCBOaWxUeXBlID0gTmlsCgoKY2xhc3MgbGFiZWwoY29tcG9uZW50LlRrQ29tcG9uZW50KToKICAgIFdpZGdldCA9IExhYmVsCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHRleHQ6IHN0ciA9ICJmYWtlIgogICAgICAgIGZvcmVncm91bmQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBiYWNrZ3JvdW5kOiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgdGV4dF9jb2xvcjogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHBhZHg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgZm9udDogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGltYWdlOiBQaG90b0ltYWdlID0gTmlsCiAgICAgICAgY29tcG91bmQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKCgpjbGFzcyBidXR0b24oY29tcG9uZW50LlRrQ29tcG9uZW50KToKICAgIFdpZGdldCA9IEJ1dHRvbgoKICAgIGNsYXNzIEF0dHJzOgogICAgICAgIHdlaWdodDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIHBvczogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGxheTogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJpbmQ6IGRpY3QgPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9ZGljdCkKICAgICAgICBib290c3R5bGU6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICB0ZXh0OiBzdHIgPSAiZmFrZSIKICAgICAgICBjb21tYW5kOiBDYWxsYWJsZSA9IGxhbWJkYTogTm9uZQogICAgICAgIHBhZHg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgZmc6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBiZzogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGltYWdlOiBQaG90b0ltYWdlID0gTmlsCiAgICAgICAgY29tcG91bmQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBiYWNrZ3JvdW5kOiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgZm9yZWdyb3VuZDogc3RyIHwgTmlsVHlwZSA9IE5pbAoKCmNsYXNzIGVudHJ5KGNvbXBvbmVudC5Ua0NvbXBvbmVudCk6CiAgICBXaWRnZXQgPSBFbnRyeQogICAgX2F0dHJfaWdub3JlID0gKCJ0ZXh0IiwpCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYm9vdHN0eWxlOiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgdGV4dDogc3RyID0gImZha2UiCiAgICAgICAgcGFkeDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgIHBhZHk6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICB3aWR0aDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGZvbnQ6IHN0ciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBzaG93OiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQoKICAgIGRlZiBjcmVhdGUoc2VsZiwgcGFyZW50OiAiT3B0aW9uYWxbY29tcG9uZW50LkJhc2VDb21wb25lbnRdIiA9IE5vbmUpOgogICAgICAgIHN1cGVyKCkuY3JlYXRlKHBhcmVudCkKICAgICAgICBzZWxmLmNvbnRhaW5lclsidGV4dHZhcmlhYmxlIl0gPSBzZWxmLmF0dHJzLl9nZXRfd3JpdGVhYmxlKAogICAgICAgICAgICAidGV4dCIKICAgICAgICApLnN0cmluZ3ZhcgoKCmNsYXNzIGNoZWNrYnV0dG9uKGNvbXBvbmVudC5Ua0NvbXBvbmVudCk6CiAgICBXaWRnZXQgPSBDaGVja2J1dHRvbgogICAgX2F0dHJfaWdub3JlID0gKCJjaGVja2VkIiwpCgogICAgY2xhc3MgQXR0cnM6CiAgICAgICAgd2VpZ2h0OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgbGF5OiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgYmluZDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgIGNoZWNrZWQ6IGJvb2wgPSBGYWxzZQogICAgICAgIHBhZHg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgd2lkdGg6IGludCB8IE5pbFR5cGUgPSBOaWwKICAgICAgICB2YXJpYWJsZTogQm9vbGVhblZhciB8IE5pbFR5cGUgPSBOaWwKICAgICAgICBfaWdub3JlID0gKCJjaGVja2VkIiwpCgogICAgZGVmIGNyZWF0ZShzZWxmLCBwYXJlbnQ6ICJPcHRpb25hbFtjb21wb25lbnQuQmFzZUNvbXBvbmVudF0iID0gTm9uZSk6CiAgICAgICAgY29tcG9uZW50LkJhc2VDb21wb25lbnQuY3JlYXRlKHNlbGYpCiAgICAgICAgcGFyZW50ID0gcGFyZW50CiAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAqKnsKICAgICAgICAgICAgICAgIHNlbGYuY29uZl9hbGlhc3Nlc1trXTogcmVzb2x2ZSh2KQogICAgICAgICAgICAgICAgZm9yIGssIHYgaW4gdmFycyhzZWxmLmF0dHJzKS5pdGVtcygpCiAgICAgICAgICAgICAgICBpZiBrIGluIHNlbGYuY29uZl9hbGlhc3NlcyBhbmQgdiBpcyBub3QgTmlsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgInZhcmlhYmxlIiBub3QgaW4gcGFyYW1zOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYuYXR0cnMuY2hlY2tlZCwgd3JpdGVhYmxlLldyaXRlYWJsZSk6CiAgICAgICAgICAgICAgICBzZWxmLnZhcmlhYmxlID0gc2VsZi5hdHRycy5jaGVja2VkLmJvb2xlYW52YXIKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHNlbGYudmFyaWFibGUgPSBCb29sZWFuVmFyKHZhbHVlPXNlbGYuYXR0cnMuY2hlY2tlZCkKICAgICAgICAgICAgcGFyYW1zWyJ2YXJpYWJsZSJdID0gc2VsZi52YXJpYWJsZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYudmFyaWFibGUgPSBwYXJhbXNbInZhcmlhYmxlIl0KICAgICAgICBzZWxmLmNvbnRhaW5lciA9IHNlbGYuV2lkZ2V0KAogICAgICAgICAgICBtYXN0ZXI9cGFyZW50LAogICAgICAgICAgICAqKnBhcmFtcywKICAgICAgICApCiAgICAgICAgc2VsZi5vdXRsZXQgPSBOb25lCiAgICAgICAgc2VsZi5pbml0X2dlb21ldHJ5KCkKICAgICAgICBzZWxmLm1ha2VfYmluZGluZ3MoKQoKCmNsYXNzIHNkb3duOgogICAgZnJvbSAuc2Rvd24gaW1wb3J0IExleGVkQ29kZSBhcyBjb2RlCiAgICBmcm9tIC5zZG93biBpbXBvcnQgU2Rvd25WaWV3ZXIgYXMgdmlldwoKCnRyeToKICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrQnV0dG9uLCBDVGtFbnRyeSwgQ1RrRnJhbWUsIENUa0xhYmVsCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHBhc3MKZWxzZToKCiAgICBjbGFzcyBjdGs6CiAgICAgICAgY2xhc3MgZnJhbWUoZnJhbWUpOgogICAgICAgICAgICBXaWRnZXQgPSBDVGtGcmFtZQoKICAgICAgICBjbGFzcyBsYWJlbChsYWJlbCk6CiAgICAgICAgICAgIFdpZGdldCA9IENUa0xhYmVsCgogICAgICAgICAgICBjbGFzcyBhdHRyczoKICAgICAgICAgICAgICAgIHRleHQ6IHN0ciA9ICJmYWtlIgogICAgICAgICAgICAgICAgZmdfY29sb3I6IHN0ciA9IE5pbAogICAgICAgICAgICAgICAgYmdfY29sb3I6IHN0ciA9IE5pbAogICAgICAgICAgICAgICAgdGV4dF9jb2xvcjogc3RyID0gTmlsCiAgICAgICAgICAgICAgICBwYWR4OiBpbnQgPSBOaWwKICAgICAgICAgICAgICAgIHBhZHk6IGludCA9IE5pbAogICAgICAgICAgICAgICAgZm9udDogc3RyID0gTmlsCgogICAgICAgIGNsYXNzIGJ1dHRvbihidXR0b24pOgogICAgICAgICAgICBXaWRnZXQgPSBDVGtCdXR0b24KCiAgICAgICAgY2xhc3MgZW50cnkoZW50cnkpOgogICAgICAgICAgICBjbGFzcyBBdHRyczoKICAgICAgICAgICAgICAgIHdlaWdodDogZGljdCA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgICAgICAgICAgICAgcG9zOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICAgICAgICAgICAgICBsYXk6IGRpY3QgPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9ZGljdCkKICAgICAgICAgICAgICAgIGJvb3RzdHlsZTogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgICAgICAgICAgdGV4dDogc3RyID0gImZha2UiCiAgICAgICAgICAgICAgICBwYWR4OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICBwYWR5OiBpbnQgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICB3aWR0aDogaW50IHwgTmlsVHlwZSA9IE5pbAogICAgICAgICAgICAgICAgZm9udDogc3RyIHwgTmlsVHlwZSA9IE5pbAogICAgICAgICAgICAgICAgdGV4dHZhcmlhYmxlOiBTdHJpbmdWYXIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICBzaG93OiBzdHIgfCBOaWxUeXBlID0gTmlsCiAgICAgICAgICAgICAgICBiaW5kOiBkaWN0ID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCgogICAgICAgICAgICBXaWRnZXQgPSBDVGtFbnRyeQo",
					"AQAAAAAAAAABAAAAoQUAAAAAAACmBQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "examples/todoapp/main.py",
			"settings":
			{
				"buffer_size": 172,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAAG8AAAAAAAAAcQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfQAAAAAAAAB9AAAAAAAAAAAAAAAAAPC/"
				],
				[
					5,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAAIoAAAAAAAAAigAAAAAAAAACAAAAIyA",
					"AQAAAAAAAAABAAAAmgAAAAAAAACaAAAAAAAAAAAAAAAAAFhA"
				],
				[
					8,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAtQAAAAAAAAC1AAAAaW1wb3J0IHN5cwoKZnJvbSB0b2RvYXBwLnRha3RrIGltcG9ydCBBcHBsaWNhdGlvbgoKZW50cnkgPSAiLyIKCmlmIGxlbihzeXMuYXJndikgPiAxOgogICAgZW50cnkgPSBzeXMuYXJndlsxXQoKIyBBcHBsaWNhdGlvbigpLnJ1bihlbnRyeSkKQXBwbGljYXRpb24oKS5yZWRpcmVjdF90b19zaW5nbGV0b24oZW50cnkpCg",
					"AQAAAAAAAAABAAAAmAAAAAAAAACYAAAAAAAAAAAAAAAAAPC/"
				],
				[
					24,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAAIoAAAAAAAAAjAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAigAAAAAAAACKAAAAAAAAAAAAAAAAAAAA"
				],
				[
					26,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAAG8AAAAAAAAAbwAAAAAAAAACAAAAIyA",
					"AQAAAAAAAAABAAAAcQAAAAAAAABxAAAAAAAAAAAAAAAAAChA"
				],
				[
					29,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAtQAAAAAAAAC1AAAAaW1wb3J0IHN5cwoKZnJvbSB0b2RvYXBwLnRha3RrIGltcG9ydCBBcHBsaWNhdGlvbgoKZW50cnkgPSAiLyIKCmlmIGxlbihzeXMuYXJndikgPiAxOgogICAgZW50cnkgPSBzeXMuYXJndlsxXQoKQXBwbGljYXRpb24oKS5ydW4oZW50cnkpCiMgQXBwbGljYXRpb24oKS5yZWRpcmVjdF90b19zaW5nbGV0b24oZW50cnkpCg",
					"AQAAAAAAAAABAAAAbwAAAAAAAABvAAAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"left_delete",
					null,
					"AQAAAAAAAAAAAAAAAAAAAAAAAAALAAAAaW1wb3J0IHN5cwo",
					"AQAAAAAAAAABAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAPC/"
				],
				[
					42,
					1,
					"left_delete",
					null,
					"AQAAADUAAAAAAAAANQAAAAAAAAAuAAAAaWYgbGVuKHN5cy5hcmd2KSA+IDE6CiAgICBlbnRyeSA9IHN5cy5hcmd2WzFdCg",
					"AQAAAAAAAAABAAAANQAAAAAAAABjAAAAAAAAAAAAAAAAAPC/"
				],
				[
					45,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAewAAAAAAAAB8AAAACmZyb20gdG9kb2FwcC50YWt0ayBpbXBvcnQgQXBwbGljYXRpb24KCmVudHJ5ID0gIi8iCgoKQXBwbGljYXRpb24oKS5ydW4oZW50cnkpCiMgQXBwbGljYXRpb24oKS5yZWRpcmVjdF90b19zaW5nbGV0b24oZW50cnkpCg",
					"AQAAAAAAAAABAAAANQAAAAAAAAA1AAAAAAAAAAAAAAAAAPC/"
				],
				[
					55,
					1,
					"insert",
					{
						"characters": "print"
					},
					"BQAAADQAAAAAAAAANQAAAAAAAAAAAAAANQAAAAAAAAA2AAAAAAAAAAAAAAA2AAAAAAAAADcAAAAAAAAAAAAAADcAAAAAAAAAOAAAAAAAAAAAAAAAOAAAAAAAAAA5AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANAAAAAAAAAA0AAAAAAAAAAAAAAAAAGJA"
				],
				[
					56,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAADkAAAAAAAAAOwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOQAAAAAAAAA5AAAAAAAAAAAAAAAAAPC/"
				],
				[
					58,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAADoAAAAAAAAAPAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOgAAAAAAAAA6AAAAAAAAAAAAAAAAAPC/"
				],
				[
					59,
					1,
					"insert",
					{
						"characters": "running"
					},
					"BwAAADsAAAAAAAAAPAAAAAAAAAAAAAAAPAAAAAAAAAA9AAAAAAAAAAAAAAA9AAAAAAAAAD4AAAAAAAAAAAAAAD4AAAAAAAAAPwAAAAAAAAAAAAAAPwAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAEEAAAAAAAAAAAAAAEEAAAAAAAAAQgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOwAAAAAAAAA7AAAAAAAAAAAAAAAAAPC/"
				],
				[
					62,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAiwAAAAAAAACLAAAAZnJvbSB0b2RvYXBwLnRha3RrIGltcG9ydCBBcHBsaWNhdGlvbgoKZW50cnkgPSAiLyIKCnByaW50KCJydW5uaW5nIikKQXBwbGljYXRpb24oKS5ydW4oZW50cnkpCiMgQXBwbGljYXRpb24oKS5yZWRpcmVjdF90b19zaW5nbGV0b24oZW50cnkpCg",
					"AQAAAAAAAAABAAAAQgAAAAAAAABCAAAAAAAAAAAAAAAAAPC/"
				],
				[
					64,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFVA"
				],
				[
					66,
					1,
					"insert",
					{
						"characters": "print"
					},
					"BQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAACAAAAAAAAAAAAAAACAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAFAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
				],
				[
					67,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAAUAAAAAAAAABwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABQAAAAAAAAAFAAAAAAAAAAAAAAAAAPC/"
				],
				[
					69,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAAYAAAAAAAAACAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABgAAAAAAAAAGAAAAAAAAAAAAAAAAAPC/"
				],
				[
					70,
					1,
					"insert",
					{
						"characters": "running"
					},
					"BwAAAAcAAAAAAAAACAAAAAAAAAAAAAAACAAAAAAAAAAJAAAAAAAAAAAAAAAJAAAAAAAAAAoAAAAAAAAAAAAAAAoAAAAAAAAACwAAAAAAAAAAAAAACwAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAA0AAAAAAAAAAAAAAA0AAAAAAAAADgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABwAAAAAAAAAHAAAAAAAAAAAAAAAAAPC/"
				],
				[
					73,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAnAAAAAAAAACcAAAAcHJpbnQoInJ1bm5pbmciKQpmcm9tIHRvZG9hcHAudGFrdGsgaW1wb3J0IEFwcGxpY2F0aW9uCgplbnRyeSA9ICIvIgoKcHJpbnQoInJ1bm5pbmciKQpBcHBsaWNhdGlvbigpLnJ1bihlbnRyeSkKIyBBcHBsaWNhdGlvbigpLnJlZGlyZWN0X3RvX3NpbmdsZXRvbihlbnRyeSkK",
					"AQAAAAAAAAABAAAADgAAAAAAAAAOAAAAAAAAAAAAAAAAAPC/"
				],
				[
					78,
					1,
					"insert",
					{
						"characters": "\nimport"
					},
					"BwAAABAAAAAAAAAAEQAAAAAAAAAAAAAAEQAAAAAAAAASAAAAAAAAAAAAAAASAAAAAAAAABMAAAAAAAAAAAAAABMAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAVAAAAAAAAAAAAAAAVAAAAAAAAABYAAAAAAAAAAAAAABYAAAAAAAAAFwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAPC/"
				],
				[
					79,
					1,
					"insert",
					{
						"characters": " todo"
					},
					"BQAAABcAAAAAAAAAGAAAAAAAAAAAAAAAGAAAAAAAAAAZAAAAAAAAAAAAAAAZAAAAAAAAABoAAAAAAAAAAAAAABoAAAAAAAAAGwAAAAAAAAAAAAAAGwAAAAAAAAAcAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFwAAAAAAAAAXAAAAAAAAAAAAAAAAAPC/"
				],
				[
					80,
					1,
					"insert",
					{
						"characters": "app"
					},
					"AwAAABwAAAAAAAAAHQAAAAAAAAAAAAAAHQAAAAAAAAAeAAAAAAAAAAAAAAAeAAAAAAAAAB8AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHAAAAAAAAAAcAAAAAAAAAAAAAAAAAPC/"
				],
				[
					81,
					1,
					"insert",
					{
						"characters": "\nprint"
					},
					"BgAAAB8AAAAAAAAAIAAAAAAAAAAAAAAAIAAAAAAAAAAhAAAAAAAAAAAAAAAhAAAAAAAAACIAAAAAAAAAAAAAACIAAAAAAAAAIwAAAAAAAAAAAAAAIwAAAAAAAAAkAAAAAAAAAAAAAAAkAAAAAAAAACUAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHwAAAAAAAAAfAAAAAAAAAAAAAAAAAPC/"
				],
				[
					82,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAACUAAAAAAAAAJwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJQAAAAAAAAAlAAAAAAAAAAAAAAAAAPC/"
				],
				[
					84,
					1,
					"insert",
					{
						"characters": "toto"
					},
					"BAAAACYAAAAAAAAAJwAAAAAAAAAAAAAAJwAAAAAAAAAoAAAAAAAAAAAAAAAoAAAAAAAAACkAAAAAAAAAAAAAACkAAAAAAAAAKgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJgAAAAAAAAAmAAAAAAAAAAAAAAAAAPC/"
				],
				[
					85,
					2,
					"left_delete",
					null,
					"AgAAACkAAAAAAAAAKQAAAAAAAAABAAAAbygAAAAAAAAAKAAAAAAAAAABAAAAdA",
					"AQAAAAAAAAABAAAAKgAAAAAAAAAqAAAAAAAAAAAAAAAAAPC/"
				],
				[
					86,
					1,
					"insert",
					{
						"characters": "doapp.__fil"
					},
					"CwAAACgAAAAAAAAAKQAAAAAAAAAAAAAAKQAAAAAAAAAqAAAAAAAAAAAAAAAqAAAAAAAAACsAAAAAAAAAAAAAACsAAAAAAAAALAAAAAAAAAAAAAAALAAAAAAAAAAtAAAAAAAAAAAAAAAtAAAAAAAAAC4AAAAAAAAAAAAAAC4AAAAAAAAALwAAAAAAAAAAAAAALwAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADEAAAAAAAAAAAAAADEAAAAAAAAAMgAAAAAAAAAAAAAAMgAAAAAAAAAzAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKAAAAAAAAAAoAAAAAAAAAAAAAAAAAPC/"
				],
				[
					87,
					1,
					"insert",
					{
						"characters": "e__"
					},
					"AwAAADMAAAAAAAAANAAAAAAAAAAAAAAANAAAAAAAAAA1AAAAAAAAAAAAAAA1AAAAAAAAADYAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMwAAAAAAAAAzAAAAAAAAAAAAAAAAAPC/"
				],
				[
					90,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAxAAAAAAAAADDAAAAcHJpbnQoInJ1bm5pbmciKQppbXBvcnQgdG9kb2FwcApwcmludCh0b2RvYXBwLl9fZmlsZV9fKQpmcm9tIHRvZG9hcHAudGFrdGsgaW1wb3J0IEFwcGxpY2F0aW9uCgplbnRyeSA9ICIvIgoKcHJpbnQoInJ1bm5pbmciKQpBcHBsaWNhdGlvbigpLnJ1bihlbnRyeSkKIyBBcHBsaWNhdGlvbigpLnJlZGlyZWN0X3RvX3NpbmdsZXRvbihlbnRyeSkK",
					"AQAAAAAAAAABAAAANgAAAAAAAAA2AAAAAAAAAAAAAAAAAPC/"
				],
				[
					93,
					1,
					"left_delete",
					null,
					"AQAAACEAAAAAAAAAIQAAAAAAAAAYAAAAcHJpbnQodG9kb2FwcC5fX2ZpbGVfXykK",
					"AQAAAAAAAAABAAAAIQAAAAAAAAA5AAAAAAAAAAAAAAAAAPC/"
				],
				[
					96,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAArAAAAAAAAACsAAAAcHJpbnQoInJ1bm5pbmciKQppbXBvcnQgdG9kb2FwcAoKZnJvbSB0b2RvYXBwLnRha3RrIGltcG9ydCBBcHBsaWNhdGlvbgoKZW50cnkgPSAiLyIKCnByaW50KCJydW5uaW5nIikKQXBwbGljYXRpb24oKS5ydW4oZW50cnkpCiMgQXBwbGljYXRpb24oKS5yZWRpcmVjdF90b19zaW5nbGV0b24oZW50cnkpCg",
					"AQAAAAAAAAABAAAAIQAAAAAAAAAhAAAAAAAAAAAAAAAAAPC/"
				],
				[
					107,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAArAAAAAAAAACsAAAAcHJpbnQoInJ1bm5pbmciKQppbXBvcnQgdG9kb2FwcAoKZnJvbSB0b2RvYXBwLnRha3RrIGltcG9ydCBBcHBsaWNhdGlvbgoKZW50cnkgPSAiLyIKCnByaW50KCJydW5uaW5nIikKQXBwbGljYXRpb24oKS5ydW4oZW50cnkpCiMgQXBwbGljYXRpb24oKS5yZWRpcmVjdF90b19zaW5nbGV0b24oZW50cnkpCg",
					"AQAAAAAAAAABAAAAYwAAAAAAAABjAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "lib/python3.12/site-packages/pyoload/__init__.py",
			"settings":
			{
				"buffer_size": 29490,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "examples/todoapp/todoapp/pages/__init__.py",
			"settings":
			{
				"buffer_size": 1149,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					5,
					1,
					"insert",
					{
						"characters": "d"
					},
					"AQAAAKsAAAAAAAAArAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqwAAAAAAAACrAAAAAAAAAAAAAAAAAEVA"
				],
				[
					9,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAATQQAAAAAAABLBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCmZyb20gdGFrdGsucGFnZSBpbXBvcnQgcmVnaXN0ZXJfdXJscGF0dGVybgoKZnJvbSAuLmFkbWluIGltcG9ydCBVc2VyCmZyb20gLiBpbXBvcnQgdG9kb3MKZAoKY2xhc3MgSW5kZXgoQ29tcG9uZW50KToKICAgIHIiIiIKICAgIFxmcmFtZSBwYWRkaW5nPTAgd2VpZ2h0Ong9JzA6NScgd2VpZ2h0Onk9JzA6NScKICAgICAgICBcZnJhbWUgcG9zOmdyaWQ9MCwxICBwYWRkaW5nPTUgcG9zOnN0aWNreT0nJwogICAgICAgICAgICBcc2Rvd24udmlldyB0ZXh0PVtwYWdlcy5pbmRleC53ZWxjb21lXSB3aWR0aD0xMTAgc2Nyb2xsYWJsZT1GYWxzZSBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAhaWYgVXNlci5pc19sb2dpbigpCiAgICAgICAgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PVtwYWdlcy5pbmRleC5uZXh0XSBwb3M6c3RpY2t5PSdzZScgY29tbWFuZD17Z3RfbmV4dH0KICAgICAgICAhaWYgbm90IFVzZXIuaXNfbG9naW4oKQogICAgICAgICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubG9naW5dIHBvczpzdGlja3k9J3NlJyBjb21tYW5kPXtndF9sb2dpbn0KICAgICIiIgoKICAgIGRlZiBndF9uZXh0KHNlbGYpOgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIGRlZiBndF9sb2dpbihzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInNpZ24iLCAic2lnbmluIiwgcmVkaXJlY3Q9InRvZG9zIikKCiAgICBVc2VyID0gVXNlcgoKCmRlZiBkZWZhdWx0KHN0b3JlLCAvLCAqKnBhcmFtcyk6CiAgICByZXR1cm4gSW5kZXgoKQoKCkByZWdpc3Rlcl91cmxwYXR0ZXJuKAogICAgciJbXGRhLWZdezh9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezEyfSIsCiAgICBwb3NpdGlvbj0wLAopCmRlZiB1c2VyKHV1aWQpOgogICAgcmV0dXJuIFVzZXIuZnJvbV91dWlkKHV1aWQpCg",
					"AQAAAAAAAAABAAAAqwAAAAAAAACsAAAAAAAAAAAAAAAAAPC/"
				],
				[
					13,
					2,
					"left_delete",
					null,
					"AgAAAKwAAAAAAAAArAAAAAAAAAABAAAAZKsAAAAAAAAAqwAAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAArQAAAAAAAACtAAAAAAAAAAAAAAAAAPC/"
				],
				[
					16,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAASgQAAAAAAABLBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCmZyb20gdGFrdGsucGFnZSBpbXBvcnQgcmVnaXN0ZXJfdXJscGF0dGVybgoKZnJvbSAuLmFkbWluIGltcG9ydCBVc2VyCmZyb20gLiBpbXBvcnQgdG9kb3MKCgoKY2xhc3MgSW5kZXgoQ29tcG9uZW50KToKICAgIHIiIiIKICAgIFxmcmFtZSBwYWRkaW5nPTAgd2VpZ2h0Ong9JzA6NScgd2VpZ2h0Onk9JzA6NScKICAgICAgICBcZnJhbWUgcG9zOmdyaWQ9MCwxICBwYWRkaW5nPTUgcG9zOnN0aWNreT0nJwogICAgICAgICAgICBcc2Rvd24udmlldyB0ZXh0PVtwYWdlcy5pbmRleC53ZWxjb21lXSB3aWR0aD0xMTAgc2Nyb2xsYWJsZT1GYWxzZSBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAhaWYgVXNlci5pc19sb2dpbigpCiAgICAgICAgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PVtwYWdlcy5pbmRleC5uZXh0XSBwb3M6c3RpY2t5PSdzZScgY29tbWFuZD17Z3RfbmV4dH0KICAgICAgICAhaWYgbm90IFVzZXIuaXNfbG9naW4oKQogICAgICAgICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubG9naW5dIHBvczpzdGlja3k9J3NlJyBjb21tYW5kPXtndF9sb2dpbn0KICAgICIiIgoKICAgIGRlZiBndF9uZXh0KHNlbGYpOgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIGRlZiBndF9sb2dpbihzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInNpZ24iLCAic2lnbmluIiwgcmVkaXJlY3Q9InRvZG9zIikKCiAgICBVc2VyID0gVXNlcgoKCmRlZiBkZWZhdWx0KHN0b3JlLCAvLCAqKnBhcmFtcyk6CiAgICByZXR1cm4gSW5kZXgoKQoKCkByZWdpc3Rlcl91cmxwYXR0ZXJuKAogICAgciJbXGRhLWZdezh9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezEyfSIsCiAgICBwb3NpdGlvbj0wLAopCmRlZiB1c2VyKHV1aWQpOgogICAgcmV0dXJuIFVzZXIuZnJvbV91dWlkKHV1aWQpCg",
					"AQAAAAAAAAABAAAAqwAAAAAAAACrAAAAAAAAAAAAAAAAAPC/"
				],
				[
					18,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
				],
				[
					20,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
				],
				[
					23,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAATAQAAAAAAABMBAAAcwpmcm9tIHRha3RrLmNvbXBvbmVudCBpbXBvcnQgQ29tcG9uZW50CmZyb20gdGFrdGsubm90aWZpY2F0aW9uIGltcG9ydCBOb3RpZmljYXRpb24KZnJvbSB0YWt0ay5wYWdlIGltcG9ydCByZWdpc3Rlcl91cmxwYXR0ZXJuCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKZnJvbSAuIGltcG9ydCB0b2RvcwoKCmNsYXNzIEluZGV4KENvbXBvbmVudCk6CiAgICByIiIiCiAgICBcZnJhbWUgcGFkZGluZz0wIHdlaWdodDp4PScwOjUnIHdlaWdodDp5PScwOjUnCiAgICAgICAgXGZyYW1lIHBvczpncmlkPTAsMSAgcGFkZGluZz01IHBvczpzdGlja3k9JycKICAgICAgICAgICAgXHNkb3duLnZpZXcgdGV4dD1bcGFnZXMuaW5kZXgud2VsY29tZV0gd2lkdGg9MTEwIHNjcm9sbGFibGU9RmFsc2UgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgIWlmIFVzZXIuaXNfbG9naW4oKQogICAgICAgICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubmV4dF0gcG9zOnN0aWNreT0nc2UnIGNvbW1hbmQ9e2d0X25leHR9CiAgICAgICAgIWlmIG5vdCBVc2VyLmlzX2xvZ2luKCkKICAgICAgICAgICAgXGN0ay5idXR0b24gcG9zOmdyaWQ9MCwyIHRleHQ9W3BhZ2VzLmluZGV4LmxvZ2luXSBwb3M6c3RpY2t5PSdzZScgY29tbWFuZD17Z3RfbG9naW59CiAgICAiIiIKCiAgICBkZWYgZ3RfbmV4dChzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInRvZG9zIikKCiAgICBkZWYgZ3RfbG9naW4oc2VsZik6CiAgICAgICAgaW1wb3J0IHRha3RrCgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJzaWduIiwgInNpZ25pbiIsIHJlZGlyZWN0PSJ0b2RvcyIpCgogICAgVXNlciA9IFVzZXIKCgpkZWYgZGVmYXVsdChzdG9yZSwgLywgKipwYXJhbXMpOgogICAgcmV0dXJuIEluZGV4KCkKCgpAcmVnaXN0ZXJfdXJscGF0dGVybigKICAgIHIiW1xkYS1mXXs4fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXsxMn0iLAogICAgcG9zaXRpb249MCwKKQpkZWYgdXNlcih1dWlkKToKICAgIHJldHVybiBVc2VyLmZyb21fdXVpZCh1dWlkKQo",
					"AQAAAAAAAAABAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAPC/"
				],
				[
					25,
					2,
					"swap_line_down",
					null,
					"BAAAACgAAAAAAAAAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAABzClQAAAAAAAAAVgAAAAAAAAAAAAAAJgAAAAAAAAAmAAAAAAAAAAIAAABzCg",
					"AQAAAAAAAAABAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAPC/"
				],
				[
					28,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAATQQAAAAAAABMBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCnMKZnJvbSB0YWt0ay5wYWdlIGltcG9ydCByZWdpc3Rlcl91cmxwYXR0ZXJuCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKZnJvbSAuIGltcG9ydCB0b2RvcwoKCmNsYXNzIEluZGV4KENvbXBvbmVudCk6CiAgICByIiIiCiAgICBcZnJhbWUgcGFkZGluZz0wIHdlaWdodDp4PScwOjUnIHdlaWdodDp5PScwOjUnCiAgICAgICAgXGZyYW1lIHBvczpncmlkPTAsMSAgcGFkZGluZz01IHBvczpzdGlja3k9JycKICAgICAgICAgICAgXHNkb3duLnZpZXcgdGV4dD1bcGFnZXMuaW5kZXgud2VsY29tZV0gd2lkdGg9MTEwIHNjcm9sbGFibGU9RmFsc2UgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgIWlmIFVzZXIuaXNfbG9naW4oKQogICAgICAgICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubmV4dF0gcG9zOnN0aWNreT0nc2UnIGNvbW1hbmQ9e2d0X25leHR9CiAgICAgICAgIWlmIG5vdCBVc2VyLmlzX2xvZ2luKCkKICAgICAgICAgICAgXGN0ay5idXR0b24gcG9zOmdyaWQ9MCwyIHRleHQ9W3BhZ2VzLmluZGV4LmxvZ2luXSBwb3M6c3RpY2t5PSdzZScgY29tbWFuZD17Z3RfbG9naW59CiAgICAiIiIKCiAgICBkZWYgZ3RfbmV4dChzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInRvZG9zIikKCiAgICBkZWYgZ3RfbG9naW4oc2VsZik6CiAgICAgICAgaW1wb3J0IHRha3RrCgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJzaWduIiwgInNpZ25pbiIsIHJlZGlyZWN0PSJ0b2RvcyIpCgogICAgVXNlciA9IFVzZXIKCgpkZWYgZGVmYXVsdChzdG9yZSwgLywgKipwYXJhbXMpOgogICAgcmV0dXJuIEluZGV4KCkKCgpAcmVnaXN0ZXJfdXJscGF0dGVybigKICAgIHIiW1xkYS1mXXs4fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXsxMn0iLAogICAgcG9zaXRpb249MCwKKQpkZWYgdXNlcih1dWlkKToKICAgIHJldHVybiBVc2VyLmZyb21fdXVpZCh1dWlkKQo",
					"AQAAAAAAAAABAAAAUgAAAAAAAABUAAAAAAAAAAAAAAAAAPC/"
				],
				[
					29,
					1,
					"swap_line_down",
					null,
					"AgAAAIAAAAAAAAAAggAAAAAAAAAAAAAAUwAAAAAAAABTAAAAAAAAAAIAAABzCg",
					"AQAAAAAAAAABAAAAUwAAAAAAAABVAAAAAAAAAAAAAAAAAPC/"
				],
				[
					32,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAATgQAAAAAAABNBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IHJlZ2lzdGVyX3VybHBhdHRlcm4KcwoKZnJvbSAuLmFkbWluIGltcG9ydCBVc2VyCmZyb20gLiBpbXBvcnQgdG9kb3MKCgpjbGFzcyBJbmRleChDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MCB3ZWlnaHQ6eD0nMDo1JyB3ZWlnaHQ6eT0nMDo1JwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgIHBhZGRpbmc9NSBwb3M6c3RpY2t5PScnCiAgICAgICAgICAgIFxzZG93bi52aWV3IHRleHQ9W3BhZ2VzLmluZGV4LndlbGNvbWVdIHdpZHRoPTExMCBzY3JvbGxhYmxlPUZhbHNlIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICFpZiBVc2VyLmlzX2xvZ2luKCkKICAgICAgICAgICAgXGN0ay5idXR0b24gcG9zOmdyaWQ9MCwyIHRleHQ9W3BhZ2VzLmluZGV4Lm5leHRdIHBvczpzdGlja3k9J3NlJyBjb21tYW5kPXtndF9uZXh0fQogICAgICAgICFpZiBub3QgVXNlci5pc19sb2dpbigpCiAgICAgICAgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PVtwYWdlcy5pbmRleC5sb2dpbl0gcG9zOnN0aWNreT0nc2UnIGNvbW1hbmQ9e2d0X2xvZ2lufQogICAgIiIiCgogICAgZGVmIGd0X25leHQoc2VsZik6CiAgICAgICAgaW1wb3J0IHRha3RrCgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ0b2RvcyIpCgogICAgZGVmIGd0X2xvZ2luKHNlbGYpOgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigic2lnbiIsICJzaWduaW4iLCByZWRpcmVjdD0idG9kb3MiKQoKICAgIFVzZXIgPSBVc2VyCgoKZGVmIGRlZmF1bHQoc3RvcmUsIC8sICoqcGFyYW1zKToKICAgIHJldHVybiBJbmRleCgpCgoKQHJlZ2lzdGVyX3VybHBhdHRlcm4oCiAgICByIltcZGEtZl17OH1cLVtcZGEtZl17NH1cLVtcZGEtZl17NH1cLVtcZGEtZl17NH1cLVtcZGEtZl17MTJ9IiwKICAgIHBvc2l0aW9uPTAsCikKZGVmIHVzZXIodXVpZCk6CiAgICByZXR1cm4gVXNlci5mcm9tX3V1aWQodXVpZCkK",
					"AQAAAAAAAAABAAAAfgAAAAAAAACAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					33,
					2,
					"swap_line_down",
					null,
					"BAAAAIIAAAAAAAAAhAAAAAAAAAAAAAAAfwAAAAAAAAB/AAAAAAAAAAIAAABzCpsAAAAAAAAAnQAAAAAAAAAAAAAAgAAAAAAAAACAAAAAAAAAAAIAAABzCg",
					"AQAAAAAAAAABAAAAfwAAAAAAAACBAAAAAAAAAAAAAAAAAPC/"
				],
				[
					36,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAATwQAAAAAAABOBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IHJlZ2lzdGVyX3VybHBhdHRlcm4KCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKcwpmcm9tIC4gaW1wb3J0IHRvZG9zCgoKY2xhc3MgSW5kZXgoQ29tcG9uZW50KToKICAgIHIiIiIKICAgIFxmcmFtZSBwYWRkaW5nPTAgd2VpZ2h0Ong9JzA6NScgd2VpZ2h0Onk9JzA6NScKICAgICAgICBcZnJhbWUgcG9zOmdyaWQ9MCwxICBwYWRkaW5nPTUgcG9zOnN0aWNreT0nJwogICAgICAgICAgICBcc2Rvd24udmlldyB0ZXh0PVtwYWdlcy5pbmRleC53ZWxjb21lXSB3aWR0aD0xMTAgc2Nyb2xsYWJsZT1GYWxzZSBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAhaWYgVXNlci5pc19sb2dpbigpCiAgICAgICAgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PVtwYWdlcy5pbmRleC5uZXh0XSBwb3M6c3RpY2t5PSdzZScgY29tbWFuZD17Z3RfbmV4dH0KICAgICAgICAhaWYgbm90IFVzZXIuaXNfbG9naW4oKQogICAgICAgICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubG9naW5dIHBvczpzdGlja3k9J3NlJyBjb21tYW5kPXtndF9sb2dpbn0KICAgICIiIgoKICAgIGRlZiBndF9uZXh0KHNlbGYpOgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIGRlZiBndF9sb2dpbihzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInNpZ24iLCAic2lnbmluIiwgcmVkaXJlY3Q9InRvZG9zIikKCiAgICBVc2VyID0gVXNlcgoKCmRlZiBkZWZhdWx0KHN0b3JlLCAvLCAqKnBhcmFtcyk6CiAgICByZXR1cm4gSW5kZXgoKQoKCkByZWdpc3Rlcl91cmxwYXR0ZXJuKAogICAgciJbXGRhLWZdezh9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezEyfSIsCiAgICBwb3NpdGlvbj0wLAopCmRlZiB1c2VyKHV1aWQpOgogICAgcmV0dXJuIFVzZXIuZnJvbV91dWlkKHV1aWQpCg",
					"AQAAAAAAAAABAAAAmQAAAAAAAACbAAAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"swap_line_down",
					null,
					"AgAAALAAAAAAAAAAsgAAAAAAAAAAAAAAmgAAAAAAAACaAAAAAAAAAAIAAABzCg",
					"AQAAAAAAAAABAAAAmgAAAAAAAACcAAAAAAAAAAAAAAAAAPC/"
				],
				[
					40,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAUAQAAAAAAABPBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IHJlZ2lzdGVyX3VybHBhdHRlcm4KCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCmZyb20gLiBpbXBvcnQgdG9kb3MKcwoKCmNsYXNzIEluZGV4KENvbXBvbmVudCk6CiAgICByIiIiCiAgICBcZnJhbWUgcGFkZGluZz0wIHdlaWdodDp4PScwOjUnIHdlaWdodDp5PScwOjUnCiAgICAgICAgXGZyYW1lIHBvczpncmlkPTAsMSAgcGFkZGluZz01IHBvczpzdGlja3k9JycKICAgICAgICAgICAgXHNkb3duLnZpZXcgdGV4dD1bcGFnZXMuaW5kZXgud2VsY29tZV0gd2lkdGg9MTEwIHNjcm9sbGFibGU9RmFsc2UgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgIWlmIFVzZXIuaXNfbG9naW4oKQogICAgICAgICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubmV4dF0gcG9zOnN0aWNreT0nc2UnIGNvbW1hbmQ9e2d0X25leHR9CiAgICAgICAgIWlmIG5vdCBVc2VyLmlzX2xvZ2luKCkKICAgICAgICAgICAgXGN0ay5idXR0b24gcG9zOmdyaWQ9MCwyIHRleHQ9W3BhZ2VzLmluZGV4LmxvZ2luXSBwb3M6c3RpY2t5PSdzZScgY29tbWFuZD17Z3RfbG9naW59CiAgICAiIiIKCiAgICBkZWYgZ3RfbmV4dChzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInRvZG9zIikKCiAgICBkZWYgZ3RfbG9naW4oc2VsZik6CiAgICAgICAgaW1wb3J0IHRha3RrCgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJzaWduIiwgInNpZ25pbiIsIHJlZGlyZWN0PSJ0b2RvcyIpCgogICAgVXNlciA9IFVzZXIKCgpkZWYgZGVmYXVsdChzdG9yZSwgLywgKipwYXJhbXMpOgogICAgcmV0dXJuIEluZGV4KCkKCgpAcmVnaXN0ZXJfdXJscGF0dGVybigKICAgIHIiW1xkYS1mXXs4fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXsxMn0iLAogICAgcG9zaXRpb249MCwKKQpkZWYgdXNlcih1dWlkKToKICAgIHJldHVybiBVc2VyLmZyb21fdXVpZCh1dWlkKQo",
					"AQAAAAAAAAABAAAArgAAAAAAAACwAAAAAAAAAAAAAAAAAPC/"
				],
				[
					44,
					2,
					"left_delete",
					null,
					"AgAAAK8AAAAAAAAArwAAAAAAAAACAAAAcwquAAAAAAAAAK4AAAAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAArwAAAAAAAACxAAAAAAAAAAAAAAAAAPC/"
				],
				[
					47,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAATQQAAAAAAABNBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IHJlZ2lzdGVyX3VybHBhdHRlcm4KCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCmZyb20gLiBpbXBvcnQgdG9kb3MKCgpjbGFzcyBJbmRleChDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MCB3ZWlnaHQ6eD0nMDo1JyB3ZWlnaHQ6eT0nMDo1JwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgIHBhZGRpbmc9NSBwb3M6c3RpY2t5PScnCiAgICAgICAgICAgIFxzZG93bi52aWV3IHRleHQ9W3BhZ2VzLmluZGV4LndlbGNvbWVdIHdpZHRoPTExMCBzY3JvbGxhYmxlPUZhbHNlIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICFpZiBVc2VyLmlzX2xvZ2luKCkKICAgICAgICAgICAgXGN0ay5idXR0b24gcG9zOmdyaWQ9MCwyIHRleHQ9W3BhZ2VzLmluZGV4Lm5leHRdIHBvczpzdGlja3k9J3NlJyBjb21tYW5kPXtndF9uZXh0fQogICAgICAgICFpZiBub3QgVXNlci5pc19sb2dpbigpCiAgICAgICAgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PVtwYWdlcy5pbmRleC5sb2dpbl0gcG9zOnN0aWNreT0nc2UnIGNvbW1hbmQ9e2d0X2xvZ2lufQogICAgIiIiCgogICAgZGVmIGd0X25leHQoc2VsZik6CiAgICAgICAgaW1wb3J0IHRha3RrCgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ0b2RvcyIpCgogICAgZGVmIGd0X2xvZ2luKHNlbGYpOgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigic2lnbiIsICJzaWduaW4iLCByZWRpcmVjdD0idG9kb3MiKQoKICAgIFVzZXIgPSBVc2VyCgoKZGVmIGRlZmF1bHQoc3RvcmUsIC8sICoqcGFyYW1zKToKICAgIHJldHVybiBJbmRleCgpCgoKQHJlZ2lzdGVyX3VybHBhdHRlcm4oCiAgICByIltcZGEtZl17OH1cLVtcZGEtZl17NH1cLVtcZGEtZl17NH1cLVtcZGEtZl17NH1cLVtcZGEtZl17MTJ9IiwKICAgIHBvc2l0aW9uPTAsCikKZGVmIHVzZXIodXVpZCk6CiAgICByZXR1cm4gVXNlci5mcm9tX3V1aWQodXVpZCkK",
					"AQAAAAAAAAABAAAArgAAAAAAAACuAAAAAAAAAAAAAAAAAPC/"
				],
				[
					50,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAAK4BAAAAAAAAsAEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtQEAAAAAAAC1AQAAAAAAAAAAAAAAAPC/"
				],
				[
					52,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAACsCAAAAAAAALQIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAANAIAAAAAAAA0AgAAAAAAAAAAAAAAgFlA"
				],
				[
					55,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAUQQAAAAAAABRBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IHJlZ2lzdGVyX3VybHBhdHRlcm4KCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCmZyb20gLiBpbXBvcnQgdG9kb3MKCgpjbGFzcyBJbmRleChDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MCB3ZWlnaHQ6eD0nMDo1JyB3ZWlnaHQ6eT0nMDo1JwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgIHBhZGRpbmc9NSBwb3M6c3RpY2t5PScnCiAgICAgICAgICAgIFxzZG93bi52aWV3IHRleHQ9W3BhZ2VzLmluZGV4LndlbGNvbWVdIHdpZHRoPTExMCBzY3JvbGxhYmxlPUZhbHNlIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICMgIWlmIFVzZXIuaXNfbG9naW4oKQogICAgICAgICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubmV4dF0gcG9zOnN0aWNreT0nc2UnIGNvbW1hbmQ9e2d0X25leHR9CiAgICAgICAgIyAhaWYgbm90IFVzZXIuaXNfbG9naW4oKQogICAgICAgICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubG9naW5dIHBvczpzdGlja3k9J3NlJyBjb21tYW5kPXtndF9sb2dpbn0KICAgICIiIgoKICAgIGRlZiBndF9uZXh0KHNlbGYpOgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIGRlZiBndF9sb2dpbihzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInNpZ24iLCAic2lnbmluIiwgcmVkaXJlY3Q9InRvZG9zIikKCiAgICBVc2VyID0gVXNlcgoKCmRlZiBkZWZhdWx0KHN0b3JlLCAvLCAqKnBhcmFtcyk6CiAgICByZXR1cm4gSW5kZXgoKQoKCkByZWdpc3Rlcl91cmxwYXR0ZXJuKAogICAgciJbXGRhLWZdezh9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezEyfSIsCiAgICBwb3NpdGlvbj0wLAopCmRlZiB1c2VyKHV1aWQpOgogICAgcmV0dXJuIFVzZXIuZnJvbV91dWlkKHV1aWQpCg",
					"AQAAAAAAAAABAAAANgIAAAAAAAA2AgAAAAAAAAAAAAAAAPC/"
				],
				[
					74,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"BAAAAE0CAAAAAAAATwIAAAAAAAAAAAAAKwIAAAAAAAAtAgAAAAAAAAAAAADMAQAAAAAAAM4BAAAAAAAAAAAAAK4BAAAAAAAAsAEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWAIAAAAAAAC5AQAAAAAAAAAAAAAAgFxA"
				],
				[
					80,
					1,
					"left_delete",
					null,
					"AQAAAFYBAAAAAAAAVgEAAAAAAAABAAAAWw",
					"AQAAAAAAAAABAAAAVwEAAAAAAABXAQAAAAAAAAAAAAAAAPC/"
				],
				[
					81,
					1,
					"insert",
					{
						"characters": "@"
					},
					"AQAAAFYBAAAAAAAAVwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVgEAAAAAAABWAQAAAAAAAAAAAAAAAPC/"
				],
				[
					83,
					1,
					"left_delete",
					null,
					"AQAAAGoBAAAAAAAAagEAAAAAAAABAAAAXQ",
					"AQAAAAAAAAABAAAAawEAAAAAAABrAQAAAAAAAAAAAAAAAPC/"
				],
				[
					85,
					1,
					"left_delete",
					null,
					"AQAAAJIBAAAAAAAAkgEAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAkwEAAAAAAACTAQAAAAAAAAAAAAAAAPC/"
				],
				[
					86,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAJIBAAAAAAAAkwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkgEAAAAAAACSAQAAAAAAAAAAAAAAAPC/"
				],
				[
					87,
					1,
					"insert",
					{
						"characters": "\n\t"
					},
					"AwAAAJMBAAAAAAAAlAEAAAAAAAAAAAAAlAEAAAAAAACgAQAAAAAAAAAAAACgAQAAAAAAAKQBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkwEAAAAAAACTAQAAAAAAAAAAAAAAAPC/"
				],
				[
					90,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAaQQAAAAAAABpBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IHJlZ2lzdGVyX3VybHBhdHRlcm4KCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCmZyb20gLiBpbXBvcnQgdG9kb3MKCgpjbGFzcyBJbmRleChDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MCB3ZWlnaHQ6eD0nMDo1JyB3ZWlnaHQ6eT0nMDo1JwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgIHBhZGRpbmc9NSBwb3M6c3RpY2t5PScnCiAgICAgICAgICAgIFxzZG93bi52aWV3IHRleHQ9QHBhZ2VzLmluZGV4LndlbGNvbWUgd2lkdGg9MTEwIHNjcm9sbGFibGU9RmFsc2UgcG9zOmdyaWQ9MCwwXAogICAgICAgICAgICAgICAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAjICMgIWlmIFVzZXIuaXNfbG9naW4oKQogICAgICAgICMgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PVtwYWdlcy5pbmRleC5uZXh0XSBwb3M6c3RpY2t5PSdzZScgY29tbWFuZD17Z3RfbmV4dH0KICAgICAgICAjICMgIWlmIG5vdCBVc2VyLmlzX2xvZ2luKCkKICAgICAgICAjICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubG9naW5dIHBvczpzdGlja3k9J3NlJyBjb21tYW5kPXtndF9sb2dpbn0KICAgICIiIgoKICAgIGRlZiBndF9uZXh0KHNlbGYpOgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIGRlZiBndF9sb2dpbihzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInNpZ24iLCAic2lnbmluIiwgcmVkaXJlY3Q9InRvZG9zIikKCiAgICBVc2VyID0gVXNlcgoKCmRlZiBkZWZhdWx0KHN0b3JlLCAvLCAqKnBhcmFtcyk6CiAgICByZXR1cm4gSW5kZXgoKQoKCkByZWdpc3Rlcl91cmxwYXR0ZXJuKAogICAgciJbXGRhLWZdezh9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezEyfSIsCiAgICBwb3NpdGlvbj0wLAopCmRlZiB1c2VyKHV1aWQpOgogICAgcmV0dXJuIFVzZXIuZnJvbV91dWlkKHV1aWQpCg",
					"AQAAAAAAAAABAAAApAEAAAAAAACkAQAAAAAAAAAAAAAAAPC/"
				],
				[
					92,
					2,
					"toggle_comment",
					{
						"block": false
					},
					"AgAAAL4BAAAAAAAAvgEAAAAAAAACAAAAIyC+AQAAAAAAAL4BAAAAAAAAAgAAACMg",
					"AQAAAAAAAAABAAAAxgEAAAAAAADGAQAAAAAAAAAAAAAAAFhA"
				],
				[
					94,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAAF8CAAAAAAAAXwIAAAAAAAACAAAAIyA",
					"AQAAAAAAAAABAAAAYwIAAAAAAABjAgAAAAAAAAAAAAAAAFJA"
				],
				[
					97,
					2,
					"toggle_comment",
					{
						"block": false
					},
					"AgAAADsCAAAAAAAAOwIAAAAAAAACAAAAIyA7AgAAAAAAADsCAAAAAAAAAgAAACMg",
					"AQAAAAAAAAABAAAAQAIAAAAAAABAAgAAAAAAAAAAAAAAAPC/"
				],
				[
					100,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAANoBAAAAAAAA2gEAAAAAAAACAAAAIyA",
					"AQAAAAAAAAABAAAA2wEAAAAAAADbAQAAAAAAAAAAAAAAAEtA"
				],
				[
					103,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAXQQAAAAAAABdBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IHJlZ2lzdGVyX3VybHBhdHRlcm4KCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCmZyb20gLiBpbXBvcnQgdG9kb3MKCgpjbGFzcyBJbmRleChDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MCB3ZWlnaHQ6eD0nMDo1JyB3ZWlnaHQ6eT0nMDo1JwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgIHBhZGRpbmc9NSBwb3M6c3RpY2t5PScnCiAgICAgICAgICAgIFxzZG93bi52aWV3IHRleHQ9QHBhZ2VzLmluZGV4LndlbGNvbWUgd2lkdGg9MTEwIHNjcm9sbGFibGU9RmFsc2UgcG9zOmdyaWQ9MCwwXAogICAgICAgICAgICAgICAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAhaWYgVXNlci5pc19sb2dpbigpCiAgICAgICAgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PVtwYWdlcy5pbmRleC5uZXh0XSBwb3M6c3RpY2t5PSdzZScgY29tbWFuZD17Z3RfbmV4dH0KICAgICAgICAhaWYgbm90IFVzZXIuaXNfbG9naW4oKQogICAgICAgICAgICBcY3RrLmJ1dHRvbiBwb3M6Z3JpZD0wLDIgdGV4dD1bcGFnZXMuaW5kZXgubG9naW5dIHBvczpzdGlja3k9J3NlJyBjb21tYW5kPXtndF9sb2dpbn0KICAgICIiIgoKICAgIGRlZiBndF9uZXh0KHNlbGYpOgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIGRlZiBndF9sb2dpbihzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInNpZ24iLCAic2lnbmluIiwgcmVkaXJlY3Q9InRvZG9zIikKCiAgICBVc2VyID0gVXNlcgoKCmRlZiBkZWZhdWx0KHN0b3JlLCAvLCAqKnBhcmFtcyk6CiAgICByZXR1cm4gSW5kZXgoKQoKCkByZWdpc3Rlcl91cmxwYXR0ZXJuKAogICAgciJbXGRhLWZdezh9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezR9XC1bXGRhLWZdezEyfSIsCiAgICBwb3NpdGlvbj0wLAopCmRlZiB1c2VyKHV1aWQpOgogICAgcmV0dXJuIFVzZXIuZnJvbV91dWlkKHV1aWQpCg",
					"AQAAAAAAAAABAAAA2gEAAAAAAADaAQAAAAAAAAAAAAAAAPC/"
				],
				[
					108,
					1,
					"left_delete",
					null,
					"AQAAAA0CAAAAAAAADQIAAAAAAAABAAAAXQ",
					"AQAAAAAAAAABAAAADgIAAAAAAAAOAgAAAAAAAAAAAAAAAPC/"
				],
				[
					110,
					1,
					"left_delete",
					null,
					"AQAAAPwBAAAAAAAA/AEAAAAAAAABAAAAWw",
					"AQAAAAAAAAABAAAA/QEAAAAAAAD9AQAAAAAAAAAAAAAAAPC/"
				],
				[
					111,
					1,
					"insert",
					{
						"characters": "@"
					},
					"AQAAAPwBAAAAAAAA/QEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/AEAAAAAAAD8AQAAAAAAAAAAAAAAAPC/"
				],
				[
					113,
					1,
					"left_delete",
					null,
					"AQAAAHoCAAAAAAAAegIAAAAAAAABAAAAWw",
					"AQAAAAAAAAABAAAAewIAAAAAAAB7AgAAAAAAAAAAAAAAIHBA"
				],
				[
					114,
					1,
					"insert",
					{
						"characters": "@"
					},
					"AQAAAHoCAAAAAAAAewIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAegIAAAAAAAB6AgAAAAAAAAAAAAAAAPC/"
				],
				[
					117,
					1,
					"left_delete",
					null,
					"AQAAAIwCAAAAAAAAjAIAAAAAAAABAAAAXQ",
					"AQAAAAAAAAABAAAAjQIAAAAAAACNAgAAAAAAAAAAAAAAAPC/"
				],
				[
					120,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAWwQAAAAAAABbBAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IHJlZ2lzdGVyX3VybHBhdHRlcm4KCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCmZyb20gLiBpbXBvcnQgdG9kb3MKCgpjbGFzcyBJbmRleChDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MCB3ZWlnaHQ6eD0nMDo1JyB3ZWlnaHQ6eT0nMDo1JwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgIHBhZGRpbmc9NSBwb3M6c3RpY2t5PScnCiAgICAgICAgICAgIFxzZG93bi52aWV3IHRleHQ9QHBhZ2VzLmluZGV4LndlbGNvbWUgd2lkdGg9MTEwIHNjcm9sbGFibGU9RmFsc2UgcG9zOmdyaWQ9MCwwXAogICAgICAgICAgICAgICAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAhaWYgVXNlci5pc19sb2dpbigpCiAgICAgICAgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PUBwYWdlcy5pbmRleC5uZXh0IHBvczpzdGlja3k9J3NlJyBjb21tYW5kPXtndF9uZXh0fQogICAgICAgICFpZiBub3QgVXNlci5pc19sb2dpbigpCiAgICAgICAgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PUBwYWdlcy5pbmRleC5sb2dpbiBwb3M6c3RpY2t5PSdzZScgY29tbWFuZD17Z3RfbG9naW59CiAgICAiIiIKCiAgICBkZWYgZ3RfbmV4dChzZWxmKToKICAgICAgICBpbXBvcnQgdGFrdGsKCiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInRvZG9zIikKCiAgICBkZWYgZ3RfbG9naW4oc2VsZik6CiAgICAgICAgaW1wb3J0IHRha3RrCgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJzaWduIiwgInNpZ25pbiIsIHJlZGlyZWN0PSJ0b2RvcyIpCgogICAgVXNlciA9IFVzZXIKCgpkZWYgZGVmYXVsdChzdG9yZSwgLywgKipwYXJhbXMpOgogICAgcmV0dXJuIEluZGV4KCkKCgpAcmVnaXN0ZXJfdXJscGF0dGVybigKICAgIHIiW1xkYS1mXXs4fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXs0fVwtW1xkYS1mXXsxMn0iLAogICAgcG9zaXRpb249MCwKKQpkZWYgdXNlcih1dWlkKToKICAgIHJldHVybiBVc2VyLmZyb21fdXVpZCh1dWlkKQo",
					"AQAAAAAAAAABAAAAjAIAAAAAAACMAgAAAAAAAAAAAAAAAPC/"
				],
				[
					124,
					1,
					"left_delete",
					null,
					"AQAAAJwCAAAAAAAAnAIAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAnQIAAAAAAACdAgAAAAAAAAAAAAAAAPC/"
				],
				[
					125,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAJwCAAAAAAAAnQIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnAIAAAAAAACcAgAAAAAAAAAAAAAAAPC/"
				],
				[
					126,
					1,
					"insert",
					{
						"characters": "\n\t"
					},
					"AwAAAJ0CAAAAAAAAngIAAAAAAAAAAAAAngIAAAAAAACqAgAAAAAAAAAAAACqAgAAAAAAAK4CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnQIAAAAAAACdAgAAAAAAAAAAAAAAAPC/"
				],
				[
					134,
					1,
					"left_delete",
					null,
					"AQAAAB0CAAAAAAAAHQIAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAHgIAAAAAAAAeAgAAAAAAAAAAAAAAAPC/"
				],
				[
					135,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAB0CAAAAAAAAHgIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHQIAAAAAAAAdAgAAAAAAAAAAAAAAAPC/"
				],
				[
					136,
					1,
					"insert",
					{
						"characters": "\n\t"
					},
					"AwAAAB4CAAAAAAAAHwIAAAAAAAAAAAAAHwIAAAAAAAArAgAAAAAAAAAAAAArAgAAAAAAAC8CAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHgIAAAAAAAAeAgAAAAAAAAAAAAAAAPC/"
				],
				[
					138,
					6,
					"left_delete",
					null,
					"BgAAAKABAAAAAAAAoAEAAAAAAAAEAAAAICAgIJwBAAAAAAAAnAEAAAAAAAAEAAAAICAgIJgBAAAAAAAAmAEAAAAAAAAEAAAAICAgIJQBAAAAAAAAlAEAAAAAAAAEAAAAICAgIJMBAAAAAAAAkwEAAAAAAAABAAAACpIBAAAAAAAAkgEAAAAAAAABAAAAXA",
					"AQAAAAAAAAABAAAApAEAAAAAAACkAQAAAAAAAAAAAAAAAFhA"
				],
				[
					141,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJIBAAAAAAAAkwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkgEAAAAAAACSAQAAAAAAAAAAAAAAAPC/"
				],
				[
					143,
					1,
					"left_delete",
					null,
					"AQAAAIUBAAAAAAAAhQEAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAhgEAAAAAAACGAQAAAAAAAAAAAAAAAPC/"
				],
				[
					144,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAIUBAAAAAAAAhgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhQEAAAAAAACFAQAAAAAAAAAAAAAAAPC/"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": "\n\t"
					},
					"AwAAAIYBAAAAAAAAhwEAAAAAAAAAAAAAhwEAAAAAAACTAQAAAAAAAAAAAACTAQAAAAAAAJcBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhgEAAAAAAACGAQAAAAAAAAAAAAAAAPC/"
				],
				[
					148,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAfQQAAAAAAAB9BAAAZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm5vdGlmaWNhdGlvbiBpbXBvcnQgTm90aWZpY2F0aW9uCgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IHJlZ2lzdGVyX3VybHBhdHRlcm4KCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCmZyb20gLiBpbXBvcnQgdG9kb3MKCgpjbGFzcyBJbmRleChDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MCB3ZWlnaHQ6eD0nMDo1JyB3ZWlnaHQ6eT0nMDo1JwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgIHBhZGRpbmc9NSBwb3M6c3RpY2t5PScnCiAgICAgICAgICAgIFxzZG93bi52aWV3IHRleHQ9QHBhZ2VzLmluZGV4LndlbGNvbWUgd2lkdGg9MTEwIHNjcm9sbGFibGU9RmFsc2VcCiAgICAgICAgICAgICAgICBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAhaWYgVXNlci5pc19sb2dpbigpCiAgICAgICAgICAgIFxjdGsuYnV0dG9uIHBvczpncmlkPTAsMiB0ZXh0PUBwYWdlcy5pbmRleC5uZXh0IHBvczpzdGlja3k9J3NlJ1wKICAgICAgICAgICAgICAgIGNvbW1hbmQ9e2d0X25leHR9CiAgICAgICAgIWlmIG5vdCBVc2VyLmlzX2xvZ2luKCkKICAgICAgICAgICAgXGN0ay5idXR0b24gcG9zOmdyaWQ9MCwyIHRleHQ9QHBhZ2VzLmluZGV4LmxvZ2luIHBvczpzdGlja3k9J3NlJ1wKICAgICAgICAgICAgICAgIGNvbW1hbmQ9e2d0X2xvZ2lufQogICAgIiIiCgogICAgZGVmIGd0X25leHQoc2VsZik6CiAgICAgICAgaW1wb3J0IHRha3RrCgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ0b2RvcyIpCgogICAgZGVmIGd0X2xvZ2luKHNlbGYpOgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigic2lnbiIsICJzaWduaW4iLCByZWRpcmVjdD0idG9kb3MiKQoKICAgIFVzZXIgPSBVc2VyCgoKZGVmIGRlZmF1bHQoc3RvcmUsIC8sICoqcGFyYW1zKToKICAgIHJldHVybiBJbmRleCgpCgoKQHJlZ2lzdGVyX3VybHBhdHRlcm4oCiAgICByIltcZGEtZl17OH1cLVtcZGEtZl17NH1cLVtcZGEtZl17NH1cLVtcZGEtZl17NH1cLVtcZGEtZl17MTJ9IiwKICAgIHBvc2l0aW9uPTAsCikKZGVmIHVzZXIodXVpZCk6CiAgICByZXR1cm4gVXNlci5mcm9tX3V1aWQodXVpZCkK",
					"AQAAAAAAAAABAAAAlwEAAAAAAACXAQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/taktk/application.py",
			"settings":
			{
				"buffer_size": 9916,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					19,
					1,
					"insert",
					{
						"characters": "_class"
					},
					"BgAAAEcQAAAAAAAASBAAAAAAAAAAAAAASBAAAAAAAABJEAAAAAAAAAAAAABJEAAAAAAAAEoQAAAAAAAAAAAAAEoQAAAAAAAASxAAAAAAAAAAAAAASxAAAAAAAABMEAAAAAAAAAAAAABMEAAAAAAAAE0QAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARxAAAAAAAABHEAAAAAAAAAAAAAAAAPC/"
				],
				[
					21,
					1,
					"insert",
					{
						"characters": "\nself.la"
					},
					"CQAAAFYQAAAAAAAAVxAAAAAAAAAAAAAAVxAAAAAAAABfEAAAAAAAAAAAAABfEAAAAAAAAGAQAAAAAAAAAAAAAGAQAAAAAAAAYRAAAAAAAAAAAAAAYRAAAAAAAABiEAAAAAAAAAAAAABiEAAAAAAAAGMQAAAAAAAAAAAAAGMQAAAAAAAAZBAAAAAAAAAAAAAAZBAAAAAAAABlEAAAAAAAAAAAAABlEAAAAAAAAGYQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVhAAAAAAAABWEAAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"insert_dimensions",
					null,
					"AgAAAGQQAAAAAAAAZBAAAAAAAAACAAAAbGFkEAAAAAAAAGsQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZhAAAAAAAABmEAAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"left_delete",
					null,
					"AQAAAGoQAAAAAAAAahAAAAAAAAABAAAALg",
					"AQAAAAAAAAABAAAAaxAAAAAAAABrEAAAAAAAAAAAAAAAAPC/"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAGoQAAAAAAAAaxAAAAAAAAAAAAAAaxAAAAAAAABsEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAahAAAAAAAABqEAAAAAAAAAAAAAAAAPC/"
				],
				[
					25,
					1,
					"insert",
					{
						"characters": " None"
					},
					"BQAAAGwQAAAAAAAAbRAAAAAAAAAAAAAAbRAAAAAAAABuEAAAAAAAAAAAAABuEAAAAAAAAG8QAAAAAAAAAAAAAG8QAAAAAAAAcBAAAAAAAAAAAAAAcBAAAAAAAABxEAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbBAAAAAAAABsEAAAAAAAAAAAAAAAAPC/"
				],
				[
					28,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAzyUAAAAAAADPJQAAIiIiXApQcm92aWRlcyBiYXNlIGNsYXNzIGZvciB0YWt0ayBhcHBsaWNhdGlvbiBjcmVhdGlvbgpDb3B5cmlnaHQgKEMpIDIwMjIgIGtlbi1tb3JlbAoKVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KClRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLApidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgpNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgpZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQphbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCiIiIgpmcm9tIGxvZ2dpbmcgaW1wb3J0IGdldExvZ2dlcgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0ZW1wZmlsZSBpbXBvcnQgTmFtZWRUZW1wb3JhcnlGaWxlCmZyb20gdHlwZXMgaW1wb3J0IE1vZHVsZVR5cGUKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgT3B0aW9uYWwKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQpmcm9tIHR0a2Jvb3RzdHJhcCBpbXBvcnQgV2luZG93CmZyb20gLiBpbXBvcnQgKAogICAgT05fQ1JFQVRFX0hBTkRMRVJTLAogICAgYXBwbGljYXRpb25fc2VydmVyLAogICAgY29tcG9uZW50LAogICAgZGljdGlvbmFyeSwKICAgIG1lZGlhLAogICAgbWVudSwKICAgIHBhZ2UsCiAgICBzdG9yZSwKKQoKbG9nID0gZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBhbm5vdGF0ZQpjbGFzcyBBcHBsaWNhdGlvbjoKICAgICIiIgogICAgSGFzIG9wdGlvbmFsIGF0dHJpYnV0ZXMgdG8gc3BlY2lmeSBiZWhhdmlvdXIgaW5jbHVkaW5nOgoKICAgIC0gKipkaWN0aW9uYXJpZXMqKjogVGhlIHBhdGggdG8gdGhlIGRpY3Rpb25uYXJ5IGRpcmVjdG9yeSB0YWt0ayBzaG91bGQKICAgICAgZmV0Y2ggZGljdGlvbmFyaWVzIGZyb20KICAgIC0gKipmYWxsYmFja19sYW5ndWFnZSoqOiBUaGUgZmFsbGJhY2sgbGFuZ3VhZ2UgdG8gdXNlIGluIGNhc2UgdGhlIGxvY2FsZSdzCiAgICAgIGxhbmd1YWdlIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiBkaWN0aW9uYXJpZXMKICAgIC0gKipwYXJhbXMqKjogYGRpY3Rbc3RyLF1gOiBBZGRpdGlvbmFsIHBhcmFtcyB0byBwYXNzIHRvIHR0a2Jvb3RzdHJhcAogICAgICBXaW5kb3cgb24gd2luZG93CiAgICAgIGNyZWF0aW9uLgogICAgLSAqKm1lbnUqKjogYW4gb3B0aW9uYWwgYHRha3RrLm1lbnUuTWVudWAgb2JqZWN0IHRvIHVzZSBhcyB0b3BsZXZlbCBtZW51CiAgICAtICoqbGF5b3V0Kio6IGFuIGluc3RhbmNlIG9mIGBMYXlvdXRgIGNsYXNzIHlvdSBzaG91bGQgZGVmaW5lIHlvdXJzZWxmCiAgICAtICoqZGVzdHJveV9jYWNoZSoqOiBFeHBlcmltZW50YWw6IGRlc3Ryb3lzIG9ubHkgdGhlIGxhc3Qge3h9IHZpZXdlZAogICAgICBjb21wb25lbnQncyB3aWRnZXQgdG8gcmVkdWNlIGNoYW5jZXMgZm9yIGFwcCB0byBhYnJ1cHRseSByZXNpemUKICAgICIiIgoKICAgIGRpY3Rpb25hcmllczogZGljdGlvbmFyeS5EaWN0aW9uYXJpZXMgPSBOb25lCiAgICBmYWxsYmFja19sYW5ndWFnZTogc3RyCiAgICBtZW51OiBPcHRpb25hbFttZW51Lk1lbnVdCiAgICBsYXlvdXQ6IE9wdGlvbmFsW2NvbXBvbmVudC5Db21wb25lbnRdCiAgICBkZXN0cm95X2NhY2hlOiBpbnQgPSA1CiAgICBfc3RvcmU6IE9wdGlvbmFsW3N0b3JlLlN0b3JlXSA9IE5vbmUKICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0KICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXQogICAgX2NyZWF0ZV9wYXJhbXM6IHR1cGxlWwogICAgICAgIE9wdGlvbmFsW1BhdGggfCBzdHIgfCBkaWN0aW9uYXJ5LkRpY3Rpb25hcmllc10sCiAgICAgICAgZGljdFtzdHIsIEFueV0sCiAgICAgICAgdHVwbGVbTm9uZSwgZGljdF0gfCBzdG9yZS5TdG9yZSwKICAgICAgICBPcHRpb25hbFtQYXRoIHwgc3RyIHwgbWVkaWEuSW1hZ2VdLAogICAgICAgIHR5cGUoV2luZG93KSwKICAgIF0KICAgIG1lZGlhX3BhdGg6IE9wdGlvbmFsW3N0ciB8IFBhdGhdCiAgICBwYWdlczogTW9kdWxlVHlwZQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHBhZ2VzOiBNb2R1bGVUeXBlLAogICAgICAgIGRpY3Rpb25hcmllczogT3B0aW9uYWxbUGF0aCB8IHN0ciB8IGRpY3Rpb25hcnkuRGljdGlvbmFyaWVzXSA9IE5vbmUsCiAgICAgICAgZmFsbGJhY2tfbGFuZ3VhZ2U6IHN0ciA9ICJlbmdsaXNoIiwKICAgICAgICBwYXJhbXM6IGRpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgbWVudTogT3B0aW9uYWxbbWVudS5NZW51XSA9IE5vbmUsCiAgICAgICAgbGF5b3V0OiBPcHRpb25hbFtjb21wb25lbnQuQ29tcG9uZW50XSA9IE5vbmUsCiAgICAgICAgc3RvcmU6IHR1cGxlW05vbmUsIGRpY3RdIHwgc3RvcmUuU3RvcmUgPSAoTm9uZSwge30pLAogICAgICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0gPSBOb25lLAogICAgICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXSA9IE5vbmUsCiAgICAgICAgbWVkaWFfcGF0aDogT3B0aW9uYWxbc3RyIHwgUGF0aF0gPSBOb25lLAogICAgICAgIHdpbmRvd19jbGFzczogdHlwZShXaW5kb3cpID0gV2luZG93LAogICAgKToKICAgICAgICAiIiIKICAgICAgICBJbml0aWFsaXplIHRoZSBhcHAgYW5kIHN0b3JlIG1vc3Qgb2YgdGhlIHBhc3NlZCBwYXJhbWV0ZXJzIGludG8KICAgICAgICBgLl9jcmVhdGVfcGFyYW1zYC4KCiAgICAgICAgOnBhcmFtIGRpY3Rpb25hcmllczogVGhlIHBhdGggdG8gdGhlIGFwcGxpY2F0aW9uIGRpY3Rpb25hcmllcyBkaXJlY3RvcnkKICAgICAgICBvciBhIGB0YWt0ay5kaWN0aW9uYXJ5LkRpY3Rpb25hcnlgIGluc3RhbmNlLgoKICAgICAgICA6cGFyYW0gZmFsbGJhY2tfbGFuZ3VhZ2U6IFRoZSBmYWxsYmFjayBsYW5ndWFnZSB0byBmZXRjaCBmcm9tCiAgICAgICAgZGljdGlvbmFyeSBpZiBsb2NhbGUncyBkb2VzIG5vdCBzdWNjZWVkLgoKICAgICAgICA6cGFyYW0gcGFyYW1zOiBBZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBgd2luZG93X2NsYXNzYCBvbgogICAgICAgIHdpbmRvdyBjcmVhdGlvbi4KCiAgICAgICAgOnBhcmFtIG1lbnU6IFRoZSBvcHRpb25hbCBhcHBsaWNhdGlvbiBtZW51LCBhIGB0YWt0ay5tZW51Lk1lbnVgCiAgICAgICAgaW5zdGFuY2UKCiAgICAgICAgOnBhcmFtIGxheW91dDogVGhlIGFwcGxpY2F0aW9uIGxheW91dCBjb21wb25lbnQgaW5zdGFuY2UgdG8gdXNlLgoKICAgICAgICA6cGFyYW0gc3RvcmU6IFRoZSBwYXRoIHRvIGFwcGxpY2F0aW9uIGpzb24gX3N0b3JlXyBkYXRhYmFzZS4KCiAgICAgICAgOnBhcmFtIGFkZHJlc3M6IFRoZSB3ZWIgYWRkcmVzcyB0dXBsZSBmb3IgYXBwbGljYXRpb24gc2VydmVyCiAgICAgICAgdG8gbGlzdGVuIGF0CgogICAgICAgIDpwYXJhbSBpY29uOiBUaGUgb3B0aW9uYWwgYXBwbGljYXRpb24gaWNvbiBzcGVjIG9yIGB0YWt0ay5tZWRpYS5JbWFnZWAKICAgICAgICBpbnN0YW5jZQoKICAgICAgICA6cGFyYW0gbWVkaWFfcGF0aDogVGhlIG9wdGlvbmFsIHBhdGggdG8gZ2xvYmFsIG1lZGlhIGRpcmVjdG9yeQoKICAgICAgICA6cGFyYW0gd2luZG93X2NsYXNzOiBUaGUgY2xhc3MgdG8gY2FsbCBvbiB3aW5kb3cgY3JlYXRpb24uCgogICAgICAgIDpwYXJhbSBwYWdlczogVGhlIHBhZ2VzIG1vZHVsZQogICAgICAgICIiIgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbiA9IHNlbGYKCiAgICAgICAgc2VsZi5tZW51ID0gbWVudQogICAgICAgIHNlbGYubGF5b3V0X2NsYXNzID0gbGF5b3V0CiAgICAgICAgc2VsZi5sYXlvdXQgPSBOb25lCiAgICAgICAgc2VsZi5hZGRyZXNzID0gYWRkcmVzcwogICAgICAgIHNlbGYubWVkaWFfcGF0aCA9IG1lZGlhX3BhdGgKICAgICAgICBzZWxmLnBhZ2VzID0gcGFnZXMKCiAgICAgICAgc2VsZi5mYWxsYmFja19sYW5ndWFnZSA9IGZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgc2VsZi5fY3JlYXRlX3BhcmFtcyA9ICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzLAogICAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICAgIHN0b3JlLAogICAgICAgICAgICBpY29uLAogICAgICAgICAgICB3aW5kb3dfY2xhc3MsCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgICIiIgogICAgICAgIFN1YmNsYXNzIHRoaXMgbWV0aG9kIHRvIGluaXRpYWxpemUgeW91ciBhcHAgc3BlY2lmaWMgcGFyYW1ldGVycwogICAgICAgICIiIgoKICAgIGRlZiBzZXRfbGFuZ3VhZ2Uoc2VsZiwgbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUpOgogICAgICAgICIiIgogICAgICAgIEluc3RhbGxzIHRoZSBsYW5ndWFnZSBwYXNzZWQgYXMgYXJndW1lbnQgb3IgdGhlIGFwcGxpY2F0aW9ucwogICAgICAgIGAuZmFsbGJhY2tfbGFuZ3VhZ2VgCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5kaWN0aW9uYXJpZXMuZ2V0KAogICAgICAgICAgICBsYW5ndWFnZT1sYW5nLCBmYWxsYmFja19sYW5ndWFnZT1zZWxmLmZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgKS5pbnN0YWxsKCkKCiAgICBkZWYgc2V0dXBfdGFrdGsoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgSW50ZXJuYWwgdG8gc2V0IHVwIHRha3RrIGNvbXBvbmVudHMgZm9yIGFwcCBpbml0aWFsaXphdGlvbgogICAgICAgICIiIgogICAgICAgICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzX3BhdGgsCiAgICAgICAgICAgIF8sCiAgICAgICAgICAgIF9zdG9yZSwKICAgICAgICAgICAgKl9fLAogICAgICAgICkgPSBzZWxmLl9jcmVhdGVfcGFyYW1zCiAgICAgICAgaWYgaXNpbnN0YW5jZShfc3RvcmUsIHN0b3JlLlN0b3JlKToKICAgICAgICAgICAgc2VsZi5fc3RvcmUgPSBfc3RvcmUKICAgICAgICBlbGlmIGlzaW5zdGFuY2UoX3N0b3JlLCB0dXBsZSk6CiAgICAgICAgICAgIF9zdG9yZSwgZGVmYXVsdCA9IF9zdG9yZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRlZmF1bHQgPSB7fQogICAgICAgICAgICBpZiBfc3RvcmUgaXMgTm9uZToKICAgICAgICAgICAgICAgIHNlbGYuX3N0b3JlX2ZpbGUgPSBOYW1lZFRlbXBvcmFyeUZpbGUoZGVsZXRlPUZhbHNlKQogICAgICAgICAgICAgICAgX3N0b3JlID0gc2VsZi5fc3RvcmVfZmlsZS5uYW1lCiAgICAgICAgICAgIHNlbGYuX3N0b3JlID0gc3RvcmUuU3RvcmUoX3N0b3JlLCBkZWZhdWx0PWRlZmF1bHQpCiAgICAgICAgaWYgZGljdGlvbmFyaWVzX3BhdGggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYuZGljdGlvbmFyaWVzID0gZGljdGlvbmFyeS5EaWN0aW9uYXJpZXMoZGljdGlvbmFyaWVzX3BhdGgpCiAgICAgICAgICAgIHNlbGYuc2V0X2xhbmd1YWdlKCkKICAgICAgICBpZiBzZWxmLm1lZGlhX3BhdGggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1lZGlhLk1FRElBX0RJUiA9IFBhdGgoc2VsZi5tZWRpYV9wYXRoKQoKICAgIGRlZiBjcmVhdGUoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgQ3JlYXRlcyB0aGUgYXBwIGNvbnRhaW5lcgogICAgICAgICIiIgogICAgICAgICgKICAgICAgICAgICAgXywKICAgICAgICAgICAgcGFyYW1zLAogICAgICAgICAgICBfXywKICAgICAgICAgICAgaWNvbiwKICAgICAgICAgICAgd2luZG93X2NsYXNzLAogICAgICAgICkgPSBzZWxmLl9jcmVhdGVfcGFyYW1zCiAgICAgICAgaWYgaWNvbiBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpY29uLCBzdHIpOgogICAgICAgICAgICAgICAgc2VsZi5pY29uID0gbWVkaWEuZ2V0X2ltYWdlKGljb24pCiAgICAgICAgICAgICAgICBwYXJhbXNbImljb25waG90byJdID0gc2VsZi5pY29uLmZ1bGxfcGF0aAogICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoaWNvbiwgbWVkaWEuSW1hZ2UpOgogICAgICAgICAgICAgICAgc2VsZi5pY29uID0gaWNvbgogICAgICAgICAgICAgICAgcGFyYW1zWyJpY29ucGhvdG8iXSA9IHNlbGYuaWNvbi5mdWxsX3BhdGgKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICAgICAgZiJXcm9uZyBpY29uIHBhcmFtZXRlciB7aWNvbiFyfSB3YXMiCiAgICAgICAgICAgICAgICAgICAgZiIgcGFzc2VkIHRvIHtzZWxmLl9fY2xhc3NfXy5fX25hbWVfX30uX19pbml0X18iCiAgICAgICAgICAgICAgICApCiAgICAgICAgc2VsZi5yb290ID0gcm9vdCA9IHdpbmRvd19jbGFzcygqKnBhcmFtcykKICAgICAgICByb290LmNvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICByb290LnJvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICBpZiBzZWxmLm1lbnUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYubWVudS50b3BsZXZlbChyb290KQogICAgICAgIGlmIHNlbGYubGF5b3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLmxheW91dC5yZW5kZXIoc2VsZi5yb290KQogICAgICAgICAgICBzZWxmLmxheW91dC5jb250YWluZXIuZ3JpZChjb2x1bW49MCwgcm93PTAsIHN0aWNreT0ibnNldyIpCiAgICAgICAgICAgIHJldHVybiBzZWxmLmxheW91dFsib3V0bGV0Il0ub3V0bGV0CiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHJvb3QKCiAgICBkZWYgcnVuKHNlbGYsIGVudHJ5OiBzdHIgPSAiLyIpOgogICAgICAgICIiIgogICAgICAgIFJ1bnMgdGhlIGFwcCB3aXRoIHRoZSBzcGVjaWZpZWQgZW50cnkgcG9pbnQuCiAgICAgICAgVEhlIHBhc3NlZCBgZW50cnlgIGlzIHNldCBhcyBmaXJzdCBwYWdlCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5zZXR1cF90YWt0aygpCiAgICAgICAgcm9vdCA9IHNlbGYuY3JlYXRlKCkKICAgICAgICBzZWxmLmluaXQoKQogICAgICAgIGZvciBoYW5kbGVyIGluIE9OX0NSRUFURV9IQU5ETEVSUzoKICAgICAgICAgICAgaGFuZGxlcihzZWxmKQogICAgICAgIGlmIHNlbGYuYWRkcmVzcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5saXN0ZW5fYXQoc2VsZi5hZGRyZXNzKQogICAgICAgIHNlbGYudmlldyA9IHBhZ2UuUGFnZVZpZXcocm9vdCwgc2VsZi5wYWdlcywgc2VsZiwgc2VsZi5kZXN0cm95X2NhY2hlKQogICAgICAgIHNlbGYudmlldy5nZW9tZXRyeSgpCiAgICAgICAgc2VsZi52aWV3LnVybChlbnRyeSkKICAgICAgICBzZWxmLnJvb3QubWFpbmxvb3AoKQoKICAgIGRlZiBfX2NhbGxfXygKICAgICAgICBzZWxmLAogICAgICAgIG1vZHVsZTogc3RyLAogICAgICAgIGZ1bmN0aW9uOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICByZWRpcmVjdDogYm9vbCA9IFRydWUsCiAgICAgICAgLywKICAgICAgICAqKnBhcmFtcywKICAgICk6CiAgICAgICAgIiIiCiAgICAgICAgUmVmZXIgdG8gdGhlIGFwcCdzIHZpZXcgcm91dGluZyBzeXN0ZW0gd2l0aCB0aGUgc3BlY2lmaWVkIHBhcmFtczoKCiAgICAgICAgOnBhcmFtIG1vZHVsZTogVGhlIHNsYXNoIHNlcGVyYXRlZCBwYXRoIHRvIHRoZSBtb2R1bGUKICAgICAgICA6cGFyYW0gZnVuY3Rpb246IG9wdGlvbmFsIGhhbmRsZXIgbmFtZSB0byBjYWxsCiAgICAgICAgOnBhcmFtIHJlZGlyZWN0OiBpbnN0cnVjdHMgdGhlIGFwcCB0byBmb2xsb3cgcmVkaXJlY3RzCiAgICAgICAgOnBhcmFtIHBhcmFtczogRXh0cmEgcGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIGhhbmRsZXIKICAgICAgICAiIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmICJAIiBpbiBtb2R1bGUgb3IgIiMiIGluIG1vZHVsZToKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IobW9kdWxlLCBmIkRpZCB5b3UgbWVhbiBhcHAudXJsKC4uLik/IikKICAgICAgICAgICAgc2VsZi52aWV3KG1vZHVsZSwgZnVuY3Rpb24sIHBhcmFtcykKICAgICAgICBleGNlcHQgcGFnZS5SZWRpcmVjdCBhcyBlOgogICAgICAgICAgICB0YXJnZXQgPSBlLnVybAogICAgICAgICAgICBpZiByZWRpcmVjdDoKICAgICAgICAgICAgICAgIHNlbGYudmlldy51cmwodGFyZ2V0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmFpc2UKICAgICAgICBzZWxmLmxheW91dC51cGRhdGUoKQoKICAgIGRlZiB1cmwoc2VsZiwgdXJsOiBzdHIpOgogICAgICAgICIiIgogICAgICAgIFRhcmdldHMgdGhlIGFwcCB0byB0aGUgc3BlY2lmaWVkIHVybAogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLnZpZXcudXJsKHVybCkKCiAgICBkZWYgZXhpdChzZWxmKToKICAgICAgICAiIiIKICAgICAgICBDbG9zZXMgdGhlIGFwcCB3aW5kb3cuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5yb290LmRlc3Ryb3koKQoKICAgIGRlZiBsaXN0ZW5fYXQoc2VsZiwgYWRkcmVzczogdHVwbGVbc3RyLCBpbnRdKToKICAgICAgICAiIiIKICAgICAgICBzdGFydHMgYSBgdGFrdGsuYXBwbGljYXRpb25fc2VydmVyLkFwcGxpY2F0aW9uU2VydmVyYCBhdCBzcGVjaWZpZWQKICAgICAgICBhZGRyZXNzCiAgICAgICAgIiIiCiAgICAgICAgYXBwbGljYXRpb25fc2VydmVyLkFwcGxpY2F0aW9uU2VydmVyKHNlbGYsIGFkZHJlc3MpLnRocmVhZF9zZXJ2ZSgpCgogICAgZGVmIHJlZGlyZWN0X3RvX3NpbmdsZXRvbihzZWxmLCB1cmw6IHN0ciA9ICIiKSAtPiBib29sOgogICAgICAgICIiIgogICAgICAgIFRyaWVzIHRvIHF1ZXJ5IHRoZSBhcHBzIGFkZHJlc3MgYW5kOgogICAgICAgIC0gaWYgc3VjY2VlZHMsIHNlbmRzIGEgcmVxdWVzdCB0byB0aGUgaW5zdGFuY2Ugd2l0aCB0aGUgcGFzc2VkIHVybAogICAgICAgIC0gaWYgZmFpbHMsIHN0YXJ0cyBhbiBpbnN0YW5jZSBvZiB0aGUgYXBwbGljYXRpb24KCiAgICAgICAgOnJldHVybnM6IEEgYm9vbGVhbiB0ZWxsaW5nIGlmIHRoZSBhcHAgaW5zdGFuY2Ugd2FzIHN0YXJ0ZWQuCiAgICAgICAgIiIiCiAgICAgICAgZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgdXJsb3BlbgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHVybG9wZW4oZiJodHRwOi8vbG9jYWxob3N0OntzZWxmLmFkZHJlc3NbMV19LyFjdXJyZW50IikucmVhZCgpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgc2VsZi5ydW4odXJsKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHVybG9wZW4oZiJodHRwOi8vbG9jYWxob3N0OntzZWxmLmFkZHJlc3NbMV19LyIgKyB1cmwubHN0cmlwKCIvIikpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBnZXRfc3RvcmUoc2VsZikgLT4gc3RvcmUuU3RvcmU6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJucyB0aGUgYXBwbGljYXRpb24gc3RvcmUgaW5zdGFuY2UuCiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3N0b3JlCg",
					"AQAAAAAAAAABAAAAcRAAAAAAAABxEAAAAAAAAAAAAAAAAPC/"
				],
				[
					33,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAALEWAAAAAAAAshYAAAAAAAAAAAAAshYAAAAAAAC+FgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsRYAAAAAAACxFgAAAAAAAAAAAAAAAPC/"
				],
				[
					34,
					1,
					"left_delete",
					null,
					"AQAAALoWAAAAAAAAuhYAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAvhYAAAAAAAC+FgAAAAAAAAAAAAAAAPC/"
				],
				[
					35,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAALoWAAAAAAAAuxYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuhYAAAAAAAC6FgAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"left_delete",
					null,
					"AQAAALIWAAAAAAAAshYAAAAAAAAKAAAAICAgICAgICBzCg",
					"AQAAAAAAAAABAAAAshYAAAAAAAC8FgAAAAAAAAAAAAAAAPC/"
				],
				[
					54,
					1,
					"insert",
					{
						"characters": "\nself.lay"
					},
					"CgAAAIsXAAAAAAAAjBcAAAAAAAAAAAAAjBcAAAAAAACUFwAAAAAAAAAAAACUFwAAAAAAAJUXAAAAAAAAAAAAAJUXAAAAAAAAlhcAAAAAAAAAAAAAlhcAAAAAAACXFwAAAAAAAAAAAACXFwAAAAAAAJgXAAAAAAAAAAAAAJgXAAAAAAAAmRcAAAAAAAAAAAAAmRcAAAAAAACaFwAAAAAAAAAAAACaFwAAAAAAAJsXAAAAAAAAAAAAAJsXAAAAAAAAnBcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAixcAAAAAAACLFwAAAAAAAAAAAAAAAPC/"
				],
				[
					55,
					1,
					"insert_dimensions",
					null,
					"AgAAAJkXAAAAAAAAmRcAAAAAAAADAAAAbGF5mRcAAAAAAACfFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnBcAAAAAAACcFwAAAAAAAAAAAAAAAPC/"
				],
				[
					56,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAJ8XAAAAAAAAoBcAAAAAAAAAAAAAoBcAAAAAAAChFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnxcAAAAAAACfFwAAAAAAAAAAAAAAAPC/"
				],
				[
					57,
					1,
					"insert",
					{
						"characters": " self.lay"
					},
					"CQAAAKEXAAAAAAAAohcAAAAAAAAAAAAAohcAAAAAAACjFwAAAAAAAAAAAACjFwAAAAAAAKQXAAAAAAAAAAAAAKQXAAAAAAAApRcAAAAAAAAAAAAApRcAAAAAAACmFwAAAAAAAAAAAACmFwAAAAAAAKcXAAAAAAAAAAAAAKcXAAAAAAAAqBcAAAAAAAAAAAAAqBcAAAAAAACpFwAAAAAAAAAAAACpFwAAAAAAAKoXAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoRcAAAAAAAChFwAAAAAAAAAAAAAAAPC/"
				],
				[
					59,
					1,
					"insert_dimensions",
					null,
					"AgAAAKcXAAAAAAAApxcAAAAAAAADAAAAbGF5pxcAAAAAAACzFwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqhcAAAAAAACqFwAAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAALMXAAAAAAAAtRcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsxcAAAAAAACzFwAAAAAAAAAAAAAAAPC/"
				],
				[
					63,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA+SUAAAAAAAD5JQAAIiIiXApQcm92aWRlcyBiYXNlIGNsYXNzIGZvciB0YWt0ayBhcHBsaWNhdGlvbiBjcmVhdGlvbgpDb3B5cmlnaHQgKEMpIDIwMjIgIGtlbi1tb3JlbAoKVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KClRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLApidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgpNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgpZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQphbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCiIiIgpmcm9tIGxvZ2dpbmcgaW1wb3J0IGdldExvZ2dlcgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0ZW1wZmlsZSBpbXBvcnQgTmFtZWRUZW1wb3JhcnlGaWxlCmZyb20gdHlwZXMgaW1wb3J0IE1vZHVsZVR5cGUKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgT3B0aW9uYWwKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQpmcm9tIHR0a2Jvb3RzdHJhcCBpbXBvcnQgV2luZG93CmZyb20gLiBpbXBvcnQgKAogICAgT05fQ1JFQVRFX0hBTkRMRVJTLAogICAgYXBwbGljYXRpb25fc2VydmVyLAogICAgY29tcG9uZW50LAogICAgZGljdGlvbmFyeSwKICAgIG1lZGlhLAogICAgbWVudSwKICAgIHBhZ2UsCiAgICBzdG9yZSwKKQoKbG9nID0gZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBhbm5vdGF0ZQpjbGFzcyBBcHBsaWNhdGlvbjoKICAgICIiIgogICAgSGFzIG9wdGlvbmFsIGF0dHJpYnV0ZXMgdG8gc3BlY2lmeSBiZWhhdmlvdXIgaW5jbHVkaW5nOgoKICAgIC0gKipkaWN0aW9uYXJpZXMqKjogVGhlIHBhdGggdG8gdGhlIGRpY3Rpb25uYXJ5IGRpcmVjdG9yeSB0YWt0ayBzaG91bGQKICAgICAgZmV0Y2ggZGljdGlvbmFyaWVzIGZyb20KICAgIC0gKipmYWxsYmFja19sYW5ndWFnZSoqOiBUaGUgZmFsbGJhY2sgbGFuZ3VhZ2UgdG8gdXNlIGluIGNhc2UgdGhlIGxvY2FsZSdzCiAgICAgIGxhbmd1YWdlIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiBkaWN0aW9uYXJpZXMKICAgIC0gKipwYXJhbXMqKjogYGRpY3Rbc3RyLF1gOiBBZGRpdGlvbmFsIHBhcmFtcyB0byBwYXNzIHRvIHR0a2Jvb3RzdHJhcAogICAgICBXaW5kb3cgb24gd2luZG93CiAgICAgIGNyZWF0aW9uLgogICAgLSAqKm1lbnUqKjogYW4gb3B0aW9uYWwgYHRha3RrLm1lbnUuTWVudWAgb2JqZWN0IHRvIHVzZSBhcyB0b3BsZXZlbCBtZW51CiAgICAtICoqbGF5b3V0Kio6IGFuIGluc3RhbmNlIG9mIGBMYXlvdXRgIGNsYXNzIHlvdSBzaG91bGQgZGVmaW5lIHlvdXJzZWxmCiAgICAtICoqZGVzdHJveV9jYWNoZSoqOiBFeHBlcmltZW50YWw6IGRlc3Ryb3lzIG9ubHkgdGhlIGxhc3Qge3h9IHZpZXdlZAogICAgICBjb21wb25lbnQncyB3aWRnZXQgdG8gcmVkdWNlIGNoYW5jZXMgZm9yIGFwcCB0byBhYnJ1cHRseSByZXNpemUKICAgICIiIgoKICAgIGRpY3Rpb25hcmllczogZGljdGlvbmFyeS5EaWN0aW9uYXJpZXMgPSBOb25lCiAgICBmYWxsYmFja19sYW5ndWFnZTogc3RyCiAgICBtZW51OiBPcHRpb25hbFttZW51Lk1lbnVdCiAgICBsYXlvdXQ6IE9wdGlvbmFsW2NvbXBvbmVudC5Db21wb25lbnRdCiAgICBkZXN0cm95X2NhY2hlOiBpbnQgPSA1CiAgICBfc3RvcmU6IE9wdGlvbmFsW3N0b3JlLlN0b3JlXSA9IE5vbmUKICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0KICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXQogICAgX2NyZWF0ZV9wYXJhbXM6IHR1cGxlWwogICAgICAgIE9wdGlvbmFsW1BhdGggfCBzdHIgfCBkaWN0aW9uYXJ5LkRpY3Rpb25hcmllc10sCiAgICAgICAgZGljdFtzdHIsIEFueV0sCiAgICAgICAgdHVwbGVbTm9uZSwgZGljdF0gfCBzdG9yZS5TdG9yZSwKICAgICAgICBPcHRpb25hbFtQYXRoIHwgc3RyIHwgbWVkaWEuSW1hZ2VdLAogICAgICAgIHR5cGUoV2luZG93KSwKICAgIF0KICAgIG1lZGlhX3BhdGg6IE9wdGlvbmFsW3N0ciB8IFBhdGhdCiAgICBwYWdlczogTW9kdWxlVHlwZQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHBhZ2VzOiBNb2R1bGVUeXBlLAogICAgICAgIGRpY3Rpb25hcmllczogT3B0aW9uYWxbUGF0aCB8IHN0ciB8IGRpY3Rpb25hcnkuRGljdGlvbmFyaWVzXSA9IE5vbmUsCiAgICAgICAgZmFsbGJhY2tfbGFuZ3VhZ2U6IHN0ciA9ICJlbmdsaXNoIiwKICAgICAgICBwYXJhbXM6IGRpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgbWVudTogT3B0aW9uYWxbbWVudS5NZW51XSA9IE5vbmUsCiAgICAgICAgbGF5b3V0OiBPcHRpb25hbFtjb21wb25lbnQuQ29tcG9uZW50XSA9IE5vbmUsCiAgICAgICAgc3RvcmU6IHR1cGxlW05vbmUsIGRpY3RdIHwgc3RvcmUuU3RvcmUgPSAoTm9uZSwge30pLAogICAgICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0gPSBOb25lLAogICAgICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXSA9IE5vbmUsCiAgICAgICAgbWVkaWFfcGF0aDogT3B0aW9uYWxbc3RyIHwgUGF0aF0gPSBOb25lLAogICAgICAgIHdpbmRvd19jbGFzczogdHlwZShXaW5kb3cpID0gV2luZG93LAogICAgKToKICAgICAgICAiIiIKICAgICAgICBJbml0aWFsaXplIHRoZSBhcHAgYW5kIHN0b3JlIG1vc3Qgb2YgdGhlIHBhc3NlZCBwYXJhbWV0ZXJzIGludG8KICAgICAgICBgLl9jcmVhdGVfcGFyYW1zYC4KCiAgICAgICAgOnBhcmFtIGRpY3Rpb25hcmllczogVGhlIHBhdGggdG8gdGhlIGFwcGxpY2F0aW9uIGRpY3Rpb25hcmllcyBkaXJlY3RvcnkKICAgICAgICBvciBhIGB0YWt0ay5kaWN0aW9uYXJ5LkRpY3Rpb25hcnlgIGluc3RhbmNlLgoKICAgICAgICA6cGFyYW0gZmFsbGJhY2tfbGFuZ3VhZ2U6IFRoZSBmYWxsYmFjayBsYW5ndWFnZSB0byBmZXRjaCBmcm9tCiAgICAgICAgZGljdGlvbmFyeSBpZiBsb2NhbGUncyBkb2VzIG5vdCBzdWNjZWVkLgoKICAgICAgICA6cGFyYW0gcGFyYW1zOiBBZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBgd2luZG93X2NsYXNzYCBvbgogICAgICAgIHdpbmRvdyBjcmVhdGlvbi4KCiAgICAgICAgOnBhcmFtIG1lbnU6IFRoZSBvcHRpb25hbCBhcHBsaWNhdGlvbiBtZW51LCBhIGB0YWt0ay5tZW51Lk1lbnVgCiAgICAgICAgaW5zdGFuY2UKCiAgICAgICAgOnBhcmFtIGxheW91dDogVGhlIGFwcGxpY2F0aW9uIGxheW91dCBjb21wb25lbnQgaW5zdGFuY2UgdG8gdXNlLgoKICAgICAgICA6cGFyYW0gc3RvcmU6IFRoZSBwYXRoIHRvIGFwcGxpY2F0aW9uIGpzb24gX3N0b3JlXyBkYXRhYmFzZS4KCiAgICAgICAgOnBhcmFtIGFkZHJlc3M6IFRoZSB3ZWIgYWRkcmVzcyB0dXBsZSBmb3IgYXBwbGljYXRpb24gc2VydmVyCiAgICAgICAgdG8gbGlzdGVuIGF0CgogICAgICAgIDpwYXJhbSBpY29uOiBUaGUgb3B0aW9uYWwgYXBwbGljYXRpb24gaWNvbiBzcGVjIG9yIGB0YWt0ay5tZWRpYS5JbWFnZWAKICAgICAgICBpbnN0YW5jZQoKICAgICAgICA6cGFyYW0gbWVkaWFfcGF0aDogVGhlIG9wdGlvbmFsIHBhdGggdG8gZ2xvYmFsIG1lZGlhIGRpcmVjdG9yeQoKICAgICAgICA6cGFyYW0gd2luZG93X2NsYXNzOiBUaGUgY2xhc3MgdG8gY2FsbCBvbiB3aW5kb3cgY3JlYXRpb24uCgogICAgICAgIDpwYXJhbSBwYWdlczogVGhlIHBhZ2VzIG1vZHVsZQogICAgICAgICIiIgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbiA9IHNlbGYKCiAgICAgICAgc2VsZi5tZW51ID0gbWVudQogICAgICAgIHNlbGYubGF5b3V0X2NsYXNzID0gbGF5b3V0CiAgICAgICAgc2VsZi5sYXlvdXQgPSBOb25lCiAgICAgICAgc2VsZi5hZGRyZXNzID0gYWRkcmVzcwogICAgICAgIHNlbGYubWVkaWFfcGF0aCA9IG1lZGlhX3BhdGgKICAgICAgICBzZWxmLnBhZ2VzID0gcGFnZXMKCiAgICAgICAgc2VsZi5mYWxsYmFja19sYW5ndWFnZSA9IGZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgc2VsZi5fY3JlYXRlX3BhcmFtcyA9ICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzLAogICAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICAgIHN0b3JlLAogICAgICAgICAgICBpY29uLAogICAgICAgICAgICB3aW5kb3dfY2xhc3MsCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgICIiIgogICAgICAgIFN1YmNsYXNzIHRoaXMgbWV0aG9kIHRvIGluaXRpYWxpemUgeW91ciBhcHAgc3BlY2lmaWMgcGFyYW1ldGVycwogICAgICAgICIiIgoKICAgIGRlZiBzZXRfbGFuZ3VhZ2Uoc2VsZiwgbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUpOgogICAgICAgICIiIgogICAgICAgIEluc3RhbGxzIHRoZSBsYW5ndWFnZSBwYXNzZWQgYXMgYXJndW1lbnQgb3IgdGhlIGFwcGxpY2F0aW9ucwogICAgICAgIGAuZmFsbGJhY2tfbGFuZ3VhZ2VgCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5kaWN0aW9uYXJpZXMuZ2V0KAogICAgICAgICAgICBsYW5ndWFnZT1sYW5nLCBmYWxsYmFja19sYW5ndWFnZT1zZWxmLmZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgKS5pbnN0YWxsKCkKCiAgICBkZWYgc2V0dXBfdGFrdGsoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgSW50ZXJuYWwgdG8gc2V0IHVwIHRha3RrIGNvbXBvbmVudHMgZm9yIGFwcCBpbml0aWFsaXphdGlvbgogICAgICAgICIiIgogICAgICAgICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzX3BhdGgsCiAgICAgICAgICAgIF8sCiAgICAgICAgICAgIF9zdG9yZSwKICAgICAgICAgICAgKl9fLAogICAgICAgICkgPSBzZWxmLl9jcmVhdGVfcGFyYW1zCiAgICAgICAgaWYgaXNpbnN0YW5jZShfc3RvcmUsIHN0b3JlLlN0b3JlKToKICAgICAgICAgICAgc2VsZi5fc3RvcmUgPSBfc3RvcmUKICAgICAgICBlbGlmIGlzaW5zdGFuY2UoX3N0b3JlLCB0dXBsZSk6CiAgICAgICAgICAgIF9zdG9yZSwgZGVmYXVsdCA9IF9zdG9yZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRlZmF1bHQgPSB7fQogICAgICAgICAgICBpZiBfc3RvcmUgaXMgTm9uZToKICAgICAgICAgICAgICAgIHNlbGYuX3N0b3JlX2ZpbGUgPSBOYW1lZFRlbXBvcmFyeUZpbGUoZGVsZXRlPUZhbHNlKQogICAgICAgICAgICAgICAgX3N0b3JlID0gc2VsZi5fc3RvcmVfZmlsZS5uYW1lCiAgICAgICAgICAgIHNlbGYuX3N0b3JlID0gc3RvcmUuU3RvcmUoX3N0b3JlLCBkZWZhdWx0PWRlZmF1bHQpCiAgICAgICAgaWYgZGljdGlvbmFyaWVzX3BhdGggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYuZGljdGlvbmFyaWVzID0gZGljdGlvbmFyeS5EaWN0aW9uYXJpZXMoZGljdGlvbmFyaWVzX3BhdGgpCiAgICAgICAgICAgIHNlbGYuc2V0X2xhbmd1YWdlKCkKICAgICAgICBpZiBzZWxmLm1lZGlhX3BhdGggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1lZGlhLk1FRElBX0RJUiA9IFBhdGgoc2VsZi5tZWRpYV9wYXRoKQoKICAgIGRlZiBjcmVhdGUoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgQ3JlYXRlcyB0aGUgYXBwIGNvbnRhaW5lcgogICAgICAgICIiIgogICAgICAgICgKICAgICAgICAgICAgXywKICAgICAgICAgICAgcGFyYW1zLAogICAgICAgICAgICBfXywKICAgICAgICAgICAgaWNvbiwKICAgICAgICAgICAgd2luZG93X2NsYXNzLAogICAgICAgICkgPSBzZWxmLl9jcmVhdGVfcGFyYW1zCiAgICAgICAgc2VsZi5sYXlvdXQgPSBzZWxmLmxheW91dF9jbGFzcygpCiAgICAgICAgaWYgaWNvbiBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpY29uLCBzdHIpOgogICAgICAgICAgICAgICAgc2VsZi5pY29uID0gbWVkaWEuZ2V0X2ltYWdlKGljb24pCiAgICAgICAgICAgICAgICBwYXJhbXNbImljb25waG90byJdID0gc2VsZi5pY29uLmZ1bGxfcGF0aAogICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoaWNvbiwgbWVkaWEuSW1hZ2UpOgogICAgICAgICAgICAgICAgc2VsZi5pY29uID0gaWNvbgogICAgICAgICAgICAgICAgcGFyYW1zWyJpY29ucGhvdG8iXSA9IHNlbGYuaWNvbi5mdWxsX3BhdGgKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICAgICAgZiJXcm9uZyBpY29uIHBhcmFtZXRlciB7aWNvbiFyfSB3YXMiCiAgICAgICAgICAgICAgICAgICAgZiIgcGFzc2VkIHRvIHtzZWxmLl9fY2xhc3NfXy5fX25hbWVfX30uX19pbml0X18iCiAgICAgICAgICAgICAgICApCiAgICAgICAgc2VsZi5yb290ID0gcm9vdCA9IHdpbmRvd19jbGFzcygqKnBhcmFtcykKICAgICAgICByb290LmNvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICByb290LnJvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICBpZiBzZWxmLm1lbnUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYubWVudS50b3BsZXZlbChyb290KQogICAgICAgIGlmIHNlbGYubGF5b3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLmxheW91dC5yZW5kZXIoc2VsZi5yb290KQogICAgICAgICAgICBzZWxmLmxheW91dC5jb250YWluZXIuZ3JpZChjb2x1bW49MCwgcm93PTAsIHN0aWNreT0ibnNldyIpCiAgICAgICAgICAgIHJldHVybiBzZWxmLmxheW91dFsib3V0bGV0Il0ub3V0bGV0CiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHJvb3QKCiAgICBkZWYgcnVuKHNlbGYsIGVudHJ5OiBzdHIgPSAiLyIpOgogICAgICAgICIiIgogICAgICAgIFJ1bnMgdGhlIGFwcCB3aXRoIHRoZSBzcGVjaWZpZWQgZW50cnkgcG9pbnQuCiAgICAgICAgVEhlIHBhc3NlZCBgZW50cnlgIGlzIHNldCBhcyBmaXJzdCBwYWdlCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5zZXR1cF90YWt0aygpCiAgICAgICAgcm9vdCA9IHNlbGYuY3JlYXRlKCkKICAgICAgICBzZWxmLmluaXQoKQogICAgICAgIGZvciBoYW5kbGVyIGluIE9OX0NSRUFURV9IQU5ETEVSUzoKICAgICAgICAgICAgaGFuZGxlcihzZWxmKQogICAgICAgIGlmIHNlbGYuYWRkcmVzcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5saXN0ZW5fYXQoc2VsZi5hZGRyZXNzKQogICAgICAgIHNlbGYudmlldyA9IHBhZ2UuUGFnZVZpZXcocm9vdCwgc2VsZi5wYWdlcywgc2VsZiwgc2VsZi5kZXN0cm95X2NhY2hlKQogICAgICAgIHNlbGYudmlldy5nZW9tZXRyeSgpCiAgICAgICAgc2VsZi52aWV3LnVybChlbnRyeSkKICAgICAgICBzZWxmLnJvb3QubWFpbmxvb3AoKQoKICAgIGRlZiBfX2NhbGxfXygKICAgICAgICBzZWxmLAogICAgICAgIG1vZHVsZTogc3RyLAogICAgICAgIGZ1bmN0aW9uOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICByZWRpcmVjdDogYm9vbCA9IFRydWUsCiAgICAgICAgLywKICAgICAgICAqKnBhcmFtcywKICAgICk6CiAgICAgICAgIiIiCiAgICAgICAgUmVmZXIgdG8gdGhlIGFwcCdzIHZpZXcgcm91dGluZyBzeXN0ZW0gd2l0aCB0aGUgc3BlY2lmaWVkIHBhcmFtczoKCiAgICAgICAgOnBhcmFtIG1vZHVsZTogVGhlIHNsYXNoIHNlcGVyYXRlZCBwYXRoIHRvIHRoZSBtb2R1bGUKICAgICAgICA6cGFyYW0gZnVuY3Rpb246IG9wdGlvbmFsIGhhbmRsZXIgbmFtZSB0byBjYWxsCiAgICAgICAgOnBhcmFtIHJlZGlyZWN0OiBpbnN0cnVjdHMgdGhlIGFwcCB0byBmb2xsb3cgcmVkaXJlY3RzCiAgICAgICAgOnBhcmFtIHBhcmFtczogRXh0cmEgcGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIGhhbmRsZXIKICAgICAgICAiIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmICJAIiBpbiBtb2R1bGUgb3IgIiMiIGluIG1vZHVsZToKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IobW9kdWxlLCBmIkRpZCB5b3UgbWVhbiBhcHAudXJsKC4uLik/IikKICAgICAgICAgICAgc2VsZi52aWV3KG1vZHVsZSwgZnVuY3Rpb24sIHBhcmFtcykKICAgICAgICBleGNlcHQgcGFnZS5SZWRpcmVjdCBhcyBlOgogICAgICAgICAgICB0YXJnZXQgPSBlLnVybAogICAgICAgICAgICBpZiByZWRpcmVjdDoKICAgICAgICAgICAgICAgIHNlbGYudmlldy51cmwodGFyZ2V0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmFpc2UKICAgICAgICBzZWxmLmxheW91dC51cGRhdGUoKQoKICAgIGRlZiB1cmwoc2VsZiwgdXJsOiBzdHIpOgogICAgICAgICIiIgogICAgICAgIFRhcmdldHMgdGhlIGFwcCB0byB0aGUgc3BlY2lmaWVkIHVybAogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLnZpZXcudXJsKHVybCkKCiAgICBkZWYgZXhpdChzZWxmKToKICAgICAgICAiIiIKICAgICAgICBDbG9zZXMgdGhlIGFwcCB3aW5kb3cuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5yb290LmRlc3Ryb3koKQoKICAgIGRlZiBsaXN0ZW5fYXQoc2VsZiwgYWRkcmVzczogdHVwbGVbc3RyLCBpbnRdKToKICAgICAgICAiIiIKICAgICAgICBzdGFydHMgYSBgdGFrdGsuYXBwbGljYXRpb25fc2VydmVyLkFwcGxpY2F0aW9uU2VydmVyYCBhdCBzcGVjaWZpZWQKICAgICAgICBhZGRyZXNzCiAgICAgICAgIiIiCiAgICAgICAgYXBwbGljYXRpb25fc2VydmVyLkFwcGxpY2F0aW9uU2VydmVyKHNlbGYsIGFkZHJlc3MpLnRocmVhZF9zZXJ2ZSgpCgogICAgZGVmIHJlZGlyZWN0X3RvX3NpbmdsZXRvbihzZWxmLCB1cmw6IHN0ciA9ICIiKSAtPiBib29sOgogICAgICAgICIiIgogICAgICAgIFRyaWVzIHRvIHF1ZXJ5IHRoZSBhcHBzIGFkZHJlc3MgYW5kOgogICAgICAgIC0gaWYgc3VjY2VlZHMsIHNlbmRzIGEgcmVxdWVzdCB0byB0aGUgaW5zdGFuY2Ugd2l0aCB0aGUgcGFzc2VkIHVybAogICAgICAgIC0gaWYgZmFpbHMsIHN0YXJ0cyBhbiBpbnN0YW5jZSBvZiB0aGUgYXBwbGljYXRpb24KCiAgICAgICAgOnJldHVybnM6IEEgYm9vbGVhbiB0ZWxsaW5nIGlmIHRoZSBhcHAgaW5zdGFuY2Ugd2FzIHN0YXJ0ZWQuCiAgICAgICAgIiIiCiAgICAgICAgZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgdXJsb3BlbgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHVybG9wZW4oZiJodHRwOi8vbG9jYWxob3N0OntzZWxmLmFkZHJlc3NbMV19LyFjdXJyZW50IikucmVhZCgpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgc2VsZi5ydW4odXJsKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHVybG9wZW4oZiJodHRwOi8vbG9jYWxob3N0OntzZWxmLmFkZHJlc3NbMV19LyIgKyB1cmwubHN0cmlwKCIvIikpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBnZXRfc3RvcmUoc2VsZikgLT4gc3RvcmUuU3RvcmU6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJucyB0aGUgYXBwbGljYXRpb24gc3RvcmUgaW5zdGFuY2UuCiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3N0b3JlCg",
					"AQAAAAAAAAABAAAAtBcAAAAAAAC0FwAAAAAAAAAAAAAAAPC/"
				],
				[
					80,
					1,
					"left_delete",
					null,
					"AQAAAIgKAAAAAAAAiAoAAAAAAAATAAAAY29tcG9uZW50LkNvbXBvbmVudA",
					"AQAAAAAAAAABAAAAiAoAAAAAAACbCgAAAAAAAAAAAAAAAPC/"
				],
				[
					81,
					1,
					"insert",
					{
						"characters": "type"
					},
					"BAAAAIgKAAAAAAAAiQoAAAAAAAAAAAAAiQoAAAAAAACKCgAAAAAAAAAAAACKCgAAAAAAAIsKAAAAAAAAAAAAAIsKAAAAAAAAjAoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiAoAAAAAAACICgAAAAAAAAAAAAAAAPC/"
				],
				[
					84,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA6iUAAAAAAADqJQAAIiIiXApQcm92aWRlcyBiYXNlIGNsYXNzIGZvciB0YWt0ayBhcHBsaWNhdGlvbiBjcmVhdGlvbgpDb3B5cmlnaHQgKEMpIDIwMjIgIGtlbi1tb3JlbAoKVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KClRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLApidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgpNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgpZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQphbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCiIiIgpmcm9tIGxvZ2dpbmcgaW1wb3J0IGdldExvZ2dlcgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0ZW1wZmlsZSBpbXBvcnQgTmFtZWRUZW1wb3JhcnlGaWxlCmZyb20gdHlwZXMgaW1wb3J0IE1vZHVsZVR5cGUKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgT3B0aW9uYWwKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQpmcm9tIHR0a2Jvb3RzdHJhcCBpbXBvcnQgV2luZG93CmZyb20gLiBpbXBvcnQgKAogICAgT05fQ1JFQVRFX0hBTkRMRVJTLAogICAgYXBwbGljYXRpb25fc2VydmVyLAogICAgY29tcG9uZW50LAogICAgZGljdGlvbmFyeSwKICAgIG1lZGlhLAogICAgbWVudSwKICAgIHBhZ2UsCiAgICBzdG9yZSwKKQoKbG9nID0gZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBhbm5vdGF0ZQpjbGFzcyBBcHBsaWNhdGlvbjoKICAgICIiIgogICAgSGFzIG9wdGlvbmFsIGF0dHJpYnV0ZXMgdG8gc3BlY2lmeSBiZWhhdmlvdXIgaW5jbHVkaW5nOgoKICAgIC0gKipkaWN0aW9uYXJpZXMqKjogVGhlIHBhdGggdG8gdGhlIGRpY3Rpb25uYXJ5IGRpcmVjdG9yeSB0YWt0ayBzaG91bGQKICAgICAgZmV0Y2ggZGljdGlvbmFyaWVzIGZyb20KICAgIC0gKipmYWxsYmFja19sYW5ndWFnZSoqOiBUaGUgZmFsbGJhY2sgbGFuZ3VhZ2UgdG8gdXNlIGluIGNhc2UgdGhlIGxvY2FsZSdzCiAgICAgIGxhbmd1YWdlIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiBkaWN0aW9uYXJpZXMKICAgIC0gKipwYXJhbXMqKjogYGRpY3Rbc3RyLF1gOiBBZGRpdGlvbmFsIHBhcmFtcyB0byBwYXNzIHRvIHR0a2Jvb3RzdHJhcAogICAgICBXaW5kb3cgb24gd2luZG93CiAgICAgIGNyZWF0aW9uLgogICAgLSAqKm1lbnUqKjogYW4gb3B0aW9uYWwgYHRha3RrLm1lbnUuTWVudWAgb2JqZWN0IHRvIHVzZSBhcyB0b3BsZXZlbCBtZW51CiAgICAtICoqbGF5b3V0Kio6IGFuIGluc3RhbmNlIG9mIGBMYXlvdXRgIGNsYXNzIHlvdSBzaG91bGQgZGVmaW5lIHlvdXJzZWxmCiAgICAtICoqZGVzdHJveV9jYWNoZSoqOiBFeHBlcmltZW50YWw6IGRlc3Ryb3lzIG9ubHkgdGhlIGxhc3Qge3h9IHZpZXdlZAogICAgICBjb21wb25lbnQncyB3aWRnZXQgdG8gcmVkdWNlIGNoYW5jZXMgZm9yIGFwcCB0byBhYnJ1cHRseSByZXNpemUKICAgICIiIgoKICAgIGRpY3Rpb25hcmllczogZGljdGlvbmFyeS5EaWN0aW9uYXJpZXMgPSBOb25lCiAgICBmYWxsYmFja19sYW5ndWFnZTogc3RyCiAgICBtZW51OiBPcHRpb25hbFttZW51Lk1lbnVdCiAgICBsYXlvdXQ6IE9wdGlvbmFsW2NvbXBvbmVudC5Db21wb25lbnRdCiAgICBkZXN0cm95X2NhY2hlOiBpbnQgPSA1CiAgICBfc3RvcmU6IE9wdGlvbmFsW3N0b3JlLlN0b3JlXSA9IE5vbmUKICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0KICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXQogICAgX2NyZWF0ZV9wYXJhbXM6IHR1cGxlWwogICAgICAgIE9wdGlvbmFsW1BhdGggfCBzdHIgfCBkaWN0aW9uYXJ5LkRpY3Rpb25hcmllc10sCiAgICAgICAgZGljdFtzdHIsIEFueV0sCiAgICAgICAgdHVwbGVbTm9uZSwgZGljdF0gfCBzdG9yZS5TdG9yZSwKICAgICAgICBPcHRpb25hbFtQYXRoIHwgc3RyIHwgbWVkaWEuSW1hZ2VdLAogICAgICAgIHR5cGUoV2luZG93KSwKICAgIF0KICAgIG1lZGlhX3BhdGg6IE9wdGlvbmFsW3N0ciB8IFBhdGhdCiAgICBwYWdlczogTW9kdWxlVHlwZQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHBhZ2VzOiBNb2R1bGVUeXBlLAogICAgICAgIGRpY3Rpb25hcmllczogT3B0aW9uYWxbUGF0aCB8IHN0ciB8IGRpY3Rpb25hcnkuRGljdGlvbmFyaWVzXSA9IE5vbmUsCiAgICAgICAgZmFsbGJhY2tfbGFuZ3VhZ2U6IHN0ciA9ICJlbmdsaXNoIiwKICAgICAgICBwYXJhbXM6IGRpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgbWVudTogT3B0aW9uYWxbbWVudS5NZW51XSA9IE5vbmUsCiAgICAgICAgbGF5b3V0OiBPcHRpb25hbFt0eXBlXSA9IE5vbmUsCiAgICAgICAgc3RvcmU6IHR1cGxlW05vbmUsIGRpY3RdIHwgc3RvcmUuU3RvcmUgPSAoTm9uZSwge30pLAogICAgICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0gPSBOb25lLAogICAgICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXSA9IE5vbmUsCiAgICAgICAgbWVkaWFfcGF0aDogT3B0aW9uYWxbc3RyIHwgUGF0aF0gPSBOb25lLAogICAgICAgIHdpbmRvd19jbGFzczogdHlwZShXaW5kb3cpID0gV2luZG93LAogICAgKToKICAgICAgICAiIiIKICAgICAgICBJbml0aWFsaXplIHRoZSBhcHAgYW5kIHN0b3JlIG1vc3Qgb2YgdGhlIHBhc3NlZCBwYXJhbWV0ZXJzIGludG8KICAgICAgICBgLl9jcmVhdGVfcGFyYW1zYC4KCiAgICAgICAgOnBhcmFtIGRpY3Rpb25hcmllczogVGhlIHBhdGggdG8gdGhlIGFwcGxpY2F0aW9uIGRpY3Rpb25hcmllcyBkaXJlY3RvcnkKICAgICAgICBvciBhIGB0YWt0ay5kaWN0aW9uYXJ5LkRpY3Rpb25hcnlgIGluc3RhbmNlLgoKICAgICAgICA6cGFyYW0gZmFsbGJhY2tfbGFuZ3VhZ2U6IFRoZSBmYWxsYmFjayBsYW5ndWFnZSB0byBmZXRjaCBmcm9tCiAgICAgICAgZGljdGlvbmFyeSBpZiBsb2NhbGUncyBkb2VzIG5vdCBzdWNjZWVkLgoKICAgICAgICA6cGFyYW0gcGFyYW1zOiBBZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBgd2luZG93X2NsYXNzYCBvbgogICAgICAgIHdpbmRvdyBjcmVhdGlvbi4KCiAgICAgICAgOnBhcmFtIG1lbnU6IFRoZSBvcHRpb25hbCBhcHBsaWNhdGlvbiBtZW51LCBhIGB0YWt0ay5tZW51Lk1lbnVgCiAgICAgICAgaW5zdGFuY2UKCiAgICAgICAgOnBhcmFtIGxheW91dDogVGhlIGFwcGxpY2F0aW9uIGxheW91dCBjb21wb25lbnQgaW5zdGFuY2UgdG8gdXNlLgoKICAgICAgICA6cGFyYW0gc3RvcmU6IFRoZSBwYXRoIHRvIGFwcGxpY2F0aW9uIGpzb24gX3N0b3JlXyBkYXRhYmFzZS4KCiAgICAgICAgOnBhcmFtIGFkZHJlc3M6IFRoZSB3ZWIgYWRkcmVzcyB0dXBsZSBmb3IgYXBwbGljYXRpb24gc2VydmVyCiAgICAgICAgdG8gbGlzdGVuIGF0CgogICAgICAgIDpwYXJhbSBpY29uOiBUaGUgb3B0aW9uYWwgYXBwbGljYXRpb24gaWNvbiBzcGVjIG9yIGB0YWt0ay5tZWRpYS5JbWFnZWAKICAgICAgICBpbnN0YW5jZQoKICAgICAgICA6cGFyYW0gbWVkaWFfcGF0aDogVGhlIG9wdGlvbmFsIHBhdGggdG8gZ2xvYmFsIG1lZGlhIGRpcmVjdG9yeQoKICAgICAgICA6cGFyYW0gd2luZG93X2NsYXNzOiBUaGUgY2xhc3MgdG8gY2FsbCBvbiB3aW5kb3cgY3JlYXRpb24uCgogICAgICAgIDpwYXJhbSBwYWdlczogVGhlIHBhZ2VzIG1vZHVsZQogICAgICAgICIiIgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbiA9IHNlbGYKCiAgICAgICAgc2VsZi5tZW51ID0gbWVudQogICAgICAgIHNlbGYubGF5b3V0X2NsYXNzID0gbGF5b3V0CiAgICAgICAgc2VsZi5sYXlvdXQgPSBOb25lCiAgICAgICAgc2VsZi5hZGRyZXNzID0gYWRkcmVzcwogICAgICAgIHNlbGYubWVkaWFfcGF0aCA9IG1lZGlhX3BhdGgKICAgICAgICBzZWxmLnBhZ2VzID0gcGFnZXMKCiAgICAgICAgc2VsZi5mYWxsYmFja19sYW5ndWFnZSA9IGZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgc2VsZi5fY3JlYXRlX3BhcmFtcyA9ICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzLAogICAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICAgIHN0b3JlLAogICAgICAgICAgICBpY29uLAogICAgICAgICAgICB3aW5kb3dfY2xhc3MsCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgICIiIgogICAgICAgIFN1YmNsYXNzIHRoaXMgbWV0aG9kIHRvIGluaXRpYWxpemUgeW91ciBhcHAgc3BlY2lmaWMgcGFyYW1ldGVycwogICAgICAgICIiIgoKICAgIGRlZiBzZXRfbGFuZ3VhZ2Uoc2VsZiwgbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUpOgogICAgICAgICIiIgogICAgICAgIEluc3RhbGxzIHRoZSBsYW5ndWFnZSBwYXNzZWQgYXMgYXJndW1lbnQgb3IgdGhlIGFwcGxpY2F0aW9ucwogICAgICAgIGAuZmFsbGJhY2tfbGFuZ3VhZ2VgCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5kaWN0aW9uYXJpZXMuZ2V0KAogICAgICAgICAgICBsYW5ndWFnZT1sYW5nLCBmYWxsYmFja19sYW5ndWFnZT1zZWxmLmZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgKS5pbnN0YWxsKCkKCiAgICBkZWYgc2V0dXBfdGFrdGsoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgSW50ZXJuYWwgdG8gc2V0IHVwIHRha3RrIGNvbXBvbmVudHMgZm9yIGFwcCBpbml0aWFsaXphdGlvbgogICAgICAgICIiIgogICAgICAgICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzX3BhdGgsCiAgICAgICAgICAgIF8sCiAgICAgICAgICAgIF9zdG9yZSwKICAgICAgICAgICAgKl9fLAogICAgICAgICkgPSBzZWxmLl9jcmVhdGVfcGFyYW1zCiAgICAgICAgaWYgaXNpbnN0YW5jZShfc3RvcmUsIHN0b3JlLlN0b3JlKToKICAgICAgICAgICAgc2VsZi5fc3RvcmUgPSBfc3RvcmUKICAgICAgICBlbGlmIGlzaW5zdGFuY2UoX3N0b3JlLCB0dXBsZSk6CiAgICAgICAgICAgIF9zdG9yZSwgZGVmYXVsdCA9IF9zdG9yZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRlZmF1bHQgPSB7fQogICAgICAgICAgICBpZiBfc3RvcmUgaXMgTm9uZToKICAgICAgICAgICAgICAgIHNlbGYuX3N0b3JlX2ZpbGUgPSBOYW1lZFRlbXBvcmFyeUZpbGUoZGVsZXRlPUZhbHNlKQogICAgICAgICAgICAgICAgX3N0b3JlID0gc2VsZi5fc3RvcmVfZmlsZS5uYW1lCiAgICAgICAgICAgIHNlbGYuX3N0b3JlID0gc3RvcmUuU3RvcmUoX3N0b3JlLCBkZWZhdWx0PWRlZmF1bHQpCiAgICAgICAgaWYgZGljdGlvbmFyaWVzX3BhdGggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYuZGljdGlvbmFyaWVzID0gZGljdGlvbmFyeS5EaWN0aW9uYXJpZXMoZGljdGlvbmFyaWVzX3BhdGgpCiAgICAgICAgICAgIHNlbGYuc2V0X2xhbmd1YWdlKCkKICAgICAgICBpZiBzZWxmLm1lZGlhX3BhdGggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1lZGlhLk1FRElBX0RJUiA9IFBhdGgoc2VsZi5tZWRpYV9wYXRoKQoKICAgIGRlZiBjcmVhdGUoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgQ3JlYXRlcyB0aGUgYXBwIGNvbnRhaW5lcgogICAgICAgICIiIgogICAgICAgICgKICAgICAgICAgICAgXywKICAgICAgICAgICAgcGFyYW1zLAogICAgICAgICAgICBfXywKICAgICAgICAgICAgaWNvbiwKICAgICAgICAgICAgd2luZG93X2NsYXNzLAogICAgICAgICkgPSBzZWxmLl9jcmVhdGVfcGFyYW1zCiAgICAgICAgc2VsZi5sYXlvdXQgPSBzZWxmLmxheW91dF9jbGFzcygpCiAgICAgICAgaWYgaWNvbiBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpY29uLCBzdHIpOgogICAgICAgICAgICAgICAgc2VsZi5pY29uID0gbWVkaWEuZ2V0X2ltYWdlKGljb24pCiAgICAgICAgICAgICAgICBwYXJhbXNbImljb25waG90byJdID0gc2VsZi5pY29uLmZ1bGxfcGF0aAogICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoaWNvbiwgbWVkaWEuSW1hZ2UpOgogICAgICAgICAgICAgICAgc2VsZi5pY29uID0gaWNvbgogICAgICAgICAgICAgICAgcGFyYW1zWyJpY29ucGhvdG8iXSA9IHNlbGYuaWNvbi5mdWxsX3BhdGgKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICAgICAgZiJXcm9uZyBpY29uIHBhcmFtZXRlciB7aWNvbiFyfSB3YXMiCiAgICAgICAgICAgICAgICAgICAgZiIgcGFzc2VkIHRvIHtzZWxmLl9fY2xhc3NfXy5fX25hbWVfX30uX19pbml0X18iCiAgICAgICAgICAgICAgICApCiAgICAgICAgc2VsZi5yb290ID0gcm9vdCA9IHdpbmRvd19jbGFzcygqKnBhcmFtcykKICAgICAgICByb290LmNvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICByb290LnJvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICBpZiBzZWxmLm1lbnUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYubWVudS50b3BsZXZlbChyb290KQogICAgICAgIGlmIHNlbGYubGF5b3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLmxheW91dC5yZW5kZXIoc2VsZi5yb290KQogICAgICAgICAgICBzZWxmLmxheW91dC5jb250YWluZXIuZ3JpZChjb2x1bW49MCwgcm93PTAsIHN0aWNreT0ibnNldyIpCiAgICAgICAgICAgIHJldHVybiBzZWxmLmxheW91dFsib3V0bGV0Il0ub3V0bGV0CiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHJvb3QKCiAgICBkZWYgcnVuKHNlbGYsIGVudHJ5OiBzdHIgPSAiLyIpOgogICAgICAgICIiIgogICAgICAgIFJ1bnMgdGhlIGFwcCB3aXRoIHRoZSBzcGVjaWZpZWQgZW50cnkgcG9pbnQuCiAgICAgICAgVEhlIHBhc3NlZCBgZW50cnlgIGlzIHNldCBhcyBmaXJzdCBwYWdlCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5zZXR1cF90YWt0aygpCiAgICAgICAgcm9vdCA9IHNlbGYuY3JlYXRlKCkKICAgICAgICBzZWxmLmluaXQoKQogICAgICAgIGZvciBoYW5kbGVyIGluIE9OX0NSRUFURV9IQU5ETEVSUzoKICAgICAgICAgICAgaGFuZGxlcihzZWxmKQogICAgICAgIGlmIHNlbGYuYWRkcmVzcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5saXN0ZW5fYXQoc2VsZi5hZGRyZXNzKQogICAgICAgIHNlbGYudmlldyA9IHBhZ2UuUGFnZVZpZXcocm9vdCwgc2VsZi5wYWdlcywgc2VsZiwgc2VsZi5kZXN0cm95X2NhY2hlKQogICAgICAgIHNlbGYudmlldy5nZW9tZXRyeSgpCiAgICAgICAgc2VsZi52aWV3LnVybChlbnRyeSkKICAgICAgICBzZWxmLnJvb3QubWFpbmxvb3AoKQoKICAgIGRlZiBfX2NhbGxfXygKICAgICAgICBzZWxmLAogICAgICAgIG1vZHVsZTogc3RyLAogICAgICAgIGZ1bmN0aW9uOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICByZWRpcmVjdDogYm9vbCA9IFRydWUsCiAgICAgICAgLywKICAgICAgICAqKnBhcmFtcywKICAgICk6CiAgICAgICAgIiIiCiAgICAgICAgUmVmZXIgdG8gdGhlIGFwcCdzIHZpZXcgcm91dGluZyBzeXN0ZW0gd2l0aCB0aGUgc3BlY2lmaWVkIHBhcmFtczoKCiAgICAgICAgOnBhcmFtIG1vZHVsZTogVGhlIHNsYXNoIHNlcGVyYXRlZCBwYXRoIHRvIHRoZSBtb2R1bGUKICAgICAgICA6cGFyYW0gZnVuY3Rpb246IG9wdGlvbmFsIGhhbmRsZXIgbmFtZSB0byBjYWxsCiAgICAgICAgOnBhcmFtIHJlZGlyZWN0OiBpbnN0cnVjdHMgdGhlIGFwcCB0byBmb2xsb3cgcmVkaXJlY3RzCiAgICAgICAgOnBhcmFtIHBhcmFtczogRXh0cmEgcGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIGhhbmRsZXIKICAgICAgICAiIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmICJAIiBpbiBtb2R1bGUgb3IgIiMiIGluIG1vZHVsZToKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IobW9kdWxlLCBmIkRpZCB5b3UgbWVhbiBhcHAudXJsKC4uLik/IikKICAgICAgICAgICAgc2VsZi52aWV3KG1vZHVsZSwgZnVuY3Rpb24sIHBhcmFtcykKICAgICAgICBleGNlcHQgcGFnZS5SZWRpcmVjdCBhcyBlOgogICAgICAgICAgICB0YXJnZXQgPSBlLnVybAogICAgICAgICAgICBpZiByZWRpcmVjdDoKICAgICAgICAgICAgICAgIHNlbGYudmlldy51cmwodGFyZ2V0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmFpc2UKICAgICAgICBzZWxmLmxheW91dC51cGRhdGUoKQoKICAgIGRlZiB1cmwoc2VsZiwgdXJsOiBzdHIpOgogICAgICAgICIiIgogICAgICAgIFRhcmdldHMgdGhlIGFwcCB0byB0aGUgc3BlY2lmaWVkIHVybAogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLnZpZXcudXJsKHVybCkKCiAgICBkZWYgZXhpdChzZWxmKToKICAgICAgICAiIiIKICAgICAgICBDbG9zZXMgdGhlIGFwcCB3aW5kb3cuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5yb290LmRlc3Ryb3koKQoKICAgIGRlZiBsaXN0ZW5fYXQoc2VsZiwgYWRkcmVzczogdHVwbGVbc3RyLCBpbnRdKToKICAgICAgICAiIiIKICAgICAgICBzdGFydHMgYSBgdGFrdGsuYXBwbGljYXRpb25fc2VydmVyLkFwcGxpY2F0aW9uU2VydmVyYCBhdCBzcGVjaWZpZWQKICAgICAgICBhZGRyZXNzCiAgICAgICAgIiIiCiAgICAgICAgYXBwbGljYXRpb25fc2VydmVyLkFwcGxpY2F0aW9uU2VydmVyKHNlbGYsIGFkZHJlc3MpLnRocmVhZF9zZXJ2ZSgpCgogICAgZGVmIHJlZGlyZWN0X3RvX3NpbmdsZXRvbihzZWxmLCB1cmw6IHN0ciA9ICIiKSAtPiBib29sOgogICAgICAgICIiIgogICAgICAgIFRyaWVzIHRvIHF1ZXJ5IHRoZSBhcHBzIGFkZHJlc3MgYW5kOgogICAgICAgIC0gaWYgc3VjY2VlZHMsIHNlbmRzIGEgcmVxdWVzdCB0byB0aGUgaW5zdGFuY2Ugd2l0aCB0aGUgcGFzc2VkIHVybAogICAgICAgIC0gaWYgZmFpbHMsIHN0YXJ0cyBhbiBpbnN0YW5jZSBvZiB0aGUgYXBwbGljYXRpb24KCiAgICAgICAgOnJldHVybnM6IEEgYm9vbGVhbiB0ZWxsaW5nIGlmIHRoZSBhcHAgaW5zdGFuY2Ugd2FzIHN0YXJ0ZWQuCiAgICAgICAgIiIiCiAgICAgICAgZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgdXJsb3BlbgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHVybG9wZW4oZiJodHRwOi8vbG9jYWxob3N0OntzZWxmLmFkZHJlc3NbMV19LyFjdXJyZW50IikucmVhZCgpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgc2VsZi5ydW4odXJsKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHVybG9wZW4oZiJodHRwOi8vbG9jYWxob3N0OntzZWxmLmFkZHJlc3NbMV19LyIgKyB1cmwubHN0cmlwKCIvIikpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBnZXRfc3RvcmUoc2VsZikgLT4gc3RvcmUuU3RvcmU6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJucyB0aGUgYXBwbGljYXRpb24gc3RvcmUgaW5zdGFuY2UuCiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3N0b3JlCg",
					"AQAAAAAAAAABAAAAjAoAAAAAAACMCgAAAAAAAAAAAAAAAPC/"
				],
				[
					97,
					1,
					"cut",
					null,
					"AQAAAHwXAAAAAAAAfBcAAAAAAAAqAAAACiAgICAgICAgc2VsZi5sYXlvdXQgPSBzZWxmLmxheW91dF9jbGFzcygp",
					"AQAAAAAAAAABAAAAphcAAAAAAAB8FwAAAAAAAAAAAAAAwG5A"
				],
				[
					101,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAEQaAAAAAAAARRoAAAAAAAAAAAAARRoAAAAAAABRGgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARBoAAAAAAABEGgAAAAAAAAAAAAAAAPC/"
				],
				[
					102,
					1,
					"left_delete",
					null,
					"AQAAAE0aAAAAAAAATRoAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAAURoAAAAAAABRGgAAAAAAAAAAAAAAAPC/"
				],
				[
					103,
					1,
					"paste",
					null,
					"AQAAAE0aAAAAAAAAdxoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATRoAAAAAAABNGgAAAAAAAAAAAAAAAPC/"
				],
				[
					104,
					1,
					"trim_trailing_white_space",
					null,
					"AQAAAEUaAAAAAAAARRoAAAAAAAAIAAAAICAgICAgICA",
					"AQAAAAAAAAABAAAAdxoAAAAAAAB3GgAAAAAAAAAAAAAAAPC/"
				],
				[
					106,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA6yUAAAAAAADrJQAAIiIiXApQcm92aWRlcyBiYXNlIGNsYXNzIGZvciB0YWt0ayBhcHBsaWNhdGlvbiBjcmVhdGlvbgpDb3B5cmlnaHQgKEMpIDIwMjIgIGtlbi1tb3JlbAoKVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KClRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLApidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgpNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgpZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQphbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCiIiIgpmcm9tIGxvZ2dpbmcgaW1wb3J0IGdldExvZ2dlcgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0ZW1wZmlsZSBpbXBvcnQgTmFtZWRUZW1wb3JhcnlGaWxlCmZyb20gdHlwZXMgaW1wb3J0IE1vZHVsZVR5cGUKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgT3B0aW9uYWwKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQpmcm9tIHR0a2Jvb3RzdHJhcCBpbXBvcnQgV2luZG93CmZyb20gLiBpbXBvcnQgKAogICAgT05fQ1JFQVRFX0hBTkRMRVJTLAogICAgYXBwbGljYXRpb25fc2VydmVyLAogICAgY29tcG9uZW50LAogICAgZGljdGlvbmFyeSwKICAgIG1lZGlhLAogICAgbWVudSwKICAgIHBhZ2UsCiAgICBzdG9yZSwKKQoKbG9nID0gZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBhbm5vdGF0ZQpjbGFzcyBBcHBsaWNhdGlvbjoKICAgICIiIgogICAgSGFzIG9wdGlvbmFsIGF0dHJpYnV0ZXMgdG8gc3BlY2lmeSBiZWhhdmlvdXIgaW5jbHVkaW5nOgoKICAgIC0gKipkaWN0aW9uYXJpZXMqKjogVGhlIHBhdGggdG8gdGhlIGRpY3Rpb25uYXJ5IGRpcmVjdG9yeSB0YWt0ayBzaG91bGQKICAgICAgZmV0Y2ggZGljdGlvbmFyaWVzIGZyb20KICAgIC0gKipmYWxsYmFja19sYW5ndWFnZSoqOiBUaGUgZmFsbGJhY2sgbGFuZ3VhZ2UgdG8gdXNlIGluIGNhc2UgdGhlIGxvY2FsZSdzCiAgICAgIGxhbmd1YWdlIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiBkaWN0aW9uYXJpZXMKICAgIC0gKipwYXJhbXMqKjogYGRpY3Rbc3RyLF1gOiBBZGRpdGlvbmFsIHBhcmFtcyB0byBwYXNzIHRvIHR0a2Jvb3RzdHJhcAogICAgICBXaW5kb3cgb24gd2luZG93CiAgICAgIGNyZWF0aW9uLgogICAgLSAqKm1lbnUqKjogYW4gb3B0aW9uYWwgYHRha3RrLm1lbnUuTWVudWAgb2JqZWN0IHRvIHVzZSBhcyB0b3BsZXZlbCBtZW51CiAgICAtICoqbGF5b3V0Kio6IGFuIGluc3RhbmNlIG9mIGBMYXlvdXRgIGNsYXNzIHlvdSBzaG91bGQgZGVmaW5lIHlvdXJzZWxmCiAgICAtICoqZGVzdHJveV9jYWNoZSoqOiBFeHBlcmltZW50YWw6IGRlc3Ryb3lzIG9ubHkgdGhlIGxhc3Qge3h9IHZpZXdlZAogICAgICBjb21wb25lbnQncyB3aWRnZXQgdG8gcmVkdWNlIGNoYW5jZXMgZm9yIGFwcCB0byBhYnJ1cHRseSByZXNpemUKICAgICIiIgoKICAgIGRpY3Rpb25hcmllczogZGljdGlvbmFyeS5EaWN0aW9uYXJpZXMgPSBOb25lCiAgICBmYWxsYmFja19sYW5ndWFnZTogc3RyCiAgICBtZW51OiBPcHRpb25hbFttZW51Lk1lbnVdCiAgICBsYXlvdXQ6IE9wdGlvbmFsW2NvbXBvbmVudC5Db21wb25lbnRdCiAgICBkZXN0cm95X2NhY2hlOiBpbnQgPSA1CiAgICBfc3RvcmU6IE9wdGlvbmFsW3N0b3JlLlN0b3JlXSA9IE5vbmUKICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0KICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXQogICAgX2NyZWF0ZV9wYXJhbXM6IHR1cGxlWwogICAgICAgIE9wdGlvbmFsW1BhdGggfCBzdHIgfCBkaWN0aW9uYXJ5LkRpY3Rpb25hcmllc10sCiAgICAgICAgZGljdFtzdHIsIEFueV0sCiAgICAgICAgdHVwbGVbTm9uZSwgZGljdF0gfCBzdG9yZS5TdG9yZSwKICAgICAgICBPcHRpb25hbFtQYXRoIHwgc3RyIHwgbWVkaWEuSW1hZ2VdLAogICAgICAgIHR5cGUoV2luZG93KSwKICAgIF0KICAgIG1lZGlhX3BhdGg6IE9wdGlvbmFsW3N0ciB8IFBhdGhdCiAgICBwYWdlczogTW9kdWxlVHlwZQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHBhZ2VzOiBNb2R1bGVUeXBlLAogICAgICAgIGRpY3Rpb25hcmllczogT3B0aW9uYWxbUGF0aCB8IHN0ciB8IGRpY3Rpb25hcnkuRGljdGlvbmFyaWVzXSA9IE5vbmUsCiAgICAgICAgZmFsbGJhY2tfbGFuZ3VhZ2U6IHN0ciA9ICJlbmdsaXNoIiwKICAgICAgICBwYXJhbXM6IGRpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgbWVudTogT3B0aW9uYWxbbWVudS5NZW51XSA9IE5vbmUsCiAgICAgICAgbGF5b3V0OiBPcHRpb25hbFt0eXBlXSA9IE5vbmUsCiAgICAgICAgc3RvcmU6IHR1cGxlW05vbmUsIGRpY3RdIHwgc3RvcmUuU3RvcmUgPSAoTm9uZSwge30pLAogICAgICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0gPSBOb25lLAogICAgICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXSA9IE5vbmUsCiAgICAgICAgbWVkaWFfcGF0aDogT3B0aW9uYWxbc3RyIHwgUGF0aF0gPSBOb25lLAogICAgICAgIHdpbmRvd19jbGFzczogdHlwZShXaW5kb3cpID0gV2luZG93LAogICAgKToKICAgICAgICAiIiIKICAgICAgICBJbml0aWFsaXplIHRoZSBhcHAgYW5kIHN0b3JlIG1vc3Qgb2YgdGhlIHBhc3NlZCBwYXJhbWV0ZXJzIGludG8KICAgICAgICBgLl9jcmVhdGVfcGFyYW1zYC4KCiAgICAgICAgOnBhcmFtIGRpY3Rpb25hcmllczogVGhlIHBhdGggdG8gdGhlIGFwcGxpY2F0aW9uIGRpY3Rpb25hcmllcyBkaXJlY3RvcnkKICAgICAgICBvciBhIGB0YWt0ay5kaWN0aW9uYXJ5LkRpY3Rpb25hcnlgIGluc3RhbmNlLgoKICAgICAgICA6cGFyYW0gZmFsbGJhY2tfbGFuZ3VhZ2U6IFRoZSBmYWxsYmFjayBsYW5ndWFnZSB0byBmZXRjaCBmcm9tCiAgICAgICAgZGljdGlvbmFyeSBpZiBsb2NhbGUncyBkb2VzIG5vdCBzdWNjZWVkLgoKICAgICAgICA6cGFyYW0gcGFyYW1zOiBBZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBgd2luZG93X2NsYXNzYCBvbgogICAgICAgIHdpbmRvdyBjcmVhdGlvbi4KCiAgICAgICAgOnBhcmFtIG1lbnU6IFRoZSBvcHRpb25hbCBhcHBsaWNhdGlvbiBtZW51LCBhIGB0YWt0ay5tZW51Lk1lbnVgCiAgICAgICAgaW5zdGFuY2UKCiAgICAgICAgOnBhcmFtIGxheW91dDogVGhlIGFwcGxpY2F0aW9uIGxheW91dCBjb21wb25lbnQgaW5zdGFuY2UgdG8gdXNlLgoKICAgICAgICA6cGFyYW0gc3RvcmU6IFRoZSBwYXRoIHRvIGFwcGxpY2F0aW9uIGpzb24gX3N0b3JlXyBkYXRhYmFzZS4KCiAgICAgICAgOnBhcmFtIGFkZHJlc3M6IFRoZSB3ZWIgYWRkcmVzcyB0dXBsZSBmb3IgYXBwbGljYXRpb24gc2VydmVyCiAgICAgICAgdG8gbGlzdGVuIGF0CgogICAgICAgIDpwYXJhbSBpY29uOiBUaGUgb3B0aW9uYWwgYXBwbGljYXRpb24gaWNvbiBzcGVjIG9yIGB0YWt0ay5tZWRpYS5JbWFnZWAKICAgICAgICBpbnN0YW5jZQoKICAgICAgICA6cGFyYW0gbWVkaWFfcGF0aDogVGhlIG9wdGlvbmFsIHBhdGggdG8gZ2xvYmFsIG1lZGlhIGRpcmVjdG9yeQoKICAgICAgICA6cGFyYW0gd2luZG93X2NsYXNzOiBUaGUgY2xhc3MgdG8gY2FsbCBvbiB3aW5kb3cgY3JlYXRpb24uCgogICAgICAgIDpwYXJhbSBwYWdlczogVGhlIHBhZ2VzIG1vZHVsZQogICAgICAgICIiIgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbiA9IHNlbGYKCiAgICAgICAgc2VsZi5tZW51ID0gbWVudQogICAgICAgIHNlbGYubGF5b3V0X2NsYXNzID0gbGF5b3V0CiAgICAgICAgc2VsZi5sYXlvdXQgPSBOb25lCiAgICAgICAgc2VsZi5hZGRyZXNzID0gYWRkcmVzcwogICAgICAgIHNlbGYubWVkaWFfcGF0aCA9IG1lZGlhX3BhdGgKICAgICAgICBzZWxmLnBhZ2VzID0gcGFnZXMKCiAgICAgICAgc2VsZi5mYWxsYmFja19sYW5ndWFnZSA9IGZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgc2VsZi5fY3JlYXRlX3BhcmFtcyA9ICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzLAogICAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICAgIHN0b3JlLAogICAgICAgICAgICBpY29uLAogICAgICAgICAgICB3aW5kb3dfY2xhc3MsCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgICIiIgogICAgICAgIFN1YmNsYXNzIHRoaXMgbWV0aG9kIHRvIGluaXRpYWxpemUgeW91ciBhcHAgc3BlY2lmaWMgcGFyYW1ldGVycwogICAgICAgICIiIgoKICAgIGRlZiBzZXRfbGFuZ3VhZ2Uoc2VsZiwgbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUpOgogICAgICAgICIiIgogICAgICAgIEluc3RhbGxzIHRoZSBsYW5ndWFnZSBwYXNzZWQgYXMgYXJndW1lbnQgb3IgdGhlIGFwcGxpY2F0aW9ucwogICAgICAgIGAuZmFsbGJhY2tfbGFuZ3VhZ2VgCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5kaWN0aW9uYXJpZXMuZ2V0KAogICAgICAgICAgICBsYW5ndWFnZT1sYW5nLCBmYWxsYmFja19sYW5ndWFnZT1zZWxmLmZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgKS5pbnN0YWxsKCkKCiAgICBkZWYgc2V0dXBfdGFrdGsoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgSW50ZXJuYWwgdG8gc2V0IHVwIHRha3RrIGNvbXBvbmVudHMgZm9yIGFwcCBpbml0aWFsaXphdGlvbgogICAgICAgICIiIgogICAgICAgICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzX3BhdGgsCiAgICAgICAgICAgIF8sCiAgICAgICAgICAgIF9zdG9yZSwKICAgICAgICAgICAgKl9fLAogICAgICAgICkgPSBzZWxmLl9jcmVhdGVfcGFyYW1zCiAgICAgICAgaWYgaXNpbnN0YW5jZShfc3RvcmUsIHN0b3JlLlN0b3JlKToKICAgICAgICAgICAgc2VsZi5fc3RvcmUgPSBfc3RvcmUKICAgICAgICBlbGlmIGlzaW5zdGFuY2UoX3N0b3JlLCB0dXBsZSk6CiAgICAgICAgICAgIF9zdG9yZSwgZGVmYXVsdCA9IF9zdG9yZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRlZmF1bHQgPSB7fQogICAgICAgICAgICBpZiBfc3RvcmUgaXMgTm9uZToKICAgICAgICAgICAgICAgIHNlbGYuX3N0b3JlX2ZpbGUgPSBOYW1lZFRlbXBvcmFyeUZpbGUoZGVsZXRlPUZhbHNlKQogICAgICAgICAgICAgICAgX3N0b3JlID0gc2VsZi5fc3RvcmVfZmlsZS5uYW1lCiAgICAgICAgICAgIHNlbGYuX3N0b3JlID0gc3RvcmUuU3RvcmUoX3N0b3JlLCBkZWZhdWx0PWRlZmF1bHQpCiAgICAgICAgaWYgZGljdGlvbmFyaWVzX3BhdGggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYuZGljdGlvbmFyaWVzID0gZGljdGlvbmFyeS5EaWN0aW9uYXJpZXMoZGljdGlvbmFyaWVzX3BhdGgpCiAgICAgICAgICAgIHNlbGYuc2V0X2xhbmd1YWdlKCkKICAgICAgICBpZiBzZWxmLm1lZGlhX3BhdGggaXMgbm90IE5vbmU6CiAgICAgICAgICAgIG1lZGlhLk1FRElBX0RJUiA9IFBhdGgoc2VsZi5tZWRpYV9wYXRoKQoKICAgIGRlZiBjcmVhdGUoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgQ3JlYXRlcyB0aGUgYXBwIGNvbnRhaW5lcgogICAgICAgICIiIgogICAgICAgICgKICAgICAgICAgICAgXywKICAgICAgICAgICAgcGFyYW1zLAogICAgICAgICAgICBfXywKICAgICAgICAgICAgaWNvbiwKICAgICAgICAgICAgd2luZG93X2NsYXNzLAogICAgICAgICkgPSBzZWxmLl9jcmVhdGVfcGFyYW1zCiAgICAgICAgaWYgaWNvbiBpcyBub3QgTm9uZToKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShpY29uLCBzdHIpOgogICAgICAgICAgICAgICAgc2VsZi5pY29uID0gbWVkaWEuZ2V0X2ltYWdlKGljb24pCiAgICAgICAgICAgICAgICBwYXJhbXNbImljb25waG90byJdID0gc2VsZi5pY29uLmZ1bGxfcGF0aAogICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoaWNvbiwgbWVkaWEuSW1hZ2UpOgogICAgICAgICAgICAgICAgc2VsZi5pY29uID0gaWNvbgogICAgICAgICAgICAgICAgcGFyYW1zWyJpY29ucGhvdG8iXSA9IHNlbGYuaWNvbi5mdWxsX3BhdGgKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICAgICAgZiJXcm9uZyBpY29uIHBhcmFtZXRlciB7aWNvbiFyfSB3YXMiCiAgICAgICAgICAgICAgICAgICAgZiIgcGFzc2VkIHRvIHtzZWxmLl9fY2xhc3NfXy5fX25hbWVfX30uX19pbml0X18iCiAgICAgICAgICAgICAgICApCiAgICAgICAgc2VsZi5yb290ID0gcm9vdCA9IHdpbmRvd19jbGFzcygqKnBhcmFtcykKICAgICAgICByb290LmNvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICByb290LnJvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICBpZiBzZWxmLm1lbnUgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYubWVudS50b3BsZXZlbChyb290KQoKICAgICAgICBzZWxmLmxheW91dCA9IHNlbGYubGF5b3V0X2NsYXNzKCkKICAgICAgICBpZiBzZWxmLmxheW91dCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5sYXlvdXQucmVuZGVyKHNlbGYucm9vdCkKICAgICAgICAgICAgc2VsZi5sYXlvdXQuY29udGFpbmVyLmdyaWQoY29sdW1uPTAsIHJvdz0wLCBzdGlja3k9Im5zZXciKQogICAgICAgICAgICByZXR1cm4gc2VsZi5sYXlvdXRbIm91dGxldCJdLm91dGxldAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiByb290CgogICAgZGVmIHJ1bihzZWxmLCBlbnRyeTogc3RyID0gIi8iKToKICAgICAgICAiIiIKICAgICAgICBSdW5zIHRoZSBhcHAgd2l0aCB0aGUgc3BlY2lmaWVkIGVudHJ5IHBvaW50LgogICAgICAgIFRIZSBwYXNzZWQgYGVudHJ5YCBpcyBzZXQgYXMgZmlyc3QgcGFnZQogICAgICAgICIiIgogICAgICAgIHNlbGYuc2V0dXBfdGFrdGsoKQogICAgICAgIHJvb3QgPSBzZWxmLmNyZWF0ZSgpCiAgICAgICAgc2VsZi5pbml0KCkKICAgICAgICBmb3IgaGFuZGxlciBpbiBPTl9DUkVBVEVfSEFORExFUlM6CiAgICAgICAgICAgIGhhbmRsZXIoc2VsZikKICAgICAgICBpZiBzZWxmLmFkZHJlc3MgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYubGlzdGVuX2F0KHNlbGYuYWRkcmVzcykKICAgICAgICBzZWxmLnZpZXcgPSBwYWdlLlBhZ2VWaWV3KHJvb3QsIHNlbGYucGFnZXMsIHNlbGYsIHNlbGYuZGVzdHJveV9jYWNoZSkKICAgICAgICBzZWxmLnZpZXcuZ2VvbWV0cnkoKQogICAgICAgIHNlbGYudmlldy51cmwoZW50cnkpCiAgICAgICAgc2VsZi5yb290Lm1haW5sb29wKCkKCiAgICBkZWYgX19jYWxsX18oCiAgICAgICAgc2VsZiwKICAgICAgICBtb2R1bGU6IHN0ciwKICAgICAgICBmdW5jdGlvbjogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCiAgICAgICAgcmVkaXJlY3Q6IGJvb2wgPSBUcnVlLAogICAgICAgIC8sCiAgICAgICAgKipwYXJhbXMsCiAgICApOgogICAgICAgICIiIgogICAgICAgIFJlZmVyIHRvIHRoZSBhcHAncyB2aWV3IHJvdXRpbmcgc3lzdGVtIHdpdGggdGhlIHNwZWNpZmllZCBwYXJhbXM6CgogICAgICAgIDpwYXJhbSBtb2R1bGU6IFRoZSBzbGFzaCBzZXBlcmF0ZWQgcGF0aCB0byB0aGUgbW9kdWxlCiAgICAgICAgOnBhcmFtIGZ1bmN0aW9uOiBvcHRpb25hbCBoYW5kbGVyIG5hbWUgdG8gY2FsbAogICAgICAgIDpwYXJhbSByZWRpcmVjdDogaW5zdHJ1Y3RzIHRoZSBhcHAgdG8gZm9sbG93IHJlZGlyZWN0cwogICAgICAgIDpwYXJhbSBwYXJhbXM6IEV4dHJhIHBhcmFtZXRlcnMgcGFzc2VkIHRvIHRoZSBoYW5kbGVyCiAgICAgICAgIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZiAiQCIgaW4gbW9kdWxlIG9yICIjIiBpbiBtb2R1bGU6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKG1vZHVsZSwgZiJEaWQgeW91IG1lYW4gYXBwLnVybCguLi4pPyIpCiAgICAgICAgICAgIHNlbGYudmlldyhtb2R1bGUsIGZ1bmN0aW9uLCBwYXJhbXMpCiAgICAgICAgZXhjZXB0IHBhZ2UuUmVkaXJlY3QgYXMgZToKICAgICAgICAgICAgdGFyZ2V0ID0gZS51cmwKICAgICAgICAgICAgaWYgcmVkaXJlY3Q6CiAgICAgICAgICAgICAgICBzZWxmLnZpZXcudXJsKHRhcmdldCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlCiAgICAgICAgc2VsZi5sYXlvdXQudXBkYXRlKCkKCiAgICBkZWYgdXJsKHNlbGYsIHVybDogc3RyKToKICAgICAgICAiIiIKICAgICAgICBUYXJnZXRzIHRoZSBhcHAgdG8gdGhlIHNwZWNpZmllZCB1cmwKICAgICAgICAiIiIKICAgICAgICByZXR1cm4gc2VsZi52aWV3LnVybCh1cmwpCgogICAgZGVmIGV4aXQoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgQ2xvc2VzIHRoZSBhcHAgd2luZG93LgogICAgICAgICIiIgogICAgICAgIHNlbGYucm9vdC5kZXN0cm95KCkKCiAgICBkZWYgbGlzdGVuX2F0KHNlbGYsIGFkZHJlc3M6IHR1cGxlW3N0ciwgaW50XSk6CiAgICAgICAgIiIiCiAgICAgICAgc3RhcnRzIGEgYHRha3RrLmFwcGxpY2F0aW9uX3NlcnZlci5BcHBsaWNhdGlvblNlcnZlcmAgYXQgc3BlY2lmaWVkCiAgICAgICAgYWRkcmVzcwogICAgICAgICIiIgogICAgICAgIGFwcGxpY2F0aW9uX3NlcnZlci5BcHBsaWNhdGlvblNlcnZlcihzZWxmLCBhZGRyZXNzKS50aHJlYWRfc2VydmUoKQoKICAgIGRlZiByZWRpcmVjdF90b19zaW5nbGV0b24oc2VsZiwgdXJsOiBzdHIgPSAiIikgLT4gYm9vbDoKICAgICAgICAiIiIKICAgICAgICBUcmllcyB0byBxdWVyeSB0aGUgYXBwcyBhZGRyZXNzIGFuZDoKICAgICAgICAtIGlmIHN1Y2NlZWRzLCBzZW5kcyBhIHJlcXVlc3QgdG8gdGhlIGluc3RhbmNlIHdpdGggdGhlIHBhc3NlZCB1cmwKICAgICAgICAtIGlmIGZhaWxzLCBzdGFydHMgYW4gaW5zdGFuY2Ugb2YgdGhlIGFwcGxpY2F0aW9uCgogICAgICAgIDpyZXR1cm5zOiBBIGJvb2xlYW4gdGVsbGluZyBpZiB0aGUgYXBwIGluc3RhbmNlIHdhcyBzdGFydGVkLgogICAgICAgICIiIgogICAgICAgIGZyb20gdXJsbGliLnJlcXVlc3QgaW1wb3J0IHVybG9wZW4KCiAgICAgICAgdHJ5OgogICAgICAgICAgICB1cmxvcGVuKGYiaHR0cDovL2xvY2FsaG9zdDp7c2VsZi5hZGRyZXNzWzFdfS8hY3VycmVudCIpLnJlYWQoKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHNlbGYucnVuKHVybCkKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBlbHNlOgogICAgICAgICAgICB1cmxvcGVuKGYiaHR0cDovL2xvY2FsaG9zdDp7c2VsZi5hZGRyZXNzWzFdfS8iICsgdXJsLmxzdHJpcCgiLyIpKQogICAgICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgZ2V0X3N0b3JlKHNlbGYpIC0+IHN0b3JlLlN0b3JlOgogICAgICAgICIiIgogICAgICAgIFJldHVybnMgdGhlIGFwcGxpY2F0aW9uIHN0b3JlIGluc3RhbmNlLgogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLl9zdG9yZQo",
					"AQAAAAAAAAABAAAAbxoAAAAAAABvGgAAAAAAAAAAAAAAAPC/"
				],
				[
					178,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAALkUAAAAAAAAuhQAAAAAAAAAAAAAuhQAAAAAAADGFAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuRQAAAAAAAC5FAAAAAAAAAAAAAAAQG1A"
				],
				[
					179,
					1,
					"paste_and_indent",
					null,
					"AQAAAMYUAAAAAAAAihUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxhQAAAAAAADGFAAAAAAAAAAAAAAAAPC/"
				],
				[
					194,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAvCYAAAAAAAC8JgAAIiIiXApQcm92aWRlcyBiYXNlIGNsYXNzIGZvciB0YWt0ayBhcHBsaWNhdGlvbiBjcmVhdGlvbgpDb3B5cmlnaHQgKEMpIDIwMjIgIGtlbi1tb3JlbAoKVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KClRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLApidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgpNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCkdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgpZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQphbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCiIiIgpmcm9tIGxvZ2dpbmcgaW1wb3J0IGdldExvZ2dlcgpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0ZW1wZmlsZSBpbXBvcnQgTmFtZWRUZW1wb3JhcnlGaWxlCmZyb20gdHlwZXMgaW1wb3J0IE1vZHVsZVR5cGUKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgT3B0aW9uYWwKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQpmcm9tIHR0a2Jvb3RzdHJhcCBpbXBvcnQgV2luZG93CmZyb20gLiBpbXBvcnQgKAogICAgT05fQ1JFQVRFX0hBTkRMRVJTLAogICAgYXBwbGljYXRpb25fc2VydmVyLAogICAgY29tcG9uZW50LAogICAgZGljdGlvbmFyeSwKICAgIG1lZGlhLAogICAgbWVudSwKICAgIHBhZ2UsCiAgICBzdG9yZSwKKQoKbG9nID0gZ2V0TG9nZ2VyKF9fbmFtZV9fKQoKCkBhbm5vdGF0ZQpjbGFzcyBBcHBsaWNhdGlvbjoKICAgICIiIgogICAgSGFzIG9wdGlvbmFsIGF0dHJpYnV0ZXMgdG8gc3BlY2lmeSBiZWhhdmlvdXIgaW5jbHVkaW5nOgoKICAgIC0gKipkaWN0aW9uYXJpZXMqKjogVGhlIHBhdGggdG8gdGhlIGRpY3Rpb25uYXJ5IGRpcmVjdG9yeSB0YWt0ayBzaG91bGQKICAgICAgZmV0Y2ggZGljdGlvbmFyaWVzIGZyb20KICAgIC0gKipmYWxsYmFja19sYW5ndWFnZSoqOiBUaGUgZmFsbGJhY2sgbGFuZ3VhZ2UgdG8gdXNlIGluIGNhc2UgdGhlIGxvY2FsZSdzCiAgICAgIGxhbmd1YWdlIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiBkaWN0aW9uYXJpZXMKICAgIC0gKipwYXJhbXMqKjogYGRpY3Rbc3RyLF1gOiBBZGRpdGlvbmFsIHBhcmFtcyB0byBwYXNzIHRvIHR0a2Jvb3RzdHJhcAogICAgICBXaW5kb3cgb24gd2luZG93CiAgICAgIGNyZWF0aW9uLgogICAgLSAqKm1lbnUqKjogYW4gb3B0aW9uYWwgYHRha3RrLm1lbnUuTWVudWAgb2JqZWN0IHRvIHVzZSBhcyB0b3BsZXZlbCBtZW51CiAgICAtICoqbGF5b3V0Kio6IGFuIGluc3RhbmNlIG9mIGBMYXlvdXRgIGNsYXNzIHlvdSBzaG91bGQgZGVmaW5lIHlvdXJzZWxmCiAgICAtICoqZGVzdHJveV9jYWNoZSoqOiBFeHBlcmltZW50YWw6IGRlc3Ryb3lzIG9ubHkgdGhlIGxhc3Qge3h9IHZpZXdlZAogICAgICBjb21wb25lbnQncyB3aWRnZXQgdG8gcmVkdWNlIGNoYW5jZXMgZm9yIGFwcCB0byBhYnJ1cHRseSByZXNpemUKICAgICIiIgoKICAgIGRpY3Rpb25hcmllczogZGljdGlvbmFyeS5EaWN0aW9uYXJpZXMgPSBOb25lCiAgICBmYWxsYmFja19sYW5ndWFnZTogc3RyCiAgICBtZW51OiBPcHRpb25hbFttZW51Lk1lbnVdCiAgICBsYXlvdXQ6IE9wdGlvbmFsW2NvbXBvbmVudC5Db21wb25lbnRdCiAgICBkZXN0cm95X2NhY2hlOiBpbnQgPSA1CiAgICBfc3RvcmU6IE9wdGlvbmFsW3N0b3JlLlN0b3JlXSA9IE5vbmUKICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0KICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXQogICAgX2NyZWF0ZV9wYXJhbXM6IHR1cGxlWwogICAgICAgIE9wdGlvbmFsW1BhdGggfCBzdHIgfCBkaWN0aW9uYXJ5LkRpY3Rpb25hcmllc10sCiAgICAgICAgZGljdFtzdHIsIEFueV0sCiAgICAgICAgdHVwbGVbTm9uZSwgZGljdF0gfCBzdG9yZS5TdG9yZSwKICAgICAgICBPcHRpb25hbFtQYXRoIHwgc3RyIHwgbWVkaWEuSW1hZ2VdLAogICAgICAgIHR5cGUoV2luZG93KSwKICAgIF0KICAgIG1lZGlhX3BhdGg6IE9wdGlvbmFsW3N0ciB8IFBhdGhdCiAgICBwYWdlczogTW9kdWxlVHlwZQoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIHBhZ2VzOiBNb2R1bGVUeXBlLAogICAgICAgIGRpY3Rpb25hcmllczogT3B0aW9uYWxbUGF0aCB8IHN0ciB8IGRpY3Rpb25hcnkuRGljdGlvbmFyaWVzXSA9IE5vbmUsCiAgICAgICAgZmFsbGJhY2tfbGFuZ3VhZ2U6IHN0ciA9ICJlbmdsaXNoIiwKICAgICAgICBwYXJhbXM6IGRpY3Rbc3RyLCBBbnldID0ge30sCiAgICAgICAgbWVudTogT3B0aW9uYWxbbWVudS5NZW51XSA9IE5vbmUsCiAgICAgICAgbGF5b3V0OiBPcHRpb25hbFt0eXBlXSA9IE5vbmUsCiAgICAgICAgc3RvcmU6IHR1cGxlW05vbmUsIGRpY3RdIHwgc3RvcmUuU3RvcmUgPSAoTm9uZSwge30pLAogICAgICAgIGFkZHJlc3M6IE9wdGlvbmFsW3R1cGxlW3N0ciwgaW50XV0gPSBOb25lLAogICAgICAgIGljb246IE9wdGlvbmFsW3N0ciB8IG1lZGlhLkltYWdlXSA9IE5vbmUsCiAgICAgICAgbWVkaWFfcGF0aDogT3B0aW9uYWxbc3RyIHwgUGF0aF0gPSBOb25lLAogICAgICAgIHdpbmRvd19jbGFzczogdHlwZShXaW5kb3cpID0gV2luZG93LAogICAgKToKICAgICAgICAiIiIKICAgICAgICBJbml0aWFsaXplIHRoZSBhcHAgYW5kIHN0b3JlIG1vc3Qgb2YgdGhlIHBhc3NlZCBwYXJhbWV0ZXJzIGludG8KICAgICAgICBgLl9jcmVhdGVfcGFyYW1zYC4KCiAgICAgICAgOnBhcmFtIGRpY3Rpb25hcmllczogVGhlIHBhdGggdG8gdGhlIGFwcGxpY2F0aW9uIGRpY3Rpb25hcmllcyBkaXJlY3RvcnkKICAgICAgICBvciBhIGB0YWt0ay5kaWN0aW9uYXJ5LkRpY3Rpb25hcnlgIGluc3RhbmNlLgoKICAgICAgICA6cGFyYW0gZmFsbGJhY2tfbGFuZ3VhZ2U6IFRoZSBmYWxsYmFjayBsYW5ndWFnZSB0byBmZXRjaCBmcm9tCiAgICAgICAgZGljdGlvbmFyeSBpZiBsb2NhbGUncyBkb2VzIG5vdCBzdWNjZWVkLgoKICAgICAgICA6cGFyYW0gcGFyYW1zOiBBZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBgd2luZG93X2NsYXNzYCBvbgogICAgICAgIHdpbmRvdyBjcmVhdGlvbi4KCiAgICAgICAgOnBhcmFtIG1lbnU6IFRoZSBvcHRpb25hbCBhcHBsaWNhdGlvbiBtZW51LCBhIGB0YWt0ay5tZW51Lk1lbnVgCiAgICAgICAgaW5zdGFuY2UKCiAgICAgICAgOnBhcmFtIGxheW91dDogVGhlIGFwcGxpY2F0aW9uIGxheW91dCBjb21wb25lbnQgaW5zdGFuY2UgdG8gdXNlLgoKICAgICAgICA6cGFyYW0gc3RvcmU6IFRoZSBwYXRoIHRvIGFwcGxpY2F0aW9uIGpzb24gX3N0b3JlXyBkYXRhYmFzZS4KCiAgICAgICAgOnBhcmFtIGFkZHJlc3M6IFRoZSB3ZWIgYWRkcmVzcyB0dXBsZSBmb3IgYXBwbGljYXRpb24gc2VydmVyCiAgICAgICAgdG8gbGlzdGVuIGF0CgogICAgICAgIDpwYXJhbSBpY29uOiBUaGUgb3B0aW9uYWwgYXBwbGljYXRpb24gaWNvbiBzcGVjIG9yIGB0YWt0ay5tZWRpYS5JbWFnZWAKICAgICAgICBpbnN0YW5jZQoKICAgICAgICA6cGFyYW0gbWVkaWFfcGF0aDogVGhlIG9wdGlvbmFsIHBhdGggdG8gZ2xvYmFsIG1lZGlhIGRpcmVjdG9yeQoKICAgICAgICA6cGFyYW0gd2luZG93X2NsYXNzOiBUaGUgY2xhc3MgdG8gY2FsbCBvbiB3aW5kb3cgY3JlYXRpb24uCgogICAgICAgIDpwYXJhbSBwYWdlczogVGhlIHBhZ2VzIG1vZHVsZQogICAgICAgICIiIgogICAgICAgIGltcG9ydCB0YWt0awoKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbiA9IHNlbGYKCiAgICAgICAgc2VsZi5tZW51ID0gbWVudQogICAgICAgIHNlbGYubGF5b3V0X2NsYXNzID0gbGF5b3V0CiAgICAgICAgc2VsZi5sYXlvdXQgPSBOb25lCiAgICAgICAgc2VsZi5hZGRyZXNzID0gYWRkcmVzcwogICAgICAgIHNlbGYubWVkaWFfcGF0aCA9IG1lZGlhX3BhdGgKICAgICAgICBzZWxmLnBhZ2VzID0gcGFnZXMKCiAgICAgICAgc2VsZi5mYWxsYmFja19sYW5ndWFnZSA9IGZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgc2VsZi5fY3JlYXRlX3BhcmFtcyA9ICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzLAogICAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICAgIHN0b3JlLAogICAgICAgICAgICBpY29uLAogICAgICAgICAgICB3aW5kb3dfY2xhc3MsCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgICIiIgogICAgICAgIFN1YmNsYXNzIHRoaXMgbWV0aG9kIHRvIGluaXRpYWxpemUgeW91ciBhcHAgc3BlY2lmaWMgcGFyYW1ldGVycwogICAgICAgICIiIgoKICAgIGRlZiBzZXRfbGFuZ3VhZ2Uoc2VsZiwgbGFuZzogT3B0aW9uYWxbc3RyXSA9IE5vbmUpOgogICAgICAgICIiIgogICAgICAgIEluc3RhbGxzIHRoZSBsYW5ndWFnZSBwYXNzZWQgYXMgYXJndW1lbnQgb3IgdGhlIGFwcGxpY2F0aW9ucwogICAgICAgIGAuZmFsbGJhY2tfbGFuZ3VhZ2VgCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5kaWN0aW9uYXJpZXMuZ2V0KAogICAgICAgICAgICBsYW5ndWFnZT1sYW5nLCBmYWxsYmFja19sYW5ndWFnZT1zZWxmLmZhbGxiYWNrX2xhbmd1YWdlCiAgICAgICAgKS5pbnN0YWxsKCkKCiAgICBkZWYgc2V0dXBfdGFrdGsoc2VsZik6CiAgICAgICAgIiIiCiAgICAgICAgSW50ZXJuYWwgdG8gc2V0IHVwIHRha3RrIGNvbXBvbmVudHMgZm9yIGFwcCBpbml0aWFsaXphdGlvbgogICAgICAgICIiIgogICAgICAgICgKICAgICAgICAgICAgZGljdGlvbmFyaWVzX3BhdGgsCiAgICAgICAgICAgIF8sCiAgICAgICAgICAgIF9zdG9yZSwKICAgICAgICAgICAgKl9fLAogICAgICAgICkgPSBzZWxmLl9jcmVhdGVfcGFyYW1zCiAgICAgICAgaWYgaXNpbnN0YW5jZShfc3RvcmUsIHN0b3JlLlN0b3JlKToKICAgICAgICAgICAgc2VsZi5fc3RvcmUgPSBfc3RvcmUKICAgICAgICBlbGlmIGlzaW5zdGFuY2UoX3N0b3JlLCB0dXBsZSk6CiAgICAgICAgICAgIF9zdG9yZSwgZGVmYXVsdCA9IF9zdG9yZQogICAgICAgICAgICBpZiBfc3RvcmUgaXMgTm9uZToKICAgICAgICAgICAgICAgIHNlbGYuX3N0b3JlX2ZpbGUgPSBOYW1lZFRlbXBvcmFyeUZpbGUoZGVsZXRlPUZhbHNlKQogICAgICAgICAgICAgICAgX3N0b3JlID0gc2VsZi5fc3RvcmVfZmlsZS5uYW1lCiAgICAgICAgICAgIHNlbGYuX3N0b3JlID0gc3RvcmUuU3RvcmUoX3N0b3JlLCBkZWZhdWx0PWRlZmF1bHQpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZGVmYXVsdCA9IHt9CiAgICAgICAgICAgIGlmIF9zdG9yZSBpcyBOb25lOgogICAgICAgICAgICAgICAgc2VsZi5fc3RvcmVfZmlsZSA9IE5hbWVkVGVtcG9yYXJ5RmlsZShkZWxldGU9RmFsc2UpCiAgICAgICAgICAgICAgICBfc3RvcmUgPSBzZWxmLl9zdG9yZV9maWxlLm5hbWUKICAgICAgICAgICAgc2VsZi5fc3RvcmUgPSBzdG9yZS5TdG9yZShfc3RvcmUsIGRlZmF1bHQ9ZGVmYXVsdCkKICAgICAgICBpZiBkaWN0aW9uYXJpZXNfcGF0aCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5kaWN0aW9uYXJpZXMgPSBkaWN0aW9uYXJ5LkRpY3Rpb25hcmllcyhkaWN0aW9uYXJpZXNfcGF0aCkKICAgICAgICAgICAgc2VsZi5zZXRfbGFuZ3VhZ2UoKQogICAgICAgIGlmIHNlbGYubWVkaWFfcGF0aCBpcyBub3QgTm9uZToKICAgICAgICAgICAgbWVkaWEuTUVESUFfRElSID0gUGF0aChzZWxmLm1lZGlhX3BhdGgpCgogICAgZGVmIGNyZWF0ZShzZWxmKToKICAgICAgICAiIiIKICAgICAgICBDcmVhdGVzIHRoZSBhcHAgY29udGFpbmVyCiAgICAgICAgIiIiCiAgICAgICAgKAogICAgICAgICAgICBfLAogICAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICAgIF9fLAogICAgICAgICAgICBpY29uLAogICAgICAgICAgICB3aW5kb3dfY2xhc3MsCiAgICAgICAgKSA9IHNlbGYuX2NyZWF0ZV9wYXJhbXMKICAgICAgICBpZiBpY29uIGlzIG5vdCBOb25lOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKGljb24sIHN0cik6CiAgICAgICAgICAgICAgICBzZWxmLmljb24gPSBtZWRpYS5nZXRfaW1hZ2UoaWNvbikKICAgICAgICAgICAgICAgIHBhcmFtc1siaWNvbnBob3RvIl0gPSBzZWxmLmljb24uZnVsbF9wYXRoCiAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZShpY29uLCBtZWRpYS5JbWFnZSk6CiAgICAgICAgICAgICAgICBzZWxmLmljb24gPSBpY29uCiAgICAgICAgICAgICAgICBwYXJhbXNbImljb25waG90byJdID0gc2VsZi5pY29uLmZ1bGxfcGF0aAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICAgICBmIldyb25nIGljb24gcGFyYW1ldGVyIHtpY29uIXJ9IHdhcyIKICAgICAgICAgICAgICAgICAgICBmIiBwYXNzZWQgdG8ge3NlbGYuX19jbGFzc19fLl9fbmFtZV9ffS5fX2luaXRfXyIKICAgICAgICAgICAgICAgICkKICAgICAgICBzZWxmLnJvb3QgPSByb290ID0gd2luZG93X2NsYXNzKCoqcGFyYW1zKQogICAgICAgIHJvb3QuY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKQogICAgICAgIHJvb3Qucm93Y29uZmlndXJlKDAsIHdlaWdodD0xKQogICAgICAgIGlmIHNlbGYubWVudSBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5tZW51LnRvcGxldmVsKHJvb3QpCgogICAgICAgIHNlbGYubGF5b3V0ID0gc2VsZi5sYXlvdXRfY2xhc3MoKQogICAgICAgIGlmIHNlbGYubGF5b3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLmxheW91dC5yZW5kZXIoc2VsZi5yb290KQogICAgICAgICAgICBzZWxmLmxheW91dC5jb250YWluZXIuZ3JpZChjb2x1bW49MCwgcm93PTAsIHN0aWNreT0ibnNldyIpCiAgICAgICAgICAgIHJldHVybiBzZWxmLmxheW91dFsib3V0bGV0Il0ub3V0bGV0CiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIHJvb3QKCiAgICBkZWYgcnVuKHNlbGYsIGVudHJ5OiBzdHIgPSAiLyIpOgogICAgICAgICIiIgogICAgICAgIFJ1bnMgdGhlIGFwcCB3aXRoIHRoZSBzcGVjaWZpZWQgZW50cnkgcG9pbnQuCiAgICAgICAgVEhlIHBhc3NlZCBgZW50cnlgIGlzIHNldCBhcyBmaXJzdCBwYWdlCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5zZXR1cF90YWt0aygpCiAgICAgICAgcm9vdCA9IHNlbGYuY3JlYXRlKCkKICAgICAgICBzZWxmLmluaXQoKQogICAgICAgIGZvciBoYW5kbGVyIGluIE9OX0NSRUFURV9IQU5ETEVSUzoKICAgICAgICAgICAgaGFuZGxlcihzZWxmKQogICAgICAgIGlmIHNlbGYuYWRkcmVzcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5saXN0ZW5fYXQoc2VsZi5hZGRyZXNzKQogICAgICAgIHNlbGYudmlldyA9IHBhZ2UuUGFnZVZpZXcocm9vdCwgc2VsZi5wYWdlcywgc2VsZiwgc2VsZi5kZXN0cm95X2NhY2hlKQogICAgICAgIHNlbGYudmlldy5nZW9tZXRyeSgpCiAgICAgICAgc2VsZi52aWV3LnVybChlbnRyeSkKICAgICAgICBzZWxmLnJvb3QubWFpbmxvb3AoKQoKICAgIGRlZiBfX2NhbGxfXygKICAgICAgICBzZWxmLAogICAgICAgIG1vZHVsZTogc3RyLAogICAgICAgIGZ1bmN0aW9uOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICByZWRpcmVjdDogYm9vbCA9IFRydWUsCiAgICAgICAgLywKICAgICAgICAqKnBhcmFtcywKICAgICk6CiAgICAgICAgIiIiCiAgICAgICAgUmVmZXIgdG8gdGhlIGFwcCdzIHZpZXcgcm91dGluZyBzeXN0ZW0gd2l0aCB0aGUgc3BlY2lmaWVkIHBhcmFtczoKCiAgICAgICAgOnBhcmFtIG1vZHVsZTogVGhlIHNsYXNoIHNlcGVyYXRlZCBwYXRoIHRvIHRoZSBtb2R1bGUKICAgICAgICA6cGFyYW0gZnVuY3Rpb246IG9wdGlvbmFsIGhhbmRsZXIgbmFtZSB0byBjYWxsCiAgICAgICAgOnBhcmFtIHJlZGlyZWN0OiBpbnN0cnVjdHMgdGhlIGFwcCB0byBmb2xsb3cgcmVkaXJlY3RzCiAgICAgICAgOnBhcmFtIHBhcmFtczogRXh0cmEgcGFyYW1ldGVycyBwYXNzZWQgdG8gdGhlIGhhbmRsZXIKICAgICAgICAiIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmICJAIiBpbiBtb2R1bGUgb3IgIiMiIGluIG1vZHVsZToKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IobW9kdWxlLCBmIkRpZCB5b3UgbWVhbiBhcHAudXJsKC4uLik/IikKICAgICAgICAgICAgc2VsZi52aWV3KG1vZHVsZSwgZnVuY3Rpb24sIHBhcmFtcykKICAgICAgICBleGNlcHQgcGFnZS5SZWRpcmVjdCBhcyBlOgogICAgICAgICAgICB0YXJnZXQgPSBlLnVybAogICAgICAgICAgICBpZiByZWRpcmVjdDoKICAgICAgICAgICAgICAgIHNlbGYudmlldy51cmwodGFyZ2V0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmFpc2UKICAgICAgICBzZWxmLmxheW91dC51cGRhdGUoKQoKICAgIGRlZiB1cmwoc2VsZiwgdXJsOiBzdHIpOgogICAgICAgICIiIgogICAgICAgIFRhcmdldHMgdGhlIGFwcCB0byB0aGUgc3BlY2lmaWVkIHVybAogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLnZpZXcudXJsKHVybCkKCiAgICBkZWYgZXhpdChzZWxmKToKICAgICAgICAiIiIKICAgICAgICBDbG9zZXMgdGhlIGFwcCB3aW5kb3cuCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5yb290LmRlc3Ryb3koKQoKICAgIGRlZiBsaXN0ZW5fYXQoc2VsZiwgYWRkcmVzczogdHVwbGVbc3RyLCBpbnRdKToKICAgICAgICAiIiIKICAgICAgICBzdGFydHMgYSBgdGFrdGsuYXBwbGljYXRpb25fc2VydmVyLkFwcGxpY2F0aW9uU2VydmVyYCBhdCBzcGVjaWZpZWQKICAgICAgICBhZGRyZXNzCiAgICAgICAgIiIiCiAgICAgICAgYXBwbGljYXRpb25fc2VydmVyLkFwcGxpY2F0aW9uU2VydmVyKHNlbGYsIGFkZHJlc3MpLnRocmVhZF9zZXJ2ZSgpCgogICAgZGVmIHJlZGlyZWN0X3RvX3NpbmdsZXRvbihzZWxmLCB1cmw6IHN0ciA9ICIiKSAtPiBib29sOgogICAgICAgICIiIgogICAgICAgIFRyaWVzIHRvIHF1ZXJ5IHRoZSBhcHBzIGFkZHJlc3MgYW5kOgogICAgICAgIC0gaWYgc3VjY2VlZHMsIHNlbmRzIGEgcmVxdWVzdCB0byB0aGUgaW5zdGFuY2Ugd2l0aCB0aGUgcGFzc2VkIHVybAogICAgICAgIC0gaWYgZmFpbHMsIHN0YXJ0cyBhbiBpbnN0YW5jZSBvZiB0aGUgYXBwbGljYXRpb24KCiAgICAgICAgOnJldHVybnM6IEEgYm9vbGVhbiB0ZWxsaW5nIGlmIHRoZSBhcHAgaW5zdGFuY2Ugd2FzIHN0YXJ0ZWQuCiAgICAgICAgIiIiCiAgICAgICAgZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgdXJsb3BlbgoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHVybG9wZW4oZiJodHRwOi8vbG9jYWxob3N0OntzZWxmLmFkZHJlc3NbMV19LyFjdXJyZW50IikucmVhZCgpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgc2VsZi5ydW4odXJsKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHVybG9wZW4oZiJodHRwOi8vbG9jYWxob3N0OntzZWxmLmFkZHJlc3NbMV19LyIgKyB1cmwubHN0cmlwKCIvIikpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBnZXRfc3RvcmUoc2VsZikgLT4gc3RvcmUuU3RvcmU6CiAgICAgICAgIiIiCiAgICAgICAgUmV0dXJucyB0aGUgYXBwbGljYXRpb24gc3RvcmUgaW5zdGFuY2UuCiAgICAgICAgIiIiCiAgICAgICAgcmV0dXJuIHNlbGYuX3N0b3JlCg",
					"AQAAAAAAAAABAAAAdhUAAAAAAAB2FQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "examples/todoapp/todoapp/taktk.py",
			"settings":
			{
				"buffer_size": 3853,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					26,
					4,
					"swap_line_down",
					null,
					"CAAAAGIOAAAAAAAAcA4AAAAAAAAAAAAAQA4AAAAAAABADgAAAAAAAA4AAABwcmludCgiaW1wbyIpCoUOAAAAAAAAkw4AAAAAAAAAAAAAVA4AAAAAAABUDgAAAAAAAA4AAABwcmludCgiaW1wbyIpCoYOAAAAAAAAlA4AAAAAAAAAAAAAdw4AAAAAAAB3DgAAAAAAAA4AAABwcmludCgiaW1wbyIpCqYOAAAAAAAAtA4AAAAAAAAAAAAAeA4AAAAAAAB4DgAAAAAAAA4AAABwcmludCgiaW1wbyIpCg",
					"AQAAAAAAAAABAAAAQA4AAAAAAABODgAAAAAAAAAAAAAAAPC/"
				],
				[
					27,
					28,
					"swap_line_up",
					null,
					"OAAAAJgOAAAAAAAAmA4AAAAAAAAOAAAAcHJpbnQoImltcG8iKQp4DgAAAAAAAIYOAAAAAAAAAAAAAHgOAAAAAAAAeA4AAAAAAAAOAAAAcHJpbnQoImltcG8iKQp3DgAAAAAAAIUOAAAAAAAAAAAAAHcOAAAAAAAAdw4AAAAAAAAOAAAAcHJpbnQoImltcG8iKQpUDgAAAAAAAGIOAAAAAAAAAAAAAFQOAAAAAAAAVA4AAAAAAAAOAAAAcHJpbnQoImltcG8iKQpADgAAAAAAAE4OAAAAAAAAAAAAAEAOAAAAAAAAQA4AAAAAAAAOAAAAcHJpbnQoImltcG8iKQo/DgAAAAAAAE0OAAAAAAAAAAAAAD8OAAAAAAAAPw4AAAAAAAAOAAAAcHJpbnQoImltcG8iKQocDgAAAAAAACoOAAAAAAAAAAAAABwOAAAAAAAAHA4AAAAAAAAOAAAAcHJpbnQoImltcG8iKQoIDgAAAAAAABYOAAAAAAAAAAAAAAgOAAAAAAAACA4AAAAAAAAOAAAAcHJpbnQoImltcG8iKQoHDgAAAAAAABUOAAAAAAAAAAAAAAcOAAAAAAAABw4AAAAAAAAOAAAAcHJpbnQoImltcG8iKQrjDQAAAAAAAPENAAAAAAAAAAAAAOMNAAAAAAAA4w0AAAAAAAAOAAAAcHJpbnQoImltcG8iKQrQDQAAAAAAAN4NAAAAAAAAAAAAANANAAAAAAAA0A0AAAAAAAAOAAAAcHJpbnQoImltcG8iKQrPDQAAAAAAAN0NAAAAAAAAAAAAAM8NAAAAAAAAzw0AAAAAAAAOAAAAcHJpbnQoImltcG8iKQquDQAAAAAAALwNAAAAAAAAAAAAAK4NAAAAAAAArg0AAAAAAAAOAAAAcHJpbnQoImltcG8iKQqeDQAAAAAAAKwNAAAAAAAAAAAAAJ4NAAAAAAAAng0AAAAAAAAOAAAAcHJpbnQoImltcG8iKQqdDQAAAAAAAKsNAAAAAAAAAAAAAJ0NAAAAAAAAnQ0AAAAAAAAOAAAAcHJpbnQoImltcG8iKQqNDQAAAAAAAJsNAAAAAAAAAAAAAI0NAAAAAAAAjQ0AAAAAAAAOAAAAcHJpbnQoImltcG8iKQqFDQAAAAAAAJMNAAAAAAAAAAAAAIUNAAAAAAAAhQ0AAAAAAAAOAAAAcHJpbnQoImltcG8iKQpiDQAAAAAAAHANAAAAAAAAAAAAAGINAAAAAAAAYg0AAAAAAAAOAAAAcHJpbnQoImltcG8iKQroDAAAAAAAAPYMAAAAAAAAAAAAAOgMAAAAAAAA6AwAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpyDAAAAAAAAIAMAAAAAAAAAAAAAHIMAAAAAAAAcgwAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrvCwAAAAAAAP0LAAAAAAAAAAAAAO8LAAAAAAAA7wsAAAAAAAAOAAAAcHJpbnQoImltcG8iKQplCwAAAAAAAHMLAAAAAAAAAAAAAGULAAAAAAAAZQsAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrrCgAAAAAAAPkKAAAAAAAAAAAAAOsKAAAAAAAA6woAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqTCgAAAAAAAKEKAAAAAAAAAAAAAJMKAAAAAAAAkwoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpfCgAAAAAAAG0KAAAAAAAAAAAAAF8KAAAAAAAAXwoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpWCgAAAAAAAGQKAAAAAAAAAAAAAFYKAAAAAAAAVgoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpECgAAAAAAAFIKAAAAAAAAAAAAAEQKAAAAAAAARAoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQo5CgAAAAAAAEcKAAAAAAAAAAAAADkKAAAAAAAAOQoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQo4CgAAAAAAAEYKAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmA4AAAAAAACmDgAAAAAAAAAAAAAAAPC/"
				],
				[
					30,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAqA4AAAAAAACmDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCmZyb20gLiBpbXBvcnQgcGFnZXMKZnJvbSAuYWRtaW4gaW1wb3J0IERJUgoKZApyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKcHJpbnQoImltcG8iKQoKQGNvbXBvbmVudApkZWYgTGF5b3V0KHNlbGYpOgogICAgciIiIgogICAgXGZyYW1lIHdlaWdodDp4PScwOiAxMCcgd2VpZ2h0Onk9JzE6IDEwLCAyOiAxMCcKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHdlaWdodDp5PScyOjEwJyB3ZWlnaHQ6eD0nNDoxMCcgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgaW1hZ2U9aW1nOkBiYWNrd2FyZHt3aWR0aDogMjB9IHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF91c2Vyc30gICAgaW1hZ2U9aW1nOkB1c2Vycy1iZXR3ZWVuLWxpbmVze2hlaWdodDogMjB9IHBvczpncmlkPTEsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF90b2Rvc30gICAgaW1hZ2U9aW1nOkBjaGVjay1kb3VibGV7aGVpZ2h0OiAyMH0gcG9zOmdyaWQ9MiwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcbGFiZWwgdGV4dD17Zidsb2dnZWQgaW4gYXM6IHtVc2VyLmN1cnJlbnQoKS5uYW1lfScgaWYgVXNlci5jdXJyZW50KCkgZWxzZSAibm90IGxvZ2dlZCBpbiEifSBwb3M6Z3JpZD0zLDAKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtmb3J3YXJkfSBpbWFnZT1pbWc6QGZvcndhcmR7d2lkdGg6IDIwfSAgcG9zOmdyaWQ9NSwwIHBvczpzdGlja3k9J2UnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgIFxmcmFtZTpvdXRsZXQgcG9zOmdyaWQ9MCwxCiAgICAiIiIKICAgIHVzZXIgPSBOb25lCgogICAgZGVmIGJhY2soKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5iYWNrKCkKCiAgICBkZWYgZm9yd2FyZCgpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmZvcndhcmQoKQoKICAgIGRlZiBndF91c2VycygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ1c2VycyIpCgogICAgZGVmIGd0X3RvZG9zKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInRvZG9zIikKCiAgICByZXR1cm4gbG9jYWxzKCkgfCBnbG9iYWxzKCkK",
					"AQAAAAAAAAABAAAAOAoAAAAAAABGCgAAAAAAAAAAAAAAAPC/"
				],
				[
					34,
					10,
					"swap_line_up",
					null,
					"FAAAADkKAAAAAAAAOQoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQo4CgAAAAAAAEYKAAAAAAAAAAAAADgKAAAAAAAAOAoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQo3CgAAAAAAAEUKAAAAAAAAAAAAADcKAAAAAAAANwoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQomCgAAAAAAADQKAAAAAAAAAAAAACYKAAAAAAAAJgoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoKCgAAAAAAABgKAAAAAAAAAAAAAAoKAAAAAAAACgoAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrsCQAAAAAAAPoJAAAAAAAAAAAAAOwJAAAAAAAA7AkAAAAAAAAOAAAAcHJpbnQoImltcG8iKQq9CQAAAAAAAMsJAAAAAAAAAAAAAL0JAAAAAAAAvQkAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqoCQAAAAAAALYJAAAAAAAAAAAAAKgJAAAAAAAAqAkAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqSCQAAAAAAAKAJAAAAAAAAAAAAAJIJAAAAAAAAkgkAAAAAAAAOAAAAcHJpbnQoImltcG8iKQp4CQAAAAAAAIYJAAAAAAAAAAAAAHgJAAAAAAAAeAkAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoyCQAAAAAAAEAJAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOQoAAAAAAABHCgAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					52,
					"swap_line_up",
					null,
					"aAAAADIJAAAAAAAAMgkAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoTCQAAAAAAACEJAAAAAAAAAAAAABMJAAAAAAAAEwkAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoSCQAAAAAAACAJAAAAAAAAAAAAABIJAAAAAAAAEgkAAAAAAAAOAAAAcHJpbnQoImltcG8iKQr2CAAAAAAAAAQJAAAAAAAAAAAAAPYIAAAAAAAA9ggAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrfCAAAAAAAAO0IAAAAAAAAAAAAAN8IAAAAAAAA3wgAAAAAAAAOAAAAcHJpbnQoImltcG8iKQreCAAAAAAAAOwIAAAAAAAAAAAAAN4IAAAAAAAA3ggAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrFCAAAAAAAANMIAAAAAAAAAAAAAMUIAAAAAAAAxQgAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqxCAAAAAAAAL8IAAAAAAAAAAAAALEIAAAAAAAAsQgAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqwCAAAAAAAAL4IAAAAAAAAAAAAALAIAAAAAAAAsAgAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqmCAAAAAAAALQIAAAAAAAAAAAAAKYIAAAAAAAApggAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqKCAAAAAAAAJgIAAAAAAAAAAAAAIoIAAAAAAAAiggAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpsCAAAAAAAAHoIAAAAAAAAAAAAAGwIAAAAAAAAbAgAAAAAAAAOAAAAcHJpbnQoImltcG8iKQo9CAAAAAAAAEsIAAAAAAAAAAAAAD0IAAAAAAAAPQgAAAAAAAAOAAAAcHJpbnQoImltcG8iKQooCAAAAAAAADYIAAAAAAAAAAAAACgIAAAAAAAAKAgAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoSCAAAAAAAACAIAAAAAAAAAAAAABIIAAAAAAAAEggAAAAAAAAOAAAAcHJpbnQoImltcG8iKQruBwAAAAAAAPwHAAAAAAAAAAAAAO4HAAAAAAAA7gcAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrFBwAAAAAAANMHAAAAAAAAAAAAAMUHAAAAAAAAxQcAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrEBwAAAAAAANIHAAAAAAAAAAAAAMQHAAAAAAAAxAcAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqlBwAAAAAAALMHAAAAAAAAAAAAAKUHAAAAAAAApQcAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqFBwAAAAAAAJMHAAAAAAAAAAAAAIUHAAAAAAAAhQcAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqEBwAAAAAAAJIHAAAAAAAAAAAAAIQHAAAAAAAAhAcAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpABwAAAAAAAE4HAAAAAAAAAAAAAEAHAAAAAAAAQAcAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoOBwAAAAAAABwHAAAAAAAAAAAAAA4HAAAAAAAADgcAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrzBgAAAAAAAAEHAAAAAAAAAAAAAPMGAAAAAAAA8wYAAAAAAAAOAAAAcHJpbnQoImltcG8iKQreBgAAAAAAAOwGAAAAAAAAAAAAAN4GAAAAAAAA3gYAAAAAAAAOAAAAcHJpbnQoImltcG8iKQq/BgAAAAAAAM0GAAAAAAAAAAAAAL8GAAAAAAAAvwYAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqEBgAAAAAAAJIGAAAAAAAAAAAAAIQGAAAAAAAAhAYAAAAAAAAOAAAAcHJpbnQoImltcG8iKQp3BgAAAAAAAIUGAAAAAAAAAAAAAHcGAAAAAAAAdwYAAAAAAAAOAAAAcHJpbnQoImltcG8iKQptBgAAAAAAAHsGAAAAAAAAAAAAAG0GAAAAAAAAbQYAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoeBgAAAAAAACwGAAAAAAAAAAAAAB4GAAAAAAAAHgYAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrxBQAAAAAAAP8FAAAAAAAAAAAAAPEFAAAAAAAA8QUAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrRBQAAAAAAAN8FAAAAAAAAAAAAANEFAAAAAAAA0QUAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrHBQAAAAAAANUFAAAAAAAAAAAAAMcFAAAAAAAAxwUAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqTBQAAAAAAAKEFAAAAAAAAAAAAAJMFAAAAAAAAkwUAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpdBQAAAAAAAGsFAAAAAAAAAAAAAF0FAAAAAAAAXQUAAAAAAAAOAAAAcHJpbnQoImltcG8iKQotBQAAAAAAADsFAAAAAAAAAAAAAC0FAAAAAAAALQUAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoZBQAAAAAAACcFAAAAAAAAAAAAABkFAAAAAAAAGQUAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoYBQAAAAAAACYFAAAAAAAAAAAAABgFAAAAAAAAGAUAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoOBQAAAAAAABwFAAAAAAAAAAAAAA4FAAAAAAAADgUAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrtBAAAAAAAAPsEAAAAAAAAAAAAAO0EAAAAAAAA7QQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrUBAAAAAAAAOIEAAAAAAAAAAAAANQEAAAAAAAA1AQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrFBAAAAAAAANMEAAAAAAAAAAAAAMUEAAAAAAAAxQQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqyBAAAAAAAAMAEAAAAAAAAAAAAALIEAAAAAAAAsgQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqLBAAAAAAAAJkEAAAAAAAAAAAAAIsEAAAAAAAAiwQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpgBAAAAAAAAG4EAAAAAAAAAAAAAGAEAAAAAAAAYAQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpOBAAAAAAAAFwEAAAAAAAAAAAAAE4EAAAAAAAATgQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoqBAAAAAAAADgEAAAAAAAAAAAAACoEAAAAAAAAKgQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoWBAAAAAAAACQEAAAAAAAAAAAAABYEAAAAAAAAFgQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoHBAAAAAAAABUEAAAAAAAAAAAAAAcEAAAAAAAABwQAAAAAAAAOAAAAcHJpbnQoImltcG8iKQriAwAAAAAAAPADAAAAAAAAAAAAAOIDAAAAAAAA4gMAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrPAwAAAAAAAN0DAAAAAAAAAAAAAM8DAAAAAAAAzwMAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqsAwAAAAAAALoDAAAAAAAAAAAAAKwDAAAAAAAArAMAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqVAwAAAAAAAKMDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMgkAAAAAAABACQAAAAAAAAAAAAAAAPC/"
				],
				[
					39,
					39,
					"swap_line_up",
					null,
					"RAAAAJUDAAAAAAAAlQMAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpsAwAAAAAAAHoDAAAAAAAAAAAAAGwDAAAAAAAAbAMAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpGAwAAAAAAAFQDAAAAAAAAAAAAAEYDAAAAAAAARgMAAAAAAAAOAAAAcHJpbnQoImltcG8iKQovAwAAAAAAAD0DAAAAAAAAAAAAAC8DAAAAAAAALwMAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoCAwAAAAAAABADAAAAAAAAAAAAAAIDAAAAAAAAAgMAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrcAgAAAAAAAOoCAAAAAAAAAAAAANwCAAAAAAAA3AIAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqtAgAAAAAAALsCAAAAAAAAAAAAAK0CAAAAAAAArQIAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqOAgAAAAAAAJwCAAAAAAAAAAAAAI4CAAAAAAAAjgIAAAAAAAAOAAAAcHJpbnQoImltcG8iKQp8AgAAAAAAAIoCAAAAAAAAAAAAAHwCAAAAAAAAfAIAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpaAgAAAAAAAGgCAAAAAAAAAAAAAFoCAAAAAAAAWgIAAAAAAAAOAAAAcHJpbnQoImltcG8iKQo5AgAAAAAAAEcCAAAAAAAAAAAAADkCAAAAAAAAOQIAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoqAgAAAAAAADgCAAAAAAAAAAAAACoCAAAAAAAAKgIAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoGAgAAAAAAABQCAAAAAAAAAAAAAAYCAAAAAAAABgIAAAAAAAAOAAAAcHJpbnQoImltcG8iKQriAQAAAAAAAPABAAAAAAAAAAAAAOIBAAAAAAAA4gEAAAAAAAAOAAAAcHJpbnQoImltcG8iKQrJAQAAAAAAANcBAAAAAAAAAAAAAMkBAAAAAAAAyQEAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqjAQAAAAAAALEBAAAAAAAAAAAAAKMBAAAAAAAAowEAAAAAAAAOAAAAcHJpbnQoImltcG8iKQp0AQAAAAAAAIIBAAAAAAAAAAAAAHQBAAAAAAAAdAEAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpaAQAAAAAAAGgBAAAAAAAAAAAAAFoBAAAAAAAAWgEAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpAAQAAAAAAAE4BAAAAAAAAAAAAAEABAAAAAAAAQAEAAAAAAAAOAAAAcHJpbnQoImltcG8iKQooAQAAAAAAADYBAAAAAAAAAAAAACgBAAAAAAAAKAEAAAAAAAAOAAAAcHJpbnQoImltcG8iKQr2AAAAAAAAAAQBAAAAAAAAAAAAAPYAAAAAAAAA9gAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQr1AAAAAAAAAAMBAAAAAAAAAAAAAPUAAAAAAAAA9QAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQr0AAAAAAAAAAIBAAAAAAAAAAAAAPQAAAAAAAAA9AAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqwAAAAAAAAAL4AAAAAAAAAAAAAALAAAAAAAAAAsAAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQquAAAAAAAAALwAAAAAAAAAAAAAAK4AAAAAAAAArgAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqtAAAAAAAAALsAAAAAAAAAAAAAAK0AAAAAAAAArQAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqWAAAAAAAAAKQAAAAAAAAAAAAAAJYAAAAAAAAAlgAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqCAAAAAAAAAJAAAAAAAAAAAAAAAIIAAAAAAAAAggAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqBAAAAAAAAAI8AAAAAAAAAAAAAAIEAAAAAAAAAgQAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpnAAAAAAAAAHUAAAAAAAAAAAAAAGcAAAAAAAAAZwAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQpVAAAAAAAAAGMAAAAAAAAAAAAAAFUAAAAAAAAAVQAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQo9AAAAAAAAAEsAAAAAAAAAAAAAAD0AAAAAAAAAPQAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQomAAAAAAAAADQAAAAAAAAAAAAAACYAAAAAAAAAJgAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoNAAAAAAAAABsAAAAAAAAAAAAAAA0AAAAAAAAADQAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQoAAAAAAAAAAA4AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAlQMAAAAAAACjAwAAAAAAAAAAAAAAAPC/"
				],
				[
					40,
					16,
					"swap_line_down",
					null,
					"IAAAABsAAAAAAAAAKQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCjQAAAAAAAAAQgAAAAAAAAAAAAAADQAAAAAAAAANAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCksAAAAAAAAAWQAAAAAAAAAAAAAAJgAAAAAAAAAmAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCmMAAAAAAAAAcQAAAAAAAAAAAAAAPQAAAAAAAAA9AAAAAAAAAA4AAABwcmludCgiaW1wbyIpCnUAAAAAAAAAgwAAAAAAAAAAAAAAVQAAAAAAAABVAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCo8AAAAAAAAAnQAAAAAAAAAAAAAAZwAAAAAAAABnAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCpAAAAAAAAAAngAAAAAAAAAAAAAAgQAAAAAAAACBAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCqQAAAAAAAAAsgAAAAAAAAAAAAAAggAAAAAAAACCAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCrsAAAAAAAAAyQAAAAAAAAAAAAAAlgAAAAAAAACWAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCrwAAAAAAAAAygAAAAAAAAAAAAAArQAAAAAAAACtAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCr4AAAAAAAAAzAAAAAAAAAAAAAAArgAAAAAAAACuAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCgIBAAAAAAAAEAEAAAAAAAAAAAAAsAAAAAAAAACwAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCgMBAAAAAAAAEQEAAAAAAAAAAAAA9AAAAAAAAAD0AAAAAAAAAA4AAABwcmludCgiaW1wbyIpCgQBAAAAAAAAEgEAAAAAAAAAAAAA9QAAAAAAAAD1AAAAAAAAAA4AAABwcmludCgiaW1wbyIpCjYBAAAAAAAARAEAAAAAAAAAAAAA9gAAAAAAAAD2AAAAAAAAAA4AAABwcmludCgiaW1wbyIpCk4BAAAAAAAAXAEAAAAAAAAAAAAAKAEAAAAAAAAoAQAAAAAAAA4AAABwcmludCgiaW1wbyIpCg",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAPC/"
				],
				[
					41,
					2,
					"swap_line_up",
					null,
					"BAAAAEABAAAAAAAAQAEAAAAAAAAOAAAAcHJpbnQoImltcG8iKQooAQAAAAAAADYBAAAAAAAAAAAAACgBAAAAAAAAKAEAAAAAAAAOAAAAcHJpbnQoImltcG8iKQr2AAAAAAAAAAQBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQAEAAAAAAABOAQAAAAAAAAAAAAAAAPC/"
				],
				[
					44,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAqA4AAAAAAACoDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCmZyb20gLiBpbXBvcnQgcGFnZXMKZnJvbSAuYWRtaW4gaW1wb3J0IERJUgoKZApyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKcHJpbnQoImltcG8iKQpjbGFzcyBBcHBsaWNhdGlvbih0YWt0ay5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbik6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygKICAgICAgICAgICAgaWNvbj0iQGljb24iLAogICAgICAgICAgICBkaWN0aW9uYXJpZXM9RElSIC8gImRpY3Rpb25hcmllcyIsCiAgICAgICAgICAgIG1lZGlhX3BhdGg9RElSIC8gIm1lZGlhIiwKICAgICAgICAgICAgcGFyYW1zPWRpY3QoCiAgICAgICAgICAgICAgICB0aGVtZW5hbWU9ImRhcmtseSIsCiAgICAgICAgICAgICAgICBtaW5zaXplPSg4MDAsIDQwMCksCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGFkZHJlc3M9KCIiLCA1Njc4OSksCiAgICAgICAgICAgIG1lbnU9dGFrdGsubWFrZV9tZW51KAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJAZmlsZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBvcGVuIjogbGFtYmRhOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiIXNlcCI6IE5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICJAL21lbnUucXVpdCI6IGV4aXQsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAiQHByZWZlcmVuY2VzIjogewogICAgICAgICAgICAgICAgICAgICAgICAiQGxhbmd1YWdlIjoge30sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAiQHF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9ucz0ibWVudSIsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHN0b3JlPSgKICAgICAgICAgICAgICAgIERJUiAvICJzdG9yZS5qc29uIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibGFuZ3VhZ2UiOiAiZW5nbGlzaCIsCiAgICAgICAgICAgICAgICAgICAgInRoZW1lIjogImRhcmtseSIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICApLAogICAgICAgICAgICBwYWdlcz1wYWdlcywKICAgICAgICAgICAgbGF5b3V0PUxheW91dChzZWxmKSwKICAgICAgICApCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZi5tZW51WyJAcHJlZmVyZW5jZXMvQGxhbmd1YWdlIl0gPSB7CiAgICAgICAgICAgIGxhbmc6IHNlbGYuZGljdGlvbmFyaWVzLmdldChsYW5nKS5pbnN0YWxsCiAgICAgICAgICAgIGZvciBsYW5nIGluIHNlbGYuZGljdGlvbmFyaWVzLmxhbmd1YWdlcwogICAgICAgIH0KICAgICAgICBzdHlsZSA9IHNlbGYucm9vdC5zdHlsZQogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0B0aGVtZSJdID0gewogICAgICAgICAgICB0OiBsYW1iZGEgcz1zZWxmLnNldF90aGVtZSwgdD10OiBzKHQpIGZvciB0IGluIHN0eWxlLnRoZW1lX25hbWVzKCkKICAgICAgICB9CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHNlbGYuc3RvcmVbInRoZW1lIl0pCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChlKQogICAgICAgIHNlbGYubWVudS51cGRhdGUoKQogICAgICAgIHNlbGYuc2V0X2xhbmd1YWdlKHNlbGYuc3RvcmVbImxhbmd1YWdlIl0pCiAgICAgICAgdGFrdGsuZGljdGlvbmFyeS5EaWN0aW9uYXJ5LnN1YnNjcmliZShzZWxmLnVwZGF0ZV9sYW5ndWFnZSkKCiAgICBkZWYgc2V0X3RoZW1lKHNlbGYsIHRoZW1lKToKICAgICAgICBmcm9tIGJ1aWx0aW5zIGltcG9ydCBfCgogICAgICAgIHNlbGYucm9vdC5zdHlsZS50aGVtZV91c2UodGhlbWUpCiAgICAgICAgc2VsZi5zdG9yZVsidGhlbWUiXSA9IHRoZW1lCiAgICAgICAgdGFrdGsubm90aWZ5KAogICAgICAgICAgICAiVG9kb3MiLAogICAgICAgICAgICBfKCJwcmVmZXJlbmNlcy5zdWNjZXNzX21vZGlmaWVkIiksCiAgICAgICAgICAgIGJvb3RzdHlsZT0iaW5mbyIsCiAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAwLAogICAgICAgICkKCiAgICBkZWYgYmFjayhzZWxmKToKICAgICAgICBzZWxmLnZpZXcuYmFjaygpCgogICAgZGVmIGZvcndhcmQoc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmZvcndhcmQoKQoKICAgIGRlZiB1cGRhdGVfbGFuZ3VhZ2Uoc2VsZik6CiAgICAgICAgc2VsZi5zdG9yZVsibGFuZ3VhZ2UiXSA9IHRha3RrLkRpY3Rpb25hcnkuZGljdGlvbmFyeS5sYW5ndWFnZQogICAgICAgIHNlbGYuc3RvcmUuc2F2ZSgpCiAgICAgICAgTm90aWZpY2F0aW9uKAogICAgICAgICAgICAiVG9kb3MiLAogICAgICAgICAgICBfKCJwcmVmZXJlbmNlcy5zdWNjZXNzX21vZGlmaWVkIiksCiAgICAgICAgICAgIGJvb3RzdHlsZT0iaW5mbyIsCiAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAwLAogICAgICAgICkuc2hvdygpCgoKCgpAY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUgd2VpZ2h0Ong9JzA6IDEwJyB3ZWlnaHQ6eT0nMTogMTAsIDI6IDEwJwogICAgICAgIFxmcmFtZSBwYWRkaW5nPTUgd2VpZ2h0Onk9JzI6MTAnIHdlaWdodDp4PSc0OjEwJyBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtiYWNrfSAgICBpbWFnZT1pbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0gcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3VzZXJzfSAgICBpbWFnZT1pbWc6QHVzZXJzLWJldHdlZW4tbGluZXN7aGVpZ2h0OiAyMH0gcG9zOmdyaWQ9MSwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3RvZG9zfSAgICBpbWFnZT1pbWc6QGNoZWNrLWRvdWJsZXtoZWlnaHQ6IDIwfSBwb3M6Z3JpZD0yLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxsYWJlbCB0ZXh0PXtmJ2xvZ2dlZCBpbiBhczoge1VzZXIuY3VycmVudCgpLm5hbWV9JyBpZiBVc2VyLmN1cnJlbnQoKSBlbHNlICJub3QgbG9nZ2VkIGluISJ9IHBvczpncmlkPTMsMAogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2ZvcndhcmR9IGltYWdlPWltZzpAZm9yd2FyZHt3aWR0aDogMjB9ICBwb3M6Z3JpZD01LDAgcG9zOnN0aWNreT0nZScgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgXGZyYW1lOm91dGxldCBwb3M6Z3JpZD0wLDEKICAgICIiIgogICAgdXNlciA9IE5vbmUKCiAgICBkZWYgYmFjaygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uZm9yd2FyZCgpCgogICAgZGVmIGd0X3VzZXJzKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInVzZXJzIikKCiAgICBkZWYgZ3RfdG9kb3MoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIHJldHVybiBsb2NhbHMoKSB8IGdsb2JhbHMoKQo",
					"AQAAAAAAAAABAAAA9gAAAAAAAAAEAQAAAAAAAAAAAAAAAPC/"
				],
				[
					50,
					8,
					"swap_line_up",
					null,
					"EAAAAPYAAAAAAAAA9gAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQr1AAAAAAAAAAMBAAAAAAAAAAAAAPUAAAAAAAAA9QAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQr0AAAAAAAAAAIBAAAAAAAAAAAAAPQAAAAAAAAA9AAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqwAAAAAAAAAL4AAAAAAAAAAAAAALAAAAAAAAAAsAAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQquAAAAAAAAALwAAAAAAAAAAAAAAK4AAAAAAAAArgAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqtAAAAAAAAALsAAAAAAAAAAAAAAK0AAAAAAAAArQAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqWAAAAAAAAAKQAAAAAAAAAAAAAAJYAAAAAAAAAlgAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqCAAAAAAAAAJAAAAAAAAAAAAAAAIIAAAAAAAAAggAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQqBAAAAAAAAAI8AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9gAAAAAAAAAEAQAAAAAAAAAAAAAAAPC/"
				],
				[
					53,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAApw4AAAAAAACoDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KcHJpbnQoImltcG8iKQoKZnJvbSAuIGltcG9ydCBwYWdlcwpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpkCnJlY2VudF9maWxlcyA9IFsiYW1hLnB5IiwgInRlc3QucHkiLCAidHRrYm9vdHN0cmFwLnB5IiwgImxhYmVsLnB5Il0KCgoKCmNsYXNzIEFwcGxpY2F0aW9uKHRha3RrLmFwcGxpY2F0aW9uLkFwcGxpY2F0aW9uKToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKAogICAgICAgICAgICBpY29uPSJAaWNvbiIsCiAgICAgICAgICAgIGRpY3Rpb25hcmllcz1ESVIgLyAiZGljdGlvbmFyaWVzIiwKICAgICAgICAgICAgbWVkaWFfcGF0aD1ESVIgLyAibWVkaWEiLAogICAgICAgICAgICBwYXJhbXM9ZGljdCgKICAgICAgICAgICAgICAgIHRoZW1lbmFtZT0iZGFya2x5IiwKICAgICAgICAgICAgICAgIG1pbnNpemU9KDgwMCwgNDAwKSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgYWRkcmVzcz0oIiIsIDU2Nzg5KSwKICAgICAgICAgICAgbWVudT10YWt0ay5tYWtlX21lbnUoCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIkBmaWxlIjogewogICAgICAgICAgICAgICAgICAgICAgICAiQG9wZW4iOiBsYW1iZGE6IE5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICIhc2VwIjogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkAvbWVudS5xdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICJAcHJlZmVyZW5jZXMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAbGFuZ3VhZ2UiOiB7fSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICJAcXVpdCI6IGV4aXQsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdHJhbnNsYXRpb25zPSJtZW51IiwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgc3RvcmU9KAogICAgICAgICAgICAgICAgRElSIC8gInN0b3JlLmpzb24iLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJsYW5ndWFnZSI6ICJlbmdsaXNoIiwKICAgICAgICAgICAgICAgICAgICAidGhlbWUiOiAiZGFya2x5IiwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHBhZ2VzPXBhZ2VzLAogICAgICAgICAgICBsYXlvdXQ9TGF5b3V0KHNlbGYpLAogICAgICAgICkKCiAgICBkZWYgaW5pdChzZWxmKToKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AbGFuZ3VhZ2UiXSA9IHsKICAgICAgICAgICAgbGFuZzogc2VsZi5kaWN0aW9uYXJpZXMuZ2V0KGxhbmcpLmluc3RhbGwKICAgICAgICAgICAgZm9yIGxhbmcgaW4gc2VsZi5kaWN0aW9uYXJpZXMubGFuZ3VhZ2VzCiAgICAgICAgfQogICAgICAgIHN0eWxlID0gc2VsZi5yb290LnN0eWxlCiAgICAgICAgc2VsZi5tZW51WyJAcHJlZmVyZW5jZXMvQHRoZW1lIl0gPSB7CiAgICAgICAgICAgIHQ6IGxhbWJkYSBzPXNlbGYuc2V0X3RoZW1lLCB0PXQ6IHModCkgZm9yIHQgaW4gc3R5bGUudGhlbWVfbmFtZXMoKQogICAgICAgIH0KICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucm9vdC5zdHlsZS50aGVtZV91c2Uoc2VsZi5zdG9yZVsidGhlbWUiXSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGUpCiAgICAgICAgc2VsZi5tZW51LnVwZGF0ZSgpCiAgICAgICAgc2VsZi5zZXRfbGFuZ3VhZ2Uoc2VsZi5zdG9yZVsibGFuZ3VhZ2UiXSkKICAgICAgICB0YWt0ay5kaWN0aW9uYXJ5LkRpY3Rpb25hcnkuc3Vic2NyaWJlKHNlbGYudXBkYXRlX2xhbmd1YWdlKQoKICAgIGRlZiBzZXRfdGhlbWUoc2VsZiwgdGhlbWUpOgogICAgICAgIGZyb20gYnVpbHRpbnMgaW1wb3J0IF8KCiAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZSh0aGVtZSkKICAgICAgICBzZWxmLnN0b3JlWyJ0aGVtZSJdID0gdGhlbWUKICAgICAgICB0YWt0ay5ub3RpZnkoCiAgICAgICAgICAgICJUb2RvcyIsCiAgICAgICAgICAgIF8oInByZWZlcmVuY2VzLnN1Y2Nlc3NfbW9kaWZpZWQiKSwKICAgICAgICAgICAgYm9vdHN0eWxlPSJpbmZvIiwKICAgICAgICAgICAgZHVyYXRpb249MTAwMDAsCiAgICAgICAgKQoKICAgIGRlZiBiYWNrKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5iYWNrKCkKCiAgICBkZWYgZm9yd2FyZChzZWxmKToKICAgICAgICBzZWxmLnZpZXcuZm9yd2FyZCgpCgogICAgZGVmIHVwZGF0ZV9sYW5ndWFnZShzZWxmKToKICAgICAgICBzZWxmLnN0b3JlWyJsYW5ndWFnZSJdID0gdGFrdGsuRGljdGlvbmFyeS5kaWN0aW9uYXJ5Lmxhbmd1YWdlCiAgICAgICAgc2VsZi5zdG9yZS5zYXZlKCkKICAgICAgICBOb3RpZmljYXRpb24oCiAgICAgICAgICAgICJUb2RvcyIsCiAgICAgICAgICAgIF8oInByZWZlcmVuY2VzLnN1Y2Nlc3NfbW9kaWZpZWQiKSwKICAgICAgICAgICAgYm9vdHN0eWxlPSJpbmZvIiwKICAgICAgICAgICAgZHVyYXRpb249MTAwMDAsCiAgICAgICAgKS5zaG93KCkKCgpAY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUgd2VpZ2h0Ong9JzA6IDEwJyB3ZWlnaHQ6eT0nMTogMTAsIDI6IDEwJwogICAgICAgIFxmcmFtZSBwYWRkaW5nPTUgd2VpZ2h0Onk9JzI6MTAnIHdlaWdodDp4PSc0OjEwJyBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtiYWNrfSAgICBpbWFnZT1pbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0gcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3VzZXJzfSAgICBpbWFnZT1pbWc6QHVzZXJzLWJldHdlZW4tbGluZXN7aGVpZ2h0OiAyMH0gcG9zOmdyaWQ9MSwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3RvZG9zfSAgICBpbWFnZT1pbWc6QGNoZWNrLWRvdWJsZXtoZWlnaHQ6IDIwfSBwb3M6Z3JpZD0yLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxsYWJlbCB0ZXh0PXtmJ2xvZ2dlZCBpbiBhczoge1VzZXIuY3VycmVudCgpLm5hbWV9JyBpZiBVc2VyLmN1cnJlbnQoKSBlbHNlICJub3QgbG9nZ2VkIGluISJ9IHBvczpncmlkPTMsMAogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2ZvcndhcmR9IGltYWdlPWltZzpAZm9yd2FyZHt3aWR0aDogMjB9ICBwb3M6Z3JpZD01LDAgcG9zOnN0aWNreT0nZScgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgXGZyYW1lOm91dGxldCBwb3M6Z3JpZD0wLDEKICAgICIiIgogICAgdXNlciA9IE5vbmUKCiAgICBkZWYgYmFjaygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uZm9yd2FyZCgpCgogICAgZGVmIGd0X3VzZXJzKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInVzZXJzIikKCiAgICBkZWYgZ3RfdG9kb3MoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIHJldHVybiBsb2NhbHMoKSB8IGdsb2JhbHMoKQo",
					"AQAAAAAAAAABAAAAgQAAAAAAAACPAAAAAAAAAAAAAAAAAPC/"
				],
				[
					58,
					2,
					"swap_line_down",
					null,
					"BAAAAJEAAAAAAAAAnwAAAAAAAAAAAAAAggAAAAAAAACCAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCqUAAAAAAAAAswAAAAAAAAAAAAAAgwAAAAAAAACDAAAAAAAAAA4AAABwcmludCgiaW1wbyIpCg",
					"AQAAAAAAAAABAAAAggAAAAAAAACQAAAAAAAAAAAAAAAAAPC/"
				],
				[
					61,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAqA4AAAAAAACnDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCnByaW50KCJpbXBvIikKZnJvbSAuYWRtaW4gaW1wb3J0IERJUgoKZApyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkBjb21wb25lbnQKZGVmIExheW91dChzZWxmKToKICAgIHIiIiIKICAgIFxmcmFtZSB3ZWlnaHQ6eD0nMDogMTAnIHdlaWdodDp5PScxOiAxMCwgMjogMTAnCiAgICAgICAgXGZyYW1lIHBhZGRpbmc9NSB3ZWlnaHQ6eT0nMjoxMCcgd2VpZ2h0Ong9JzQ6MTAnIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2JhY2t9ICAgIGltYWdlPWltZzpAYmFja3dhcmR7d2lkdGg6IDIwfSBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Z3RfdXNlcnN9ICAgIGltYWdlPWltZzpAdXNlcnMtYmV0d2Vlbi1saW5lc3toZWlnaHQ6IDIwfSBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Z3RfdG9kb3N9ICAgIGltYWdlPWltZzpAY2hlY2stZG91Ymxle2hlaWdodDogMjB9IHBvczpncmlkPTIsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGxhYmVsIHRleHQ9e2YnbG9nZ2VkIGluIGFzOiB7VXNlci5jdXJyZW50KCkubmFtZX0nIGlmIFVzZXIuY3VycmVudCgpIGVsc2UgIm5vdCBsb2dnZWQgaW4hIn0gcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9aW1nOkBmb3J3YXJke3dpZHRoOiAyMH0gIHBvczpncmlkPTUsMCBwb3M6c3RpY2t5PSdlJyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICBcZnJhbWU6b3V0bGV0IHBvczpncmlkPTAsMQogICAgIiIiCiAgICB1c2VyID0gTm9uZQoKICAgIGRlZiBiYWNrKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uYmFjaygpCgogICAgZGVmIGZvcndhcmQoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5mb3J3YXJkKCkKCiAgICBkZWYgZ3RfdXNlcnMoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidXNlcnMiKQoKICAgIGRlZiBndF90b2RvcygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ0b2RvcyIpCgogICAgcmV0dXJuIGxvY2FscygpIHwgZ2xvYmFscygpCg",
					"AQAAAAAAAAABAAAAlwAAAAAAAAClAAAAAAAAAAAAAAAAAPC/"
				],
				[
					66,
					1,
					"left_delete",
					null,
					"AQAAAJgAAAAAAAAAmAAAAAAAAAAOAAAAcHJpbnQoImltcG8iKQo",
					"AQAAAAAAAAABAAAAmAAAAAAAAACmAAAAAAAAAAAAAAAAAPC/"
				],
				[
					69,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAmg4AAAAAAACaDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpkCnJlY2VudF9maWxlcyA9IFsiYW1hLnB5IiwgInRlc3QucHkiLCAidHRrYm9vdHN0cmFwLnB5IiwgImxhYmVsLnB5Il0KCgpjbGFzcyBBcHBsaWNhdGlvbih0YWt0ay5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbik6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygKICAgICAgICAgICAgaWNvbj0iQGljb24iLAogICAgICAgICAgICBkaWN0aW9uYXJpZXM9RElSIC8gImRpY3Rpb25hcmllcyIsCiAgICAgICAgICAgIG1lZGlhX3BhdGg9RElSIC8gIm1lZGlhIiwKICAgICAgICAgICAgcGFyYW1zPWRpY3QoCiAgICAgICAgICAgICAgICB0aGVtZW5hbWU9ImRhcmtseSIsCiAgICAgICAgICAgICAgICBtaW5zaXplPSg4MDAsIDQwMCksCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGFkZHJlc3M9KCIiLCA1Njc4OSksCiAgICAgICAgICAgIG1lbnU9dGFrdGsubWFrZV9tZW51KAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJAZmlsZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBvcGVuIjogbGFtYmRhOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiIXNlcCI6IE5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICJAL21lbnUucXVpdCI6IGV4aXQsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAiQHByZWZlcmVuY2VzIjogewogICAgICAgICAgICAgICAgICAgICAgICAiQGxhbmd1YWdlIjoge30sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAiQHF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9ucz0ibWVudSIsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHN0b3JlPSgKICAgICAgICAgICAgICAgIERJUiAvICJzdG9yZS5qc29uIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibGFuZ3VhZ2UiOiAiZW5nbGlzaCIsCiAgICAgICAgICAgICAgICAgICAgInRoZW1lIjogImRhcmtseSIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICApLAogICAgICAgICAgICBwYWdlcz1wYWdlcywKICAgICAgICAgICAgbGF5b3V0PUxheW91dChzZWxmKSwKICAgICAgICApCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZi5tZW51WyJAcHJlZmVyZW5jZXMvQGxhbmd1YWdlIl0gPSB7CiAgICAgICAgICAgIGxhbmc6IHNlbGYuZGljdGlvbmFyaWVzLmdldChsYW5nKS5pbnN0YWxsCiAgICAgICAgICAgIGZvciBsYW5nIGluIHNlbGYuZGljdGlvbmFyaWVzLmxhbmd1YWdlcwogICAgICAgIH0KICAgICAgICBzdHlsZSA9IHNlbGYucm9vdC5zdHlsZQogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0B0aGVtZSJdID0gewogICAgICAgICAgICB0OiBsYW1iZGEgcz1zZWxmLnNldF90aGVtZSwgdD10OiBzKHQpIGZvciB0IGluIHN0eWxlLnRoZW1lX25hbWVzKCkKICAgICAgICB9CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHNlbGYuc3RvcmVbInRoZW1lIl0pCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChlKQogICAgICAgIHNlbGYubWVudS51cGRhdGUoKQogICAgICAgIHNlbGYuc2V0X2xhbmd1YWdlKHNlbGYuc3RvcmVbImxhbmd1YWdlIl0pCiAgICAgICAgdGFrdGsuZGljdGlvbmFyeS5EaWN0aW9uYXJ5LnN1YnNjcmliZShzZWxmLnVwZGF0ZV9sYW5ndWFnZSkKCiAgICBkZWYgc2V0X3RoZW1lKHNlbGYsIHRoZW1lKToKICAgICAgICBmcm9tIGJ1aWx0aW5zIGltcG9ydCBfCgogICAgICAgIHNlbGYucm9vdC5zdHlsZS50aGVtZV91c2UodGhlbWUpCiAgICAgICAgc2VsZi5zdG9yZVsidGhlbWUiXSA9IHRoZW1lCiAgICAgICAgdGFrdGsubm90aWZ5KAogICAgICAgICAgICAiVG9kb3MiLAogICAgICAgICAgICBfKCJwcmVmZXJlbmNlcy5zdWNjZXNzX21vZGlmaWVkIiksCiAgICAgICAgICAgIGJvb3RzdHlsZT0iaW5mbyIsCiAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAwLAogICAgICAgICkKCiAgICBkZWYgYmFjayhzZWxmKToKICAgICAgICBzZWxmLnZpZXcuYmFjaygpCgogICAgZGVmIGZvcndhcmQoc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmZvcndhcmQoKQoKICAgIGRlZiB1cGRhdGVfbGFuZ3VhZ2Uoc2VsZik6CiAgICAgICAgc2VsZi5zdG9yZVsibGFuZ3VhZ2UiXSA9IHRha3RrLkRpY3Rpb25hcnkuZGljdGlvbmFyeS5sYW5ndWFnZQogICAgICAgIHNlbGYuc3RvcmUuc2F2ZSgpCiAgICAgICAgTm90aWZpY2F0aW9uKAogICAgICAgICAgICAiVG9kb3MiLAogICAgICAgICAgICBfKCJwcmVmZXJlbmNlcy5zdWNjZXNzX21vZGlmaWVkIiksCiAgICAgICAgICAgIGJvb3RzdHlsZT0iaW5mbyIsCiAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAwLAogICAgICAgICkuc2hvdygpCgoKQGNvbXBvbmVudApkZWYgTGF5b3V0KHNlbGYpOgogICAgciIiIgogICAgXGZyYW1lIHdlaWdodDp4PScwOiAxMCcgd2VpZ2h0Onk9JzE6IDEwLCAyOiAxMCcKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHdlaWdodDp5PScyOjEwJyB3ZWlnaHQ6eD0nNDoxMCcgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgaW1hZ2U9aW1nOkBiYWNrd2FyZHt3aWR0aDogMjB9IHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF91c2Vyc30gICAgaW1hZ2U9aW1nOkB1c2Vycy1iZXR3ZWVuLWxpbmVze2hlaWdodDogMjB9IHBvczpncmlkPTEsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF90b2Rvc30gICAgaW1hZ2U9aW1nOkBjaGVjay1kb3VibGV7aGVpZ2h0OiAyMH0gcG9zOmdyaWQ9MiwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcbGFiZWwgdGV4dD17Zidsb2dnZWQgaW4gYXM6IHtVc2VyLmN1cnJlbnQoKS5uYW1lfScgaWYgVXNlci5jdXJyZW50KCkgZWxzZSAibm90IGxvZ2dlZCBpbiEifSBwb3M6Z3JpZD0zLDAKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtmb3J3YXJkfSBpbWFnZT1pbWc6QGZvcndhcmR7d2lkdGg6IDIwfSAgcG9zOmdyaWQ9NSwwIHBvczpzdGlja3k9J2UnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgIFxmcmFtZTpvdXRsZXQgcG9zOmdyaWQ9MCwxCiAgICAiIiIKICAgIHVzZXIgPSBOb25lCgogICAgZGVmIGJhY2soKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5iYWNrKCkKCiAgICBkZWYgZm9yd2FyZCgpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmZvcndhcmQoKQoKICAgIGRlZiBndF91c2VycygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ1c2VycyIpCgogICAgZGVmIGd0X3RvZG9zKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInRvZG9zIikKCiAgICByZXR1cm4gbG9jYWxzKCkgfCBnbG9iYWxzKCkK",
					"AQAAAAAAAAABAAAAmAAAAAAAAACYAAAAAAAAAAAAAAAAAPC/"
				],
				[
					72,
					1,
					"left_delete",
					null,
					"AQAAALAAAAAAAAAAsAAAAAAAAAACAAAAZAo",
					"AQAAAAAAAAABAAAAsAAAAAAAAACyAAAAAAAAAAAAAAAAAPC/"
				],
				[
					75,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAmA4AAAAAAACYDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkBjb21wb25lbnQKZGVmIExheW91dChzZWxmKToKICAgIHIiIiIKICAgIFxmcmFtZSB3ZWlnaHQ6eD0nMDogMTAnIHdlaWdodDp5PScxOiAxMCwgMjogMTAnCiAgICAgICAgXGZyYW1lIHBhZGRpbmc9NSB3ZWlnaHQ6eT0nMjoxMCcgd2VpZ2h0Ong9JzQ6MTAnIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2JhY2t9ICAgIGltYWdlPWltZzpAYmFja3dhcmR7d2lkdGg6IDIwfSBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Z3RfdXNlcnN9ICAgIGltYWdlPWltZzpAdXNlcnMtYmV0d2Vlbi1saW5lc3toZWlnaHQ6IDIwfSBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Z3RfdG9kb3N9ICAgIGltYWdlPWltZzpAY2hlY2stZG91Ymxle2hlaWdodDogMjB9IHBvczpncmlkPTIsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGxhYmVsIHRleHQ9e2YnbG9nZ2VkIGluIGFzOiB7VXNlci5jdXJyZW50KCkubmFtZX0nIGlmIFVzZXIuY3VycmVudCgpIGVsc2UgIm5vdCBsb2dnZWQgaW4hIn0gcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9aW1nOkBmb3J3YXJke3dpZHRoOiAyMH0gIHBvczpncmlkPTUsMCBwb3M6c3RpY2t5PSdlJyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICBcZnJhbWU6b3V0bGV0IHBvczpncmlkPTAsMQogICAgIiIiCiAgICB1c2VyID0gTm9uZQoKICAgIGRlZiBiYWNrKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uYmFjaygpCgogICAgZGVmIGZvcndhcmQoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5mb3J3YXJkKCkKCiAgICBkZWYgZ3RfdXNlcnMoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidXNlcnMiKQoKICAgIGRlZiBndF90b2RvcygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ0b2RvcyIpCgogICAgcmV0dXJuIGxvY2FscygpIHwgZ2xvYmFscygpCg",
					"AQAAAAAAAAABAAAAsAAAAAAAAACwAAAAAAAAAAAAAAAAAPC/"
				],
				[
					88,
					1,
					"paste",
					null,
					"AQAAADoKAAAAAAAASQoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAOgoAAAAAAAA6CgAAAAAAAAAAAAAAABhA"
				],
				[
					89,
					1,
					"insert",
					{
						"characters": "."
					},
					"AQAAAEkKAAAAAAAASgoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASQoAAAAAAABJCgAAAAAAAAAAAAAAAPC/"
				],
				[
					92,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAqA4AAAAAAACoDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUgd2VpZ2h0Ong9JzA6IDEwJyB3ZWlnaHQ6eT0nMTogMTAsIDI6IDEwJwogICAgICAgIFxmcmFtZSBwYWRkaW5nPTUgd2VpZ2h0Onk9JzI6MTAnIHdlaWdodDp4PSc0OjEwJyBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtiYWNrfSAgICBpbWFnZT1pbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0gcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3VzZXJzfSAgICBpbWFnZT1pbWc6QHVzZXJzLWJldHdlZW4tbGluZXN7aGVpZ2h0OiAyMH0gcG9zOmdyaWQ9MSwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3RvZG9zfSAgICBpbWFnZT1pbWc6QGNoZWNrLWRvdWJsZXtoZWlnaHQ6IDIwfSBwb3M6Z3JpZD0yLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxsYWJlbCB0ZXh0PXtmJ2xvZ2dlZCBpbiBhczoge1VzZXIuY3VycmVudCgpLm5hbWV9JyBpZiBVc2VyLmN1cnJlbnQoKSBlbHNlICJub3QgbG9nZ2VkIGluISJ9IHBvczpncmlkPTMsMAogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2ZvcndhcmR9IGltYWdlPWltZzpAZm9yd2FyZHt3aWR0aDogMjB9ICBwb3M6Z3JpZD01LDAgcG9zOnN0aWNreT0nZScgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgXGZyYW1lOm91dGxldCBwb3M6Z3JpZD0wLDEKICAgICIiIgogICAgdXNlciA9IE5vbmUKCiAgICBkZWYgYmFjaygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uZm9yd2FyZCgpCgogICAgZGVmIGd0X3VzZXJzKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInVzZXJzIikKCiAgICBkZWYgZ3RfdG9kb3MoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIHJldHVybiBsb2NhbHMoKSB8IGdsb2JhbHMoKQo",
					"AQAAAAAAAAABAAAASgoAAAAAAABKCgAAAAAAAAAAAAAAAPC/"
				],
				[
					100,
					1,
					"insert",
					{
						"characters": "<"
					},
					"AQAAACcLAAAAAAAAKAsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJwsAAAAAAAAnCwAAAAAAAAAAAAAAAPC/"
				],
				[
					102,
					1,
					"insert",
					{
						"characters": ">"
					},
					"AQAAAEALAAAAAAAAQQsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQAsAAAAAAABACwAAAAAAAAAAAAAAAPC/"
				],
				[
					105,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAqg4AAAAAAACqDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUgd2VpZ2h0Ong9JzA6IDEwJyB3ZWlnaHQ6eT0nMTogMTAsIDI6IDEwJwogICAgICAgIFxmcmFtZSBwYWRkaW5nPTUgd2VpZ2h0Onk9JzI6MTAnIHdlaWdodDp4PSc0OjEwJyBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtiYWNrfSAgICBpbWFnZT08aW1nOkBiYWNrd2FyZHt3aWR0aDogMjB9PiBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Z3RfdXNlcnN9ICAgIGltYWdlPWltZzpAdXNlcnMtYmV0d2Vlbi1saW5lc3toZWlnaHQ6IDIwfSBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Z3RfdG9kb3N9ICAgIGltYWdlPWltZzpAY2hlY2stZG91Ymxle2hlaWdodDogMjB9IHBvczpncmlkPTIsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGxhYmVsIHRleHQ9e2YnbG9nZ2VkIGluIGFzOiB7VXNlci5jdXJyZW50KCkubmFtZX0nIGlmIFVzZXIuY3VycmVudCgpIGVsc2UgIm5vdCBsb2dnZWQgaW4hIn0gcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9aW1nOkBmb3J3YXJke3dpZHRoOiAyMH0gIHBvczpncmlkPTUsMCBwb3M6c3RpY2t5PSdlJyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICBcZnJhbWU6b3V0bGV0IHBvczpncmlkPTAsMQogICAgIiIiCiAgICB1c2VyID0gTm9uZQoKICAgIGRlZiBiYWNrKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uYmFjaygpCgogICAgZGVmIGZvcndhcmQoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5mb3J3YXJkKCkKCiAgICBkZWYgZ3RfdXNlcnMoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidXNlcnMiKQoKICAgIGRlZiBndF90b2RvcygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ0b2RvcyIpCgogICAgcmV0dXJuIGxvY2FscygpIHwgZ2xvYmFscygpCg",
					"AQAAAAAAAAABAAAAQQsAAAAAAABBCwAAAAAAAAAAAAAAAPC/"
				],
				[
					108,
					1,
					"insert",
					{
						"characters": "<"
					},
					"AQAAAKgLAAAAAAAAqQsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqAsAAAAAAACoCwAAAAAAAAAAAAAAAPC/"
				],
				[
					109,
					1,
					"left_delete",
					null,
					"AQAAAKgLAAAAAAAAqAsAAAAAAAABAAAAPA",
					"AQAAAAAAAAABAAAAqQsAAAAAAACpCwAAAAAAAAAAAAAAAPC/"
				],
				[
					111,
					1,
					"insert",
					{
						"characters": "<"
					},
					"AQAAAKcLAAAAAAAAqAsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApwsAAAAAAACnCwAAAAAAAAAAAAAAAPC/"
				],
				[
					113,
					1,
					"insert",
					{
						"characters": ">"
					},
					"AQAAAMwLAAAAAAAAzQsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzAsAAAAAAADMCwAAAAAAAAAAAAAAAPC/"
				],
				[
					117,
					1,
					"insert",
					{
						"characters": "<"
					},
					"AQAAADMMAAAAAAAANAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMwwAAAAAAAAzDAAAAAAAAAAAAAAAAPC/"
				],
				[
					119,
					1,
					"insert",
					{
						"characters": ">"
					},
					"AQAAAFEMAAAAAAAAUgwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUQwAAAAAAABRDAAAAAAAAAAAAAAAAPC/"
				],
				[
					124,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAArg4AAAAAAACuDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUgd2VpZ2h0Ong9JzA6IDEwJyB3ZWlnaHQ6eT0nMTogMTAsIDI6IDEwJwogICAgICAgIFxmcmFtZSBwYWRkaW5nPTUgd2VpZ2h0Onk9JzI6MTAnIHdlaWdodDp4PSc0OjEwJyBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtiYWNrfSAgICBpbWFnZT08aW1nOkBiYWNrd2FyZHt3aWR0aDogMjB9PiBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Z3RfdXNlcnN9ICAgIGltYWdlPTxpbWc6QHVzZXJzLWJldHdlZW4tbGluZXN7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTEsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF90b2Rvc30gICAgaW1hZ2U9PGltZzpAY2hlY2stZG91Ymxle2hlaWdodDogMjB9PiBwb3M6Z3JpZD0yLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxsYWJlbCB0ZXh0PXtmJ2xvZ2dlZCBpbiBhczoge1VzZXIuY3VycmVudCgpLm5hbWV9JyBpZiBVc2VyLmN1cnJlbnQoKSBlbHNlICJub3QgbG9nZ2VkIGluISJ9IHBvczpncmlkPTMsMAogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2ZvcndhcmR9IGltYWdlPWltZzpAZm9yd2FyZHt3aWR0aDogMjB9ICBwb3M6Z3JpZD01LDAgcG9zOnN0aWNreT0nZScgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgXGZyYW1lOm91dGxldCBwb3M6Z3JpZD0wLDEKICAgICIiIgogICAgdXNlciA9IE5vbmUKCiAgICBkZWYgYmFjaygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uZm9yd2FyZCgpCgogICAgZGVmIGd0X3VzZXJzKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInVzZXJzIikKCiAgICBkZWYgZ3RfdG9kb3MoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIHJldHVybiBsb2NhbHMoKSB8IGdsb2JhbHMoKQo",
					"AQAAAAAAAAABAAAA0wwAAAAAAADTDAAAAAAAAAAAAAAAAPC/"
				],
				[
					136,
					1,
					"left_delete",
					null,
					"AQAAAHkKAAAAAAAAeQoAAAAAAAApAAAAIHdlaWdodDp4PScwOiAxMCcgd2VpZ2h0Onk9JzE6IDEwLCAyOiAxMCc",
					"AQAAAAAAAAABAAAAogoAAAAAAAB5CgAAAAAAAAAAAAAAAPC/"
				],
				[
					139,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAhQ4AAAAAAACFDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHdlaWdodDp5PScyOjEwJyB3ZWlnaHQ6eD0nNDoxMCcgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgaW1hZ2U9PGltZzpAYmFja3dhcmR7d2lkdGg6IDIwfT4gcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3VzZXJzfSAgICBpbWFnZT08aW1nOkB1c2Vycy1iZXR3ZWVuLWxpbmVze2hlaWdodDogMjB9PiBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Z3RfdG9kb3N9ICAgIGltYWdlPTxpbWc6QGNoZWNrLWRvdWJsZXtoZWlnaHQ6IDIwfT4gcG9zOmdyaWQ9MiwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcbGFiZWwgdGV4dD17Zidsb2dnZWQgaW4gYXM6IHtVc2VyLmN1cnJlbnQoKS5uYW1lfScgaWYgVXNlci5jdXJyZW50KCkgZWxzZSAibm90IGxvZ2dlZCBpbiEifSBwb3M6Z3JpZD0zLDAKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtmb3J3YXJkfSBpbWFnZT1pbWc6QGZvcndhcmR7d2lkdGg6IDIwfSAgcG9zOmdyaWQ9NSwwIHBvczpzdGlja3k9J2UnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgIFxmcmFtZTpvdXRsZXQgcG9zOmdyaWQ9MCwxCiAgICAiIiIKICAgIHVzZXIgPSBOb25lCgogICAgZGVmIGJhY2soKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5iYWNrKCkKCiAgICBkZWYgZm9yd2FyZCgpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmZvcndhcmQoKQoKICAgIGRlZiBndF91c2VycygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ1c2VycyIpCgogICAgZGVmIGd0X3RvZG9zKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInRvZG9zIikKCiAgICByZXR1cm4gbG9jYWxzKCkgfCBnbG9iYWxzKCkK",
					"AQAAAAAAAAABAAAAeQoAAAAAAAB5CgAAAAAAAAAAAAAAAPC/"
				],
				[
					144,
					1,
					"insert",
					{
						"characters": " pos:pac"
					},
					"CAAAAJIKAAAAAAAAkwoAAAAAAAAAAAAAkwoAAAAAAACUCgAAAAAAAAAAAACUCgAAAAAAAJUKAAAAAAAAAAAAAJUKAAAAAAAAlgoAAAAAAAAAAAAAlgoAAAAAAACXCgAAAAAAAAAAAACXCgAAAAAAAJgKAAAAAAAAAAAAAJgKAAAAAAAAmQoAAAAAAAAAAAAAmQoAAAAAAACaCgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkgoAAAAAAACSCgAAAAAAAAAAAAAAAPC/"
				],
				[
					145,
					1,
					"insert",
					{
						"characters": "k"
					},
					"AQAAAJoKAAAAAAAAmwoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmgoAAAAAAACaCgAAAAAAAAAAAAAAAPC/"
				],
				[
					151,
					1,
					"left_delete",
					null,
					"AQAAAJsKAAAAAAAAmwoAAAAAAAA/AAAAIHdlaWdodDp5PScyOjEwJyB3ZWlnaHQ6eD0nNDoxMCcgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcn",
					"AQAAAAAAAAABAAAAmwoAAAAAAADaCgAAAAAAAAAAAAAAAPC/"
				],
				[
					156,
					1,
					"left_delete",
					null,
					"AQAAADMNAAAAAAAAMw0AAAAAAAAIAAAAZ3JpZD0wLDE",
					"AQAAAAAAAAABAAAAOw0AAAAAAAAzDQAAAAAAAAAAAAAAAPC/"
				],
				[
					157,
					1,
					"insert",
					{
						"characters": "pack"
					},
					"BAAAADMNAAAAAAAANA0AAAAAAAAAAAAANA0AAAAAAAA1DQAAAAAAAAAAAAA1DQAAAAAAADYNAAAAAAAAAAAAADYNAAAAAAAANw0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMw0AAAAAAAAzDQAAAAAAAAAAAAAAAPC/"
				],
				[
					160,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAASw4AAAAAAABLDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHBvczpwYWNrCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgaW1hZ2U9PGltZzpAYmFja3dhcmR7d2lkdGg6IDIwfT4gcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3VzZXJzfSAgICBpbWFnZT08aW1nOkB1c2Vycy1iZXR3ZWVuLWxpbmVze2hlaWdodDogMjB9PiBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Z3RfdG9kb3N9ICAgIGltYWdlPTxpbWc6QGNoZWNrLWRvdWJsZXtoZWlnaHQ6IDIwfT4gcG9zOmdyaWQ9MiwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcbGFiZWwgdGV4dD17Zidsb2dnZWQgaW4gYXM6IHtVc2VyLmN1cnJlbnQoKS5uYW1lfScgaWYgVXNlci5jdXJyZW50KCkgZWxzZSAibm90IGxvZ2dlZCBpbiEifSBwb3M6Z3JpZD0zLDAKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtmb3J3YXJkfSBpbWFnZT1pbWc6QGZvcndhcmR7d2lkdGg6IDIwfSAgcG9zOmdyaWQ9NSwwIHBvczpzdGlja3k9J2UnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgIFxmcmFtZTpvdXRsZXQgcG9zOnBhY2sKICAgICIiIgogICAgdXNlciA9IE5vbmUKCiAgICBkZWYgYmFjaygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uZm9yd2FyZCgpCgogICAgZGVmIGd0X3VzZXJzKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInVzZXJzIikKCiAgICBkZWYgZ3RfdG9kb3MoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIHJldHVybiBsb2NhbHMoKSB8IGdsb2JhbHMoKQo",
					"AQAAAAAAAAABAAAANw0AAAAAAAA3DQAAAAAAAAAAAAAAAPC/"
				],
				[
					165,
					1,
					"insert",
					{
						"characters": "     "
					},
					"BQAAAMEKAAAAAAAAwgoAAAAAAAAAAAAAwgoAAAAAAADDCgAAAAAAAAAAAADDCgAAAAAAAMQKAAAAAAAAAAAAAMQKAAAAAAAAxQoAAAAAAAAAAAAAxQoAAAAAAADGCgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwQoAAAAAAADBCgAAAAAAAAAAAAAAAPC/"
				],
				[
					166,
					1,
					"left_delete",
					null,
					"AQAAAMUKAAAAAAAAxQoAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAxgoAAAAAAADGCgAAAAAAAAAAAAAAAPC/"
				],
				[
					169,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAATw4AAAAAAABPDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHBvczpwYWNrCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgICAgIGltYWdlPTxpbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0+IHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF91c2Vyc30gICAgaW1hZ2U9PGltZzpAdXNlcnMtYmV0d2Vlbi1saW5lc3toZWlnaHQ6IDIwfT4gcG9zOmdyaWQ9MSwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3RvZG9zfSAgICBpbWFnZT08aW1nOkBjaGVjay1kb3VibGV7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTIsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGxhYmVsIHRleHQ9e2YnbG9nZ2VkIGluIGFzOiB7VXNlci5jdXJyZW50KCkubmFtZX0nIGlmIFVzZXIuY3VycmVudCgpIGVsc2UgIm5vdCBsb2dnZWQgaW4hIn0gcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9aW1nOkBmb3J3YXJke3dpZHRoOiAyMH0gIHBvczpncmlkPTUsMCBwb3M6c3RpY2t5PSdlJyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICBcZnJhbWU6b3V0bGV0IHBvczpwYWNrCiAgICAiIiIKICAgIHVzZXIgPSBOb25lCgogICAgZGVmIGJhY2soKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5iYWNrKCkKCiAgICBkZWYgZm9yd2FyZCgpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmZvcndhcmQoKQoKICAgIGRlZiBndF91c2VycygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ1c2VycyIpCgogICAgZGVmIGd0X3RvZG9zKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInRvZG9zIikKCiAgICByZXR1cm4gbG9jYWxzKCkgfCBnbG9iYWxzKCkK",
					"AQAAAAAAAAABAAAAxQoAAAAAAADFCgAAAAAAAAAAAAAAAPC/"
				],
				[
					173,
					1,
					"insert",
					{
						"characters": ">"
					},
					"AQAAAOYMAAAAAAAA5wwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5gwAAAAAAADmDAAAAAAAAAAAAAAAAPC/"
				],
				[
					175,
					1,
					"insert",
					{
						"characters": "<"
					},
					"AQAAAM8MAAAAAAAA0AwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzwwAAAAAAADPDAAAAAAAAAAAAAAAAPC/"
				],
				[
					178,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAUQ4AAAAAAABRDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHBvczpwYWNrCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgICAgIGltYWdlPTxpbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0+IHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF91c2Vyc30gICAgaW1hZ2U9PGltZzpAdXNlcnMtYmV0d2Vlbi1saW5lc3toZWlnaHQ6IDIwfT4gcG9zOmdyaWQ9MSwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3RvZG9zfSAgICBpbWFnZT08aW1nOkBjaGVjay1kb3VibGV7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTIsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGxhYmVsIHRleHQ9e2YnbG9nZ2VkIGluIGFzOiB7VXNlci5jdXJyZW50KCkubmFtZX0nIGlmIFVzZXIuY3VycmVudCgpIGVsc2UgIm5vdCBsb2dnZWQgaW4hIn0gcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9PGltZzpAZm9yd2FyZHt3aWR0aDogMjB9PiAgcG9zOmdyaWQ9NSwwIHBvczpzdGlja3k9J2UnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgIFxmcmFtZTpvdXRsZXQgcG9zOnBhY2sKICAgICIiIgogICAgdXNlciA9IE5vbmUKCiAgICBkZWYgYmFjaygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uZm9yd2FyZCgpCgogICAgZGVmIGd0X3VzZXJzKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInVzZXJzIikKCiAgICBkZWYgZ3RfdG9kb3MoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIHJldHVybiBsb2NhbHMoKSB8IGdsb2JhbHMoKQo",
					"AQAAAAAAAAABAAAA0AwAAAAAAADQDAAAAAAAAAAAAAAAAPC/"
				],
				[
					192,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAOcKAAAAAAAA6AoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5woAAAAAAADnCgAAAAAAAAAAAAAAAPC/"
				],
				[
					195,
					1,
					"insert",
					{
						"characters": "\n\t"
					},
					"AwAAAOgKAAAAAAAA6QoAAAAAAAAAAAAA6QoAAAAAAAD1CgAAAAAAAAAAAAD1CgAAAAAAAPkKAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6AoAAAAAAADoCgAAAAAAAAAAAAAAAPC/"
				],
				[
					199,
					4,
					"left_delete",
					null,
					"BAAAAFcLAAAAAAAAVwsAAAAAAAABAAAAIFYLAAAAAAAAVgsAAAAAAAABAAAAIFULAAAAAAAAVQsAAAAAAAABAAAAIFQLAAAAAAAAVAsAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAWAsAAAAAAABYCwAAAAAAAAAAAAAAAPC/"
				],
				[
					200,
					1,
					"insert",
					{
						"characters": "    "
					},
					"BAAAAFQLAAAAAAAAVQsAAAAAAAAAAAAAVQsAAAAAAABWCwAAAAAAAAAAAABWCwAAAAAAAFcLAAAAAAAAAAAAAFcLAAAAAAAAWAsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVAsAAAAAAABUCwAAAAAAAAAAAAAAAPC/"
				],
				[
					201,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAFgLAAAAAAAAWQsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWAsAAAAAAABYCwAAAAAAAAAAAAAAAPC/"
				],
				[
					202,
					1,
					"insert",
					{
						"characters": "\n\t"
					},
					"AwAAAFkLAAAAAAAAWgsAAAAAAAAAAAAAWgsAAAAAAABmCwAAAAAAAAAAAABmCwAAAAAAAGoLAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWQsAAAAAAABZCwAAAAAAAAAAAAAAAPC/"
				],
				[
					205,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAPYLAAAAAAAA9wsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9gsAAAAAAAD2CwAAAAAAAAAAAAAAAPC/"
				],
				[
					206,
					1,
					"insert",
					{
						"characters": "\n\t"
					},
					"AwAAAPcLAAAAAAAA+AsAAAAAAAAAAAAA+AsAAAAAAAAEDAAAAAAAAAAAAAAEDAAAAAAAAAgMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9wsAAAAAAAD3CwAAAAAAAAAAAAAAAPC/"
				],
				[
					211,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAKQLAAAAAAAApQsAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApAsAAAAAAACkCwAAAAAAAAAAAAAAAPC/"
				],
				[
					213,
					1,
					"left_delete",
					null,
					"AQAAAKMLAAAAAAAAowsAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAApAsAAAAAAACkCwAAAAAAAAAAAAAAAPC/"
				],
				[
					216,
					4,
					"left_delete",
					null,
					"BAAAAFcLAAAAAAAAVwsAAAAAAAABAAAAIFYLAAAAAAAAVgsAAAAAAAABAAAAIFULAAAAAAAAVQsAAAAAAAABAAAAIFQLAAAAAAAAVAsAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAWAsAAAAAAABYCwAAAAAAAAAAAAAAAPC/"
				],
				[
					220,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAKALAAAAAAAAoQsAAAAAAAAAAAAAoQsAAAAAAACxCwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAoAsAAAAAAACgCwAAAAAAAAAAAAAAAPC/"
				],
				[
					225,
					1,
					"left_delete",
					null,
					"AQAAAP8LAAAAAAAA/wsAAAAAAAAEAAAAICAgIA",
					"AQAAAAAAAAABAAAA/wsAAAAAAAADDAAAAAAAAAAAAAAAAPC/"
				],
				[
					228,
					1,
					"left_delete",
					null,
					"AQAAAEMMAAAAAAAAQwwAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAARAwAAAAAAABEDAAAAAAAAAAAAAAAAPC/"
				],
				[
					229,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAEMMAAAAAAAARAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQwwAAAAAAABDDAAAAAAAAAAAAAAAAPC/"
				],
				[
					230,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAEQMAAAAAAAARQwAAAAAAAAAAAAARQwAAAAAAABVDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARAwAAAAAAABEDAAAAAAAAAAAAAAAAPC/"
				],
				[
					235,
					1,
					"left_delete",
					null,
					"AQAAAI8MAAAAAAAAjwwAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAkAwAAAAAAACQDAAAAAAAAAAAAAAAAPC/"
				],
				[
					236,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAI8MAAAAAAAAkAwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjwwAAAAAAACPDAAAAAAAAAAAAAAAAPC/"
				],
				[
					237,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAJAMAAAAAAAAkQwAAAAAAAAAAAAAkQwAAAAAAACdDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkAwAAAAAAACQDAAAAAAAAAAAAAAAAPC/"
				],
				[
					238,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAJ0MAAAAAAAAoQwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnQwAAAAAAACdDAAAAAAAAAAAAAAAAPC/"
				],
				[
					242,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAPYMAAAAAAAA9wwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9gwAAAAAAAD2DAAAAAAAAAAAAAAAAPC/"
				],
				[
					243,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAPcMAAAAAAAA+AwAAAAAAAAAAAAA+AwAAAAAAAAIDQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9wwAAAAAAAD3DAAAAAAAAAAAAAAAAPC/"
				],
				[
					245,
					1,
					"left_delete",
					null,
					"AQAAAAgNAAAAAAAACA0AAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAACQ0AAAAAAAAJDQAAAAAAAAAAAAAAAPC/"
				],
				[
					248,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAww4AAAAAAADDDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHBvczpwYWNrCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgICAgIGltYWdlPTxpbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0+IFwKICAgICAgICAgICAgICAgIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF91c2Vyc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkB1c2Vycy1iZXR3ZWVuLWxpbmVze2hlaWdodDogMjB9PiBwb3M6Z3JpZD0xLDBcCiAgICAgICAgICAgICAgICBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF90b2Rvc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkBjaGVjay1kb3VibGV7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTIsMFwKICAgICAgICAgICAgICAgIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcbGFiZWxcCiAgICAgICAgICAgICAgICB0ZXh0PXtmJ2xvZ2dlZCBpbiBhczoge1VzZXIuY3VycmVudCgpLm5hbWV9JyBpZiBVc2VyLmN1cnJlbnQoKSBlbHNlICJub3QgbG9nZ2VkIGluISJ9XAogICAgICAgICAgICAgICAgcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9PGltZzpAZm9yd2FyZHt3aWR0aDogMjB9PiAgcG9zOmdyaWQ9NSwwIHBvczpzdGlja3k9J2UnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgIFxmcmFtZTpvdXRsZXQgcG9zOnBhY2sKICAgICIiIgogICAgdXNlciA9IE5vbmUKCiAgICBkZWYgYmFjaygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uZm9yd2FyZCgpCgogICAgZGVmIGd0X3VzZXJzKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInVzZXJzIikKCiAgICBkZWYgZ3RfdG9kb3MoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIHJldHVybiBsb2NhbHMoKSB8IGdsb2JhbHMoKQo",
					"AQAAAAAAAAABAAAACA0AAAAAAAAIDQAAAAAAAAAAAAAAAPC/"
				],
				[
					253,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAFoNAAAAAAAAWw0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWg0AAAAAAABaDQAAAAAAAAAAAAAAAPC/"
				],
				[
					254,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAFsNAAAAAAAAXA0AAAAAAAAAAAAAXA0AAAAAAABoDQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWw0AAAAAAABbDQAAAAAAAAAAAAAAAPC/"
				],
				[
					256,
					1,
					"left_delete",
					null,
					"AQAAAGgNAAAAAAAAaA0AAAAAAAACAAAAICA",
					"AQAAAAAAAAABAAAAag0AAAAAAABqDQAAAAAAAAAAAAAAAPC/"
				],
				[
					257,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAGgNAAAAAAAAbA0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAaA0AAAAAAABoDQAAAAAAAAAAAAAAAPC/"
				],
				[
					260,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA0w4AAAAAAADTDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHBvczpwYWNrCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgICAgIGltYWdlPTxpbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0+IFwKICAgICAgICAgICAgICAgIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF91c2Vyc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkB1c2Vycy1iZXR3ZWVuLWxpbmVze2hlaWdodDogMjB9PiBwb3M6Z3JpZD0xLDBcCiAgICAgICAgICAgICAgICBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF90b2Rvc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkBjaGVjay1kb3VibGV7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTIsMFwKICAgICAgICAgICAgICAgIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcbGFiZWxcCiAgICAgICAgICAgICAgICB0ZXh0PXtmJ2xvZ2dlZCBpbiBhczoge1VzZXIuY3VycmVudCgpLm5hbWV9JyBpZiBVc2VyLmN1cnJlbnQoKSBlbHNlICJub3QgbG9nZ2VkIGluISJ9XAogICAgICAgICAgICAgICAgcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9PGltZzpAZm9yd2FyZHt3aWR0aDogMjB9PlwKICAgICAgICAgICAgICAgIHBvczpncmlkPTUsMCBwb3M6c3RpY2t5PSdlJyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICBcZnJhbWU6b3V0bGV0IHBvczpwYWNrCiAgICAiIiIKICAgIHVzZXIgPSBOb25lCgogICAgZGVmIGJhY2soKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5iYWNrKCkKCiAgICBkZWYgZm9yd2FyZCgpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmZvcndhcmQoKQoKICAgIGRlZiBndF91c2VycygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ1c2VycyIpCgogICAgZGVmIGd0X3RvZG9zKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInRvZG9zIikKCiAgICByZXR1cm4gbG9jYWxzKCkgfCBnbG9iYWxzKCkK",
					"AQAAAAAAAAABAAAAbA0AAAAAAABsDQAAAAAAAAAAAAAAAPC/"
				],
				[
					289,
					1,
					"insert",
					{
						"characters": "\nfrom"
					},
					"BgAAAMcNAAAAAAAAyA0AAAAAAAAAAAAAyA0AAAAAAADMDQAAAAAAAAAAAADMDQAAAAAAAM0NAAAAAAAAAAAAAM0NAAAAAAAAzg0AAAAAAAAAAAAAzg0AAAAAAADPDQAAAAAAAAAAAADPDQAAAAAAANANAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxw0AAAAAAADHDQAAAAAAAAAAAAAAAPC/"
				],
				[
					290,
					1,
					"insert",
					{
						"characters": " .adm"
					},
					"BQAAANANAAAAAAAA0Q0AAAAAAAAAAAAA0Q0AAAAAAADSDQAAAAAAAAAAAADSDQAAAAAAANMNAAAAAAAAAAAAANMNAAAAAAAA1A0AAAAAAAAAAAAA1A0AAAAAAADVDQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0A0AAAAAAADQDQAAAAAAAAAAAAAAAPC/"
				],
				[
					291,
					1,
					"insert_dimensions",
					null,
					"AgAAANINAAAAAAAA0g0AAAAAAAADAAAAYWRt0g0AAAAAAADXDQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1Q0AAAAAAADVDQAAAAAAAAAAAAAAAPC/"
				],
				[
					292,
					1,
					"insert",
					{
						"characters": " import"
					},
					"BwAAANcNAAAAAAAA2A0AAAAAAAAAAAAA2A0AAAAAAADZDQAAAAAAAAAAAADZDQAAAAAAANoNAAAAAAAAAAAAANoNAAAAAAAA2w0AAAAAAAAAAAAA2w0AAAAAAADcDQAAAAAAAAAAAADcDQAAAAAAAN0NAAAAAAAAAAAAAN0NAAAAAAAA3g0AAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1w0AAAAAAADXDQAAAAAAAAAAAAAAAPC/"
				],
				[
					293,
					1,
					"insert",
					{
						"characters": " User"
					},
					"BQAAAN4NAAAAAAAA3w0AAAAAAAAAAAAA3w0AAAAAAADgDQAAAAAAAAAAAADgDQAAAAAAAOENAAAAAAAAAAAAAOENAAAAAAAA4g0AAAAAAAAAAAAA4g0AAAAAAADjDQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3g0AAAAAAADeDQAAAAAAAAAAAAAAAPC/"
				],
				[
					296,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA8A4AAAAAAADvDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoc2VsZiksCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHBvczpwYWNrCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgICAgIGltYWdlPTxpbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0+IFwKICAgICAgICAgICAgICAgIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF91c2Vyc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkB1c2Vycy1iZXR3ZWVuLWxpbmVze2hlaWdodDogMjB9PiBwb3M6Z3JpZD0xLDBcCiAgICAgICAgICAgICAgICBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF90b2Rvc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkBjaGVjay1kb3VibGV7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTIsMFwKICAgICAgICAgICAgICAgIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcbGFiZWxcCiAgICAgICAgICAgICAgICB0ZXh0PXtmJ2xvZ2dlZCBpbiBhczoge1VzZXIuY3VycmVudCgpLm5hbWV9JyBpZiBVc2VyLmN1cnJlbnQoKSBlbHNlICJub3QgbG9nZ2VkIGluISJ9XAogICAgICAgICAgICAgICAgcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9PGltZzpAZm9yd2FyZHt3aWR0aDogMjB9PlwKICAgICAgICAgICAgICAgIHBvczpncmlkPTUsMCBwb3M6c3RpY2t5PSdlJyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICBcZnJhbWU6b3V0bGV0IHBvczpwYWNrCiAgICAiIiIKICAgIGZyb20gLmFkbWluIGltcG9ydCBVc2VyCiAgICB1c2VyID0gTm9uZQoKICAgIGRlZiBiYWNrKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uYmFjaygpCgogICAgZGVmIGZvcndhcmQoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5mb3J3YXJkKCkKCiAgICBkZWYgZ3RfdXNlcnMoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidXNlcnMiKQoKICAgIGRlZiBndF90b2RvcygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ0b2RvcyIpCgogICAgcmV0dXJuIGxvY2FscygpIHwgZ2xvYmFscygpCg",
					"AQAAAAAAAAABAAAA4w0AAAAAAADjDQAAAAAAAAAAAAAAAPC/"
				],
				[
					312,
					1,
					"left_delete",
					null,
					"AQAAAAcFAAAAAAAABwUAAAAAAAAEAAAAc2VsZg",
					"AQAAAAAAAAABAAAABwUAAAAAAAALBQAAAAAAAAAAAAAAAPC/"
				],
				[
					316,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA7A4AAAAAAADsDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQoKSwKICAgICAgICApCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZi5tZW51WyJAcHJlZmVyZW5jZXMvQGxhbmd1YWdlIl0gPSB7CiAgICAgICAgICAgIGxhbmc6IHNlbGYuZGljdGlvbmFyaWVzLmdldChsYW5nKS5pbnN0YWxsCiAgICAgICAgICAgIGZvciBsYW5nIGluIHNlbGYuZGljdGlvbmFyaWVzLmxhbmd1YWdlcwogICAgICAgIH0KICAgICAgICBzdHlsZSA9IHNlbGYucm9vdC5zdHlsZQogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0B0aGVtZSJdID0gewogICAgICAgICAgICB0OiBsYW1iZGEgcz1zZWxmLnNldF90aGVtZSwgdD10OiBzKHQpIGZvciB0IGluIHN0eWxlLnRoZW1lX25hbWVzKCkKICAgICAgICB9CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHNlbGYuc3RvcmVbInRoZW1lIl0pCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChlKQogICAgICAgIHNlbGYubWVudS51cGRhdGUoKQogICAgICAgIHNlbGYuc2V0X2xhbmd1YWdlKHNlbGYuc3RvcmVbImxhbmd1YWdlIl0pCiAgICAgICAgdGFrdGsuZGljdGlvbmFyeS5EaWN0aW9uYXJ5LnN1YnNjcmliZShzZWxmLnVwZGF0ZV9sYW5ndWFnZSkKCiAgICBkZWYgc2V0X3RoZW1lKHNlbGYsIHRoZW1lKToKICAgICAgICBmcm9tIGJ1aWx0aW5zIGltcG9ydCBfCgogICAgICAgIHNlbGYucm9vdC5zdHlsZS50aGVtZV91c2UodGhlbWUpCiAgICAgICAgc2VsZi5zdG9yZVsidGhlbWUiXSA9IHRoZW1lCiAgICAgICAgdGFrdGsubm90aWZ5KAogICAgICAgICAgICAiVG9kb3MiLAogICAgICAgICAgICBfKCJwcmVmZXJlbmNlcy5zdWNjZXNzX21vZGlmaWVkIiksCiAgICAgICAgICAgIGJvb3RzdHlsZT0iaW5mbyIsCiAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAwLAogICAgICAgICkKCiAgICBkZWYgYmFjayhzZWxmKToKICAgICAgICBzZWxmLnZpZXcuYmFjaygpCgogICAgZGVmIGZvcndhcmQoc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmZvcndhcmQoKQoKICAgIGRlZiB1cGRhdGVfbGFuZ3VhZ2Uoc2VsZik6CiAgICAgICAgc2VsZi5zdG9yZVsibGFuZ3VhZ2UiXSA9IHRha3RrLkRpY3Rpb25hcnkuZGljdGlvbmFyeS5sYW5ndWFnZQogICAgICAgIHNlbGYuc3RvcmUuc2F2ZSgpCiAgICAgICAgTm90aWZpY2F0aW9uKAogICAgICAgICAgICAiVG9kb3MiLAogICAgICAgICAgICBfKCJwcmVmZXJlbmNlcy5zdWNjZXNzX21vZGlmaWVkIiksCiAgICAgICAgICAgIGJvb3RzdHlsZT0iaW5mbyIsCiAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAwLAogICAgICAgICkuc2hvdygpCgoKQHRha3RrLmNvbXBvbmVudC5jb21wb25lbnQKZGVmIExheW91dChzZWxmKToKICAgIHIiIiIKICAgIFxmcmFtZQogICAgICAgIFxmcmFtZSBwYWRkaW5nPTUgcG9zOnBhY2sKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtiYWNrfSAgICAgICAgaW1hZ2U9PGltZzpAYmFja3dhcmR7d2lkdGg6IDIwfT4gXAogICAgICAgICAgICAgICAgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3VzZXJzfVwKICAgICAgICAgICAgICAgIGltYWdlPTxpbWc6QHVzZXJzLWJldHdlZW4tbGluZXN7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTEsMFwKICAgICAgICAgICAgICAgIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3RvZG9zfVwKICAgICAgICAgICAgICAgIGltYWdlPTxpbWc6QGNoZWNrLWRvdWJsZXtoZWlnaHQ6IDIwfT4gcG9zOmdyaWQ9MiwwXAogICAgICAgICAgICAgICAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxsYWJlbFwKICAgICAgICAgICAgICAgIHRleHQ9e2YnbG9nZ2VkIGluIGFzOiB7VXNlci5jdXJyZW50KCkubmFtZX0nIGlmIFVzZXIuY3VycmVudCgpIGVsc2UgIm5vdCBsb2dnZWQgaW4hIn1cCiAgICAgICAgICAgICAgICBwb3M6Z3JpZD0zLDAKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtmb3J3YXJkfSBpbWFnZT08aW1nOkBmb3J3YXJke3dpZHRoOiAyMH0+XAogICAgICAgICAgICAgICAgcG9zOmdyaWQ9NSwwIHBvczpzdGlja3k9J2UnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgIFxmcmFtZTpvdXRsZXQgcG9zOnBhY2sKICAgICIiIgogICAgZnJvbSAuYWRtaW4gaW1wb3J0IFVzZXIKCiAgICB1c2VyID0gTm9uZQoKICAgIGRlZiBiYWNrKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uYmFjaygpCgogICAgZGVmIGZvcndhcmQoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5mb3J3YXJkKCkKCiAgICBkZWYgZ3RfdXNlcnMoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidXNlcnMiKQoKICAgIGRlZiBndF90b2RvcygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ0b2RvcyIpCgogICAgcmV0dXJuIGxvY2FscygpIHwgZ2xvYmFscygpCg",
					"AQAAAAAAAAABAAAABwUAAAAAAAAHBQAAAAAAAAAAAAAAAPC/"
				],
				[
					333,
					1,
					"left_delete",
					null,
					"AQAAAAYFAAAAAAAABgUAAAAAAAACAAAAKCk",
					"AQAAAAAAAAABAAAABgUAAAAAAAAIBQAAAAAAAAAAAAAAAPC/"
				],
				[
					336,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA6g4AAAAAAADqDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQsCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLnN0b3JlWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHBvczpwYWNrCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgICAgIGltYWdlPTxpbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0+IFwKICAgICAgICAgICAgICAgIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF91c2Vyc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkB1c2Vycy1iZXR3ZWVuLWxpbmVze2hlaWdodDogMjB9PiBwb3M6Z3JpZD0xLDBcCiAgICAgICAgICAgICAgICBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF90b2Rvc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkBjaGVjay1kb3VibGV7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTIsMFwKICAgICAgICAgICAgICAgIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcbGFiZWxcCiAgICAgICAgICAgICAgICB0ZXh0PXtmJ2xvZ2dlZCBpbiBhczoge1VzZXIuY3VycmVudCgpLm5hbWV9JyBpZiBVc2VyLmN1cnJlbnQoKSBlbHNlICJub3QgbG9nZ2VkIGluISJ9XAogICAgICAgICAgICAgICAgcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9PGltZzpAZm9yd2FyZHt3aWR0aDogMjB9PlwKICAgICAgICAgICAgICAgIHBvczpncmlkPTUsMCBwb3M6c3RpY2t5PSdlJyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICBcZnJhbWU6b3V0bGV0IHBvczpwYWNrCiAgICAiIiIKICAgIGZyb20gLmFkbWluIGltcG9ydCBVc2VyCgogICAgdXNlciA9IE5vbmUKCiAgICBkZWYgYmFjaygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uZm9yd2FyZCgpCgogICAgZGVmIGd0X3VzZXJzKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInVzZXJzIikKCiAgICBkZWYgZ3RfdG9kb3MoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIHJldHVybiBsb2NhbHMoKSB8IGdsb2JhbHMoKQo",
					"AQAAAAAAAAABAAAABgUAAAAAAAAGBQAAAAAAAAAAAAAAAPC/"
				],
				[
					348,
					1,
					"insert",
					{
						"characters": "get_"
					},
					"BAAAACcHAAAAAAAAKAcAAAAAAAAAAAAAKAcAAAAAAAApBwAAAAAAAAAAAAApBwAAAAAAACoHAAAAAAAAAAAAACoHAAAAAAAAKwcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJwcAAAAAAAAnBwAAAAAAAAAAAAAAAPC/"
				],
				[
					355,
					1,
					"insert",
					{
						"characters": "()"
					},
					"AgAAADAHAAAAAAAAMQcAAAAAAAAAAAAAMQcAAAAAAAAyBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAMAcAAAAAAAAwBwAAAAAAAAAAAAAAAPC/"
				],
				[
					358,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA8A4AAAAAAADwDgAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KCgpmcm9tIC4gaW1wb3J0IHBhZ2VzCgpmcm9tIC5hZG1pbiBpbXBvcnQgRElSCgpyZWNlbnRfZmlsZXMgPSBbImFtYS5weSIsICJ0ZXN0LnB5IiwgInR0a2Jvb3RzdHJhcC5weSIsICJsYWJlbC5weSJdCgoKY2xhc3MgQXBwbGljYXRpb24odGFrdGsuYXBwbGljYXRpb24uQXBwbGljYXRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18oCiAgICAgICAgICAgIGljb249IkBpY29uIiwKICAgICAgICAgICAgZGljdGlvbmFyaWVzPURJUiAvICJkaWN0aW9uYXJpZXMiLAogICAgICAgICAgICBtZWRpYV9wYXRoPURJUiAvICJtZWRpYSIsCiAgICAgICAgICAgIHBhcmFtcz1kaWN0KAogICAgICAgICAgICAgICAgdGhlbWVuYW1lPSJkYXJrbHkiLAogICAgICAgICAgICAgICAgbWluc2l6ZT0oODAwLCA0MDApLAogICAgICAgICAgICApLAogICAgICAgICAgICBhZGRyZXNzPSgiIiwgNTY3ODkpLAogICAgICAgICAgICBtZW51PXRha3RrLm1ha2VfbWVudSgKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAiQGZpbGUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJAb3BlbiI6IGxhbWJkYTogTm9uZSwKICAgICAgICAgICAgICAgICAgICAgICAgIiFzZXAiOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiQC9tZW51LnF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBwcmVmZXJlbmNlcyI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBsYW5ndWFnZSI6IHt9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgIkBxdWl0IjogZXhpdCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbnM9Im1lbnUiLAogICAgICAgICAgICApLAogICAgICAgICAgICBzdG9yZT0oCiAgICAgICAgICAgICAgICBESVIgLyAic3RvcmUuanNvbiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgImxhbmd1YWdlIjogImVuZ2xpc2giLAogICAgICAgICAgICAgICAgICAgICJ0aGVtZSI6ICJkYXJrbHkiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgcGFnZXM9cGFnZXMsCiAgICAgICAgICAgIGxheW91dD1MYXlvdXQsCiAgICAgICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0BsYW5ndWFnZSJdID0gewogICAgICAgICAgICBsYW5nOiBzZWxmLmRpY3Rpb25hcmllcy5nZXQobGFuZykuaW5zdGFsbAogICAgICAgICAgICBmb3IgbGFuZyBpbiBzZWxmLmRpY3Rpb25hcmllcy5sYW5ndWFnZXMKICAgICAgICB9CiAgICAgICAgc3R5bGUgPSBzZWxmLnJvb3Quc3R5bGUKICAgICAgICBzZWxmLm1lbnVbIkBwcmVmZXJlbmNlcy9AdGhlbWUiXSA9IHsKICAgICAgICAgICAgdDogbGFtYmRhIHM9c2VsZi5zZXRfdGhlbWUsIHQ9dDogcyh0KSBmb3IgdCBpbiBzdHlsZS50aGVtZV9uYW1lcygpCiAgICAgICAgfQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yb290LnN0eWxlLnRoZW1lX3VzZShzZWxmLnN0b3JlWyJ0aGVtZSJdKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZSkKICAgICAgICBzZWxmLm1lbnUudXBkYXRlKCkKICAgICAgICBzZWxmLnNldF9sYW5ndWFnZShzZWxmLmdldF9zdG9yZSgpWyJsYW5ndWFnZSJdKQogICAgICAgIHRha3RrLmRpY3Rpb25hcnkuRGljdGlvbmFyeS5zdWJzY3JpYmUoc2VsZi51cGRhdGVfbGFuZ3VhZ2UpCgogICAgZGVmIHNldF90aGVtZShzZWxmLCB0aGVtZSk6CiAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHRoZW1lKQogICAgICAgIHNlbGYuc3RvcmVbInRoZW1lIl0gPSB0aGVtZQogICAgICAgIHRha3RrLm5vdGlmeSgKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIHNlbGYudmlldy5mb3J3YXJkKCkKCiAgICBkZWYgdXBkYXRlX2xhbmd1YWdlKHNlbGYpOgogICAgICAgIHNlbGYuc3RvcmVbImxhbmd1YWdlIl0gPSB0YWt0ay5EaWN0aW9uYXJ5LmRpY3Rpb25hcnkubGFuZ3VhZ2UKICAgICAgICBzZWxmLnN0b3JlLnNhdmUoKQogICAgICAgIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgIlRvZG9zIiwKICAgICAgICAgICAgXygicHJlZmVyZW5jZXMuc3VjY2Vzc19tb2RpZmllZCIpLAogICAgICAgICAgICBib290c3R5bGU9ImluZm8iLAogICAgICAgICAgICBkdXJhdGlvbj0xMDAwMCwKICAgICAgICApLnNob3coKQoKCkB0YWt0ay5jb21wb25lbnQuY29tcG9uZW50CmRlZiBMYXlvdXQoc2VsZik6CiAgICByIiIiCiAgICBcZnJhbWUKICAgICAgICBcZnJhbWUgcGFkZGluZz01IHBvczpwYWNrCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17YmFja30gICAgICAgIGltYWdlPTxpbWc6QGJhY2t3YXJke3dpZHRoOiAyMH0+IFwKICAgICAgICAgICAgICAgIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF91c2Vyc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkB1c2Vycy1iZXR3ZWVuLWxpbmVze2hlaWdodDogMjB9PiBwb3M6Z3JpZD0xLDBcCiAgICAgICAgICAgICAgICBwb3M6c3RpY2t5PSd3JyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtndF90b2Rvc31cCiAgICAgICAgICAgICAgICBpbWFnZT08aW1nOkBjaGVjay1kb3VibGV7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTIsMFwKICAgICAgICAgICAgICAgIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcbGFiZWxcCiAgICAgICAgICAgICAgICB0ZXh0PXtmJ2xvZ2dlZCBpbiBhczoge1VzZXIuY3VycmVudCgpLm5hbWV9JyBpZiBVc2VyLmN1cnJlbnQoKSBlbHNlICJub3QgbG9nZ2VkIGluISJ9XAogICAgICAgICAgICAgICAgcG9zOmdyaWQ9MywwCiAgICAgICAgICAgIFxidXR0b24gY29tbWFuZD17Zm9yd2FyZH0gaW1hZ2U9PGltZzpAZm9yd2FyZHt3aWR0aDogMjB9PlwKICAgICAgICAgICAgICAgIHBvczpncmlkPTUsMCBwb3M6c3RpY2t5PSdlJyBib290c3R5bGU9J2Rhcmsgb3V0bGluZScKICAgICAgICBcZnJhbWU6b3V0bGV0IHBvczpwYWNrCiAgICAiIiIKICAgIGZyb20gLmFkbWluIGltcG9ydCBVc2VyCgogICAgdXNlciA9IE5vbmUKCiAgICBkZWYgYmFjaygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uLmJhY2soKQoKICAgIGRlZiBmb3J3YXJkKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uZm9yd2FyZCgpCgogICAgZGVmIGd0X3VzZXJzKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24oInVzZXJzIikKCiAgICBkZWYgZ3RfdG9kb3MoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidG9kb3MiKQoKICAgIHJldHVybiBsb2NhbHMoKSB8IGdsb2JhbHMoKQo",
					"AQAAAAAAAAABAAAAMgcAAAAAAAAyBwAAAAAAAAAAAAAAAPC/"
				],
				[
					365,
					1,
					"insert",
					{
						"characters": "\nimport"
					},
					"BwAAAIAAAAAAAAAAgQAAAAAAAAAAAAAAgQAAAAAAAACCAAAAAAAAAAAAAACCAAAAAAAAAIMAAAAAAAAAAAAAAIMAAAAAAAAAhAAAAAAAAAAAAAAAhAAAAAAAAACFAAAAAAAAAAAAAACFAAAAAAAAAIYAAAAAAAAAAAAAAIYAAAAAAAAAhwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgAAAAAAAAACAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					366,
					1,
					"insert",
					{
						"characters": " ta"
					},
					"AwAAAIcAAAAAAAAAiAAAAAAAAAAAAAAAiAAAAAAAAACJAAAAAAAAAAAAAACJAAAAAAAAAIoAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhwAAAAAAAACHAAAAAAAAAAAAAAAAAPC/"
				],
				[
					367,
					1,
					"insert_dimensions",
					null,
					"AgAAAIgAAAAAAAAAiAAAAAAAAAACAAAAdGGIAAAAAAAAAI4AAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAigAAAAAAAACKAAAAAAAAAAAAAAAAAPC/"
				],
				[
					368,
					1,
					"insert",
					{
						"characters": "wri"
					},
					"AwAAAI4AAAAAAAAAjwAAAAAAAAAAAAAAjwAAAAAAAACQAAAAAAAAAAAAAACQAAAAAAAAAJEAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAjgAAAAAAAACOAAAAAAAAAAAAAAAAAPC/"
				],
				[
					369,
					1,
					"insert_dimensions",
					null,
					"AgAAAI4AAAAAAAAAjgAAAAAAAAADAAAAd3JpjgAAAAAAAACXAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAkQAAAAAAAACRAAAAAAAAAAAAAAAAAPC/"
				],
				[
					374,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"BAAAAFYHAAAAAAAAVwcAAAAAAAAAAAAAVwcAAAAAAABfBwAAAAAAAAAAAABXBwAAAAAAAFcHAAAAAAAACAAAACAgICAgICAgVwcAAAAAAABXBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVgcAAAAAAABWBwAAAAAAAAAAAAAAAPC/"
				],
				[
					375,
					1,
					"reindent",
					null,
					"AQAAAFcHAAAAAAAAWwcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVwcAAAAAAABXBwAAAAAAAAAAAAAAAPC/"
				],
				[
					376,
					1,
					"insert",
					{
						"characters": "\tself."
					},
					"BgAAAFsHAAAAAAAAXwcAAAAAAAAAAAAAXwcAAAAAAABgBwAAAAAAAAAAAABgBwAAAAAAAGEHAAAAAAAAAAAAAGEHAAAAAAAAYgcAAAAAAAAAAAAAYgcAAAAAAABjBwAAAAAAAAAAAABjBwAAAAAAAGQHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWwcAAAAAAABbBwAAAAAAAAAAAAAAAPC/"
				],
				[
					377,
					5,
					"left_delete",
					null,
					"BQAAAGMHAAAAAAAAYwcAAAAAAAABAAAALmIHAAAAAAAAYgcAAAAAAAABAAAAZmEHAAAAAAAAYQcAAAAAAAABAAAAbGAHAAAAAAAAYAcAAAAAAAABAAAAZV8HAAAAAAAAXwcAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAZAcAAAAAAABkBwAAAAAAAAAAAAAAAPC/"
				],
				[
					378,
					1,
					"insert",
					{
						"characters": "ta"
					},
					"AgAAAF8HAAAAAAAAYAcAAAAAAAAAAAAAYAcAAAAAAABhBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXwcAAAAAAABfBwAAAAAAAAAAAAAAAPC/"
				],
				[
					379,
					1,
					"insert_dimensions",
					null,
					"AgAAAF8HAAAAAAAAXwcAAAAAAAACAAAAdGFfBwAAAAAAAGUHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAYQcAAAAAAABhBwAAAAAAAAAAAAAAAPC/"
				],
				[
					380,
					1,
					"insert",
					{
						"characters": "wr"
					},
					"AgAAAGUHAAAAAAAAZgcAAAAAAAAAAAAAZgcAAAAAAABnBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZQcAAAAAAABlBwAAAAAAAAAAAAAAAPC/"
				],
				[
					381,
					1,
					"insert_dimensions",
					null,
					"AgAAAGUHAAAAAAAAZQcAAAAAAAACAAAAd3JlBwAAAAAAAG4HAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZwcAAAAAAABnBwAAAAAAAAAAAAAAAPC/"
				],
				[
					382,
					1,
					"insert",
					{
						"characters": ".Su"
					},
					"AwAAAG4HAAAAAAAAbwcAAAAAAAAAAAAAbwcAAAAAAABwBwAAAAAAAAAAAABwBwAAAAAAAHEHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbgcAAAAAAABuBwAAAAAAAAAAAAAAAPC/"
				],
				[
					383,
					1,
					"insert_dimensions",
					null,
					"AgAAAG8HAAAAAAAAbwcAAAAAAAACAAAAU3VvBwAAAAAAAHoHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcQcAAAAAAABxBwAAAAAAAAAAAAAAAPC/"
				],
				[
					385,
					1,
					"left_delete",
					null,
					"AQAAAG8HAAAAAAAAbwcAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAcAcAAAAAAABwBwAAAAAAAAAAAAAAAPC/"
				],
				[
					386,
					1,
					"insert",
					{
						"characters": "S"
					},
					"AQAAAG8HAAAAAAAAcAcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbwcAAAAAAABvBwAAAAAAAAAAAAAAAPC/"
				],
				[
					390,
					1,
					"insert",
					{
						"characters": "r"
					},
					"AQAAAHgHAAAAAAAAeQcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAeAcAAAAAAAB4BwAAAAAAAAAAAAAAAPC/"
				],
				[
					392,
					1,
					"insert",
					{
						"characters": ".sub"
					},
					"BAAAAHsHAAAAAAAAfAcAAAAAAAAAAAAAfAcAAAAAAAB9BwAAAAAAAAAAAAB9BwAAAAAAAH4HAAAAAAAAAAAAAH4HAAAAAAAAfwcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAewcAAAAAAAB7BwAAAAAAAAAAAAAAAPC/"
				],
				[
					393,
					1,
					"insert",
					{
						"characters": "scribe_"
					},
					"BwAAAH8HAAAAAAAAgAcAAAAAAAAAAAAAgAcAAAAAAACBBwAAAAAAAAAAAACBBwAAAAAAAIIHAAAAAAAAAAAAAIIHAAAAAAAAgwcAAAAAAAAAAAAAgwcAAAAAAACEBwAAAAAAAAAAAACEBwAAAAAAAIUHAAAAAAAAAAAAAIUHAAAAAAAAhgcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAfwcAAAAAAAB/BwAAAAAAAAAAAAAAAPC/"
				],
				[
					394,
					1,
					"insert",
					{
						"characters": "to"
					},
					"AgAAAIYHAAAAAAAAhwcAAAAAAAAAAAAAhwcAAAAAAACIBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhgcAAAAAAACGBwAAAAAAAAAAAAAAAPC/"
				],
				[
					395,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAIgHAAAAAAAAigcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiAcAAAAAAACIBwAAAAAAAAAAAAAAAPC/"
				],
				[
					417,
					1,
					"left_delete",
					null,
					"AQAAAFcHAAAAAAAAVwcAAAAAAAA0AAAAICAgICAgICB0YWt0ay53cml0ZWFibGUuU3Vic2NyaWJlcigpLnN1YnNjcmliZV90bygpCg",
					"AQAAAAAAAAABAAAAVwcAAAAAAACLBwAAAAAAAAAAAAAAAPC/"
				],
				[
					421,
					1,
					"insert",
					{
						"characters": "None,"
					},
					"BQAAAIUHAAAAAAAAhgcAAAAAAAAAAAAAhgcAAAAAAACHBwAAAAAAAAAAAACHBwAAAAAAAIgHAAAAAAAAAAAAAIgHAAAAAAAAiQcAAAAAAAAAAAAAiQcAAAAAAACKBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAhQcAAAAAAACFBwAAAAAAAAAAAAAAAPC/"
				],
				[
					422,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIoHAAAAAAAAiwcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAigcAAAAAAACKBwAAAAAAAAAAAAAAAPC/"
				],
				[
					425,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAADQ8AAAAAAAANDwAAaW1wb3J0IHRha3RrCmltcG9ydCB0YWt0ay5hcHBsaWNhdGlvbgppbXBvcnQgdGFrdGsuY29tcG9uZW50CmltcG9ydCB0YWt0ay5kaWN0aW9uYXJ5CmltcG9ydCB0YWt0ay5tZW51CmltcG9ydCB0YWt0ay5ub3RpZmljYXRpb24KaW1wb3J0IHRha3RrLndyaXRlYWJsZQoKCmZyb20gLiBpbXBvcnQgcGFnZXMKCmZyb20gLmFkbWluIGltcG9ydCBESVIKCnJlY2VudF9maWxlcyA9IFsiYW1hLnB5IiwgInRlc3QucHkiLCAidHRrYm9vdHN0cmFwLnB5IiwgImxhYmVsLnB5Il0KCgpjbGFzcyBBcHBsaWNhdGlvbih0YWt0ay5hcHBsaWNhdGlvbi5BcHBsaWNhdGlvbik6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygKICAgICAgICAgICAgaWNvbj0iQGljb24iLAogICAgICAgICAgICBkaWN0aW9uYXJpZXM9RElSIC8gImRpY3Rpb25hcmllcyIsCiAgICAgICAgICAgIG1lZGlhX3BhdGg9RElSIC8gIm1lZGlhIiwKICAgICAgICAgICAgcGFyYW1zPWRpY3QoCiAgICAgICAgICAgICAgICB0aGVtZW5hbWU9ImRhcmtseSIsCiAgICAgICAgICAgICAgICBtaW5zaXplPSg4MDAsIDQwMCksCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGFkZHJlc3M9KCIiLCA1Njc4OSksCiAgICAgICAgICAgIG1lbnU9dGFrdGsubWFrZV9tZW51KAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICJAZmlsZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgIkBvcGVuIjogbGFtYmRhOiBOb25lLAogICAgICAgICAgICAgICAgICAgICAgICAiIXNlcCI6IE5vbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICJAL21lbnUucXVpdCI6IGV4aXQsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAiQHByZWZlcmVuY2VzIjogewogICAgICAgICAgICAgICAgICAgICAgICAiQGxhbmd1YWdlIjoge30sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAiQHF1aXQiOiBleGl0LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9ucz0ibWVudSIsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIHN0b3JlPSgKICAgICAgICAgICAgICAgIERJUiAvICJzdG9yZS5qc29uIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAibGFuZ3VhZ2UiOiAiZW5nbGlzaCIsCiAgICAgICAgICAgICAgICAgICAgInRoZW1lIjogImRhcmtseSIsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICApLAogICAgICAgICAgICBwYWdlcz1wYWdlcywKICAgICAgICAgICAgbGF5b3V0PUxheW91dCwKICAgICAgICApCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZi5tZW51WyJAcHJlZmVyZW5jZXMvQGxhbmd1YWdlIl0gPSB7CiAgICAgICAgICAgIGxhbmc6IHNlbGYuZGljdGlvbmFyaWVzLmdldChsYW5nKS5pbnN0YWxsCiAgICAgICAgICAgIGZvciBsYW5nIGluIHNlbGYuZGljdGlvbmFyaWVzLmxhbmd1YWdlcwogICAgICAgIH0KICAgICAgICBzdHlsZSA9IHNlbGYucm9vdC5zdHlsZQogICAgICAgIHNlbGYubWVudVsiQHByZWZlcmVuY2VzL0B0aGVtZSJdID0gewogICAgICAgICAgICB0OiBsYW1iZGEgcz1zZWxmLnNldF90aGVtZSwgdD10OiBzKHQpIGZvciB0IGluIHN0eWxlLnRoZW1lX25hbWVzKCkKICAgICAgICB9CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJvb3Quc3R5bGUudGhlbWVfdXNlKHNlbGYuc3RvcmVbInRoZW1lIl0pCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChlKQogICAgICAgIHNlbGYubWVudS51cGRhdGUoKQogICAgICAgIHNlbGYuc2V0X2xhbmd1YWdlKHNlbGYuZ2V0X3N0b3JlKClbImxhbmd1YWdlIl0pCiAgICAgICAgdGFrdGsuZGljdGlvbmFyeS5EaWN0aW9uYXJ5LnN1YnNjcmliZShOb25lLCBzZWxmLnVwZGF0ZV9sYW5ndWFnZSkKCiAgICBkZWYgc2V0X3RoZW1lKHNlbGYsIHRoZW1lKToKICAgICAgICBmcm9tIGJ1aWx0aW5zIGltcG9ydCBfCgogICAgICAgIHNlbGYucm9vdC5zdHlsZS50aGVtZV91c2UodGhlbWUpCiAgICAgICAgc2VsZi5zdG9yZVsidGhlbWUiXSA9IHRoZW1lCiAgICAgICAgdGFrdGsubm90aWZ5KAogICAgICAgICAgICAiVG9kb3MiLAogICAgICAgICAgICBfKCJwcmVmZXJlbmNlcy5zdWNjZXNzX21vZGlmaWVkIiksCiAgICAgICAgICAgIGJvb3RzdHlsZT0iaW5mbyIsCiAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAwLAogICAgICAgICkKCiAgICBkZWYgYmFjayhzZWxmKToKICAgICAgICBzZWxmLnZpZXcuYmFjaygpCgogICAgZGVmIGZvcndhcmQoc2VsZik6CiAgICAgICAgc2VsZi52aWV3LmZvcndhcmQoKQoKICAgIGRlZiB1cGRhdGVfbGFuZ3VhZ2Uoc2VsZik6CiAgICAgICAgc2VsZi5zdG9yZVsibGFuZ3VhZ2UiXSA9IHRha3RrLkRpY3Rpb25hcnkuZGljdGlvbmFyeS5sYW5ndWFnZQogICAgICAgIHNlbGYuc3RvcmUuc2F2ZSgpCiAgICAgICAgTm90aWZpY2F0aW9uKAogICAgICAgICAgICAiVG9kb3MiLAogICAgICAgICAgICBfKCJwcmVmZXJlbmNlcy5zdWNjZXNzX21vZGlmaWVkIiksCiAgICAgICAgICAgIGJvb3RzdHlsZT0iaW5mbyIsCiAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAwLAogICAgICAgICkuc2hvdygpCgoKQHRha3RrLmNvbXBvbmVudC5jb21wb25lbnQKZGVmIExheW91dChzZWxmKToKICAgIHIiIiIKICAgIFxmcmFtZQogICAgICAgIFxmcmFtZSBwYWRkaW5nPTUgcG9zOnBhY2sKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtiYWNrfSAgICAgICAgaW1hZ2U9PGltZzpAYmFja3dhcmR7d2lkdGg6IDIwfT4gXAogICAgICAgICAgICAgICAgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3VzZXJzfVwKICAgICAgICAgICAgICAgIGltYWdlPTxpbWc6QHVzZXJzLWJldHdlZW4tbGluZXN7aGVpZ2h0OiAyMH0+IHBvczpncmlkPTEsMFwKICAgICAgICAgICAgICAgIHBvczpzdGlja3k9J3cnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgICAgICBcYnV0dG9uIGNvbW1hbmQ9e2d0X3RvZG9zfVwKICAgICAgICAgICAgICAgIGltYWdlPTxpbWc6QGNoZWNrLWRvdWJsZXtoZWlnaHQ6IDIwfT4gcG9zOmdyaWQ9MiwwXAogICAgICAgICAgICAgICAgcG9zOnN0aWNreT0ndycgYm9vdHN0eWxlPSdkYXJrIG91dGxpbmUnCiAgICAgICAgICAgIFxsYWJlbFwKICAgICAgICAgICAgICAgIHRleHQ9e2YnbG9nZ2VkIGluIGFzOiB7VXNlci5jdXJyZW50KCkubmFtZX0nIGlmIFVzZXIuY3VycmVudCgpIGVsc2UgIm5vdCBsb2dnZWQgaW4hIn1cCiAgICAgICAgICAgICAgICBwb3M6Z3JpZD0zLDAKICAgICAgICAgICAgXGJ1dHRvbiBjb21tYW5kPXtmb3J3YXJkfSBpbWFnZT08aW1nOkBmb3J3YXJke3dpZHRoOiAyMH0+XAogICAgICAgICAgICAgICAgcG9zOmdyaWQ9NSwwIHBvczpzdGlja3k9J2UnIGJvb3RzdHlsZT0nZGFyayBvdXRsaW5lJwogICAgICAgIFxmcmFtZTpvdXRsZXQgcG9zOnBhY2sKICAgICIiIgogICAgZnJvbSAuYWRtaW4gaW1wb3J0IFVzZXIKCiAgICB1c2VyID0gTm9uZQoKICAgIGRlZiBiYWNrKCk6CiAgICAgICAgdGFrdGsuYXBwbGljYXRpb24uYmFjaygpCgogICAgZGVmIGZvcndhcmQoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbi5mb3J3YXJkKCkKCiAgICBkZWYgZ3RfdXNlcnMoKToKICAgICAgICB0YWt0ay5hcHBsaWNhdGlvbigidXNlcnMiKQoKICAgIGRlZiBndF90b2RvcygpOgogICAgICAgIHRha3RrLmFwcGxpY2F0aW9uKCJ0b2RvcyIpCgogICAgcmV0dXJuIGxvY2FscygpIHwgZ2xvYmFscygpCg",
					"AQAAAAAAAAABAAAAiwcAAAAAAACLBwAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/taktk/page.py",
			"settings":
			{
				"buffer_size": 8783,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					9,
					1,
					"insert",
					{
						"characters": "get_"
					},
					"BAAAAIAFAAAAAAAAgQUAAAAAAAAAAAAAgQUAAAAAAACCBQAAAAAAAAAAAACCBQAAAAAAAIMFAAAAAAAAAAAAAIMFAAAAAAAAhAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgAUAAAAAAACABQAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAIkFAAAAAAAAiwUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiQUAAAAAAACJBQAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAATyIAAAAAAABPIgAAaW1wb3J0IGpzb24KaW1wb3J0IHJlCmltcG9ydCBzdHJpbmcKZnJvbSBkZWNpbWFsIGltcG9ydCBEZWNpbWFsCmZyb20gaW1wb3J0bGliIGltcG9ydCBpbXBvcnRfbW9kdWxlCmZyb20gbG9nZ2luZyBpbXBvcnQgZ2V0TG9nZ2VyCmZyb20gdGtpbnRlciBpbXBvcnQgVGssIFdpZGdldApmcm9tIHR5cGVzIGltcG9ydCBNb2R1bGVUeXBlCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIE9wdGlvbmFsCmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCBwYXJzZV9xc2wsIHVybHBhcnNlCmZyb20gdXVpZCBpbXBvcnQgVVVJRAoKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQoKZnJvbSAuIGltcG9ydCBhcHBsaWNhdGlvbiwgY29tcG9uZW50CmZyb20gLiBpbXBvcnQgc3RvcmUgYXMgc3RvcmVfCgpsb2cgPSBnZXRMb2dnZXIoX19uYW1lX18pCgoKSEFORExFUl9OQU1FID0gc2V0KHN0cmluZy5hc2NpaV9sZXR0ZXJzICsgIl8iKQpERUZBVUxUX0hBTkRMRVIgPSAiZGVmYXVsdCIKCgpAYW5ub3RhdGUKY2xhc3MgUGFnZVZpZXc6CiAgICAiIiIKICAgIEFwcGxpY3RhaW9ucyBwYWdlIHZpZXcsIHBlcmZvcm1zIHBhZ2Ugcm91dGluZywgY2FjaGluZyBhbmQgaGlzdG9yeSBmb3IgYQogICAgdGFrdGsgYXBwbGljYXRpb24uCiAgICAiIiIKCiAgICBoaXN0b3J5OiBsaXN0CiAgICBjdXJyZW50X3BhZ2U6IEFueQogICAgYXBwOiAiYXBwbGljYXRpb24uQXBwbGljYXRpb24iCiAgICBzdG9yZTogc3RvcmVfLlN0b3JlCiAgICBkZXN0cm95X2NhY2hlOiBpbnQKICAgIHBhY2thZ2U6IE1vZHVsZVR5cGUKICAgIGN1cnJlbnRfdXJsOiBPcHRpb25hbFtzdHJdCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgcGFyZW50OiBUayB8IFdpZGdldCwKICAgICAgICBwYWdlOiBNb2R1bGVUeXBlLAogICAgICAgIGFwcDogImFwcGxpY2F0aW9uLkFwcGxpY2F0aW9uIiwKICAgICAgICBkZXN0cm95X2NhY2hlOiBpbnQgPSA1LAogICAgKToKICAgICAgICAiIiJcCiAgICAgICAgOnBhcmFtIHBhcmVudDogdGhlIHBhcmVudCB3aWRnZXQgdG8gdmlldyB0aGUgcGFnZXMgaW4sIHVzdWFsbHkgdGhlCiAgICAgICAgb3V0bGV0IG9mIGFuIGFwcHMgbGF5b3V0LgoKICAgICAgICA6cGFyYW0gcGFnZTogVGhlIG1vZHVsZSB0aGUgYXBwIHdpbGwgZmV0Y2ggcGFnZXMgZnJvbS4KCiAgICAgICAgOnBhcmFtIGRlc3Ryb3lfY2FjaGU6IEV4cGVyaW1lbnRhbCBkZXN0cm95IGNhY2hlCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5oaXN0b3J5ID0gW10KICAgICAgICBzZWxmLmN1cnJlbnRfcGFnZSA9IE5vbmUKICAgICAgICBzZWxmLnBhcmVudCA9IHBhcmVudAogICAgICAgIHNlbGYuY3VycmVudF93aWRnZXQgPSBOb25lCiAgICAgICAgc2VsZi5hcHAgPSBhcHAKICAgICAgICBzZWxmLnN0b3JlID0gYXBwLmdldF9zdG9yZSgpCiAgICAgICAgc2VsZi5kZXN0cm95X2NhY2hlID0gZGVzdHJveV9jYWNoZQogICAgICAgIHNlbGYucGFja2FnZSA9IHBhZ2UKICAgICAgICBzZWxmLmN1cnJlbnRfdXJsID0gTm9uZQoKICAgIGRlZiBnZW9tZXRyeShzZWxmKToKICAgICAgICAiIiJcCiAgICAgICAgUHJlcGFyZXMgdGhlIHBhcmVudCdzIGdlb21ldHJ5LgogICAgICAgICIiIgogICAgICAgIHNlbGYucGFyZW50LmNvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICBzZWxmLnBhcmVudC5yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpCgogICAgZGVmIHVybChzZWxmLCB1cmw6IHN0ciwgcmVkaXJlY3Q6IGJvb2wgPSBUcnVlKToKICAgICAgICAiIiIKICAgICAgICBUYXJnZXRzIHRoZSBhcHAgdG8gdGhlIHVybCBmb2xsb3dpbmcgcmVkaXJlY3RzIGV4Y2VwdAogICAgICAgIHJlZGlyZWN0IHBhcmFtZXRlciBzZXQgdG8gZmFsc2UuCgogICAgICAgIDpyYWlzZXMgdGFrdGsucGFnZXMuUmVkaXJlY3Q6IEluIGNhc2UgcmVkcmVjdCBzZXQgdG8gZmFsc2UgYW5kIGEKICAgICAgICByZWRpcmVjdCBvY2N1cmVkCiAgICAgICAgIiIiCiAgICAgICAgdGFyZ2V0ID0gdXJsCiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gc2VsZi5leGVjX3VybCh0YXJnZXQpCiAgICAgICAgICAgIGV4Y2VwdCBSZWRpcmVjdCBhcyByOgogICAgICAgICAgICAgICAgdGFyZ2V0ID0gci51cmwKICAgICAgICAgICAgICAgIGlmIG5vdCByZWRpcmVjdDoKICAgICAgICAgICAgICAgICAgICByYWlzZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdAoKICAgIGRlZiB2aWV3X2NvbXBvbmVudChzZWxmLCBjb21wb25lbnRzOiAidHVwbGUiLCAqLCBfY2FjaGU9e30pOgogICAgICAgIGlmIHNlbGYuY3VycmVudF9wYWdlIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYuY3VycmVudF9wYWdlID0gMAogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuY3VycmVudF9wYWdlICs9IDEKICAgICAgICBjdXJyZW50ID0gc2VsZi5jdXJyZW50X3dpZGdldAogICAgICAgIHNlbGYuaGlzdG9yeS5pbnNlcnQoc2VsZi5jdXJyZW50X3BhZ2UsIGNvbXBvbmVudHMpCiAgICAgICAgcGFyZW50ID0gc2VsZi5wYXJlbnQKICAgICAgICBtYXN0ZXIgPSBOb25lCiAgICAgICAgZm9yIGNvbXBvbmVudCBpbiBjb21wb25lbnRzOgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKGNvbXBvbmVudCwgdHlwZSk6CiAgICAgICAgICAgICAgICBpZiBjb21wb25lbnQgbm90IGluIF9jYWNoZToKICAgICAgICAgICAgICAgICAgICBfY2FjaGVbY29tcG9uZW50XSA9IGNvbXBvbmVudCgpCiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSBfY2FjaGVbY29tcG9uZW50XQoKICAgICAgICAgICAgY29tcG9uZW50ID0gY29tcG9uZW50CiAgICAgICAgICAgIHBhcmVudC5jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpCiAgICAgICAgICAgIHBhcmVudC5yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpCiAgICAgICAgICAgIGNvbXBvbmVudC5yZW5kZXIocGFyZW50KQogICAgICAgICAgICBjb250YWluZXIgPSBjb21wb25lbnQuY29udGFpbmVyCiAgICAgICAgICAgIGNvbnRhaW5lci5ncmlkKGNvbHVtbj0wLCByb3c9MCwgc3RpY2t5PSJuc2V3IikKICAgICAgICAgICAgbWFzdGVyID0gbWFzdGVyIG9yIGNvbnRhaW5lcgogICAgICAgICAgICBwYXJlbnQgPSBjb21wb25lbnQub3V0bGV0CiAgICAgICAgc2VsZi5jdXJyZW50X3dpZGdldCA9IG1hc3RlcgogICAgICAgIGlmIGN1cnJlbnQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYuZGVzdHJveV9sYXRlcihtYXN0ZXIpCgogICAgZGVmIGRlc3Ryb3lfbGF0ZXIoc2VsZiwgd2lkZ2V0LCBjYWNoZT1bXSk6CiAgICAgICAgY2FjaGUuYXBwZW5kKHdpZGdldCkKICAgICAgICBpZiBsZW4oY2FjaGUpID4gc2VsZi5kZXN0cm95X2NhY2hlOgogICAgICAgICAgICBjYWNoZS5wb3AoMCkuZGVzdHJveSgpCgogICAgZGVmIGJhY2soc2VsZik6CiAgICAgICAgaWYgc2VsZi5jdXJyZW50X3BhZ2UgPiAwOgogICAgICAgICAgICBzZWxmLmZvY3VzX3BhZ2Uoc2VsZi5jdXJyZW50X3BhZ2UgLSAxKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBmb3J3YXJkKHNlbGYpOgogICAgICAgIGlmIHNlbGYuY3VycmVudF9wYWdlIDwgbGVuKHNlbGYuaGlzdG9yeSkgLSAxOgogICAgICAgICAgICBzZWxmLmZvY3VzX3BhZ2Uoc2VsZi5jdXJyZW50X3BhZ2UgKyAxKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBmb2N1c19wYWdlKHNlbGYsIGlkeCk6CiAgICAgICAgcGFnZSA9IHNlbGYuaGlzdG9yeVtpZHhdCiAgICAgICAgaWYgc2VsZi5jdXJyZW50X3dpZGdldCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5jdXJyZW50X3dpZGdldC5kZXN0cm95KCkKICAgICAgICBzZWxmLmhpc3RvcnlbaWR4XS5yZW5kZXIoc2VsZi5wYXJlbnQpCiAgICAgICAgc2VsZi5jdXJyZW50X3dpZGdldCA9IHNlbGYuaGlzdG9yeVtpZHhdLmNvbnRhaW5lcgogICAgICAgIHNlbGYuY3VycmVudF93aWRnZXQuZ3JpZChjb2x1bW49MCwgcm93PTAsIHN0aWNreT0ibnNldyIpCiAgICAgICAgc2VsZi5jdXJyZW50X3BhZ2UgPSBpZHgKCiAgICBkZWYgZXhlY191cmwoc2VsZiwgY21kKToKICAgICAgICBpZiBjbWQuc3RyaXAoIi8iKSA9PSAiIWN1cnJlbnQiOgogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgTm9uZSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAib2siOiBUcnVlLAogICAgICAgICAgICAgICAgICAgICJ1cmwiOiBzZWxmLmN1cnJlbnRfdXJsLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKQogICAgICAgIGVsaWYgY21kLnN0cmlwKCIvIikgPT0gIiFiYWNrIjoKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIE5vbmUsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm9rIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAiY2hhbmdlZCI6IHNlbGYuYmFjaygpLAogICAgICAgICAgICAgICAgICAgICJ1cmwiOiBzZWxmLmN1cnJlbnRfdXJsLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKQogICAgICAgIGVsaWYgY21kLnN0cmlwKCIvIikgPT0gIiFmb3J3YXJkIjoKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIE5vbmUsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIm9rIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAiY2hhbmdlZCI6IHNlbGYuZm9yd2FyZCgpLAogICAgICAgICAgICAgICAgICAgICJ1cmwiOiBzZWxmLmN1cnJlbnRfdXJsLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHBhcnNlZCA9IHVybHBhcnNlKGNtZCkKICAgICAgICAgICAgYXJncyA9IHtrOiBqc29uLmxvYWRzKHYpIGZvciBrLCB2IGluIHBhcnNlX3FzbChwYXJzZWQucXVlcnkpfQogICAgICAgICAgICBoYW5kbGVyID0gcGFyc2VkLmZyYWdtZW50CiAgICAgICAgICAgIHBhdGggPSBwYXJzZWQucGF0aAogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAiQCIgaW4gcGF0aAogICAgICAgICAgICAgICAgYW5kIGxlbihzZXQocGF0aFtwYXRoLmluZGV4KCJAIikgKyAxIDpdKSAtIEhBTkRMRVJfTkFNRSkgPT0gMAogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgcGF0aCwgaGFuZGxlciA9IHBhdGgucnNwbGl0KCJAIiwgMSkKICAgICAgICAgICAgc2VsZi5jdXJyZW50X3VybCA9IHBhcnNlZC5wYXRoCiAgICAgICAgICAgIHJldHVybiBzZWxmKHBhdGgsIGhhbmRsZXIsIGFyZ3MpCgogICAgZGVmIF9fY2FsbF9fKHNlbGYsIG1vZHVsZSwgaGFuZGxlciwgcGFyYW1zPXt9LCAvLCAqKmt3cGFyYW1zKToKICAgICAgICBmcm9tIC5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudAoKICAgICAgICBpZiBpc2luc3RhbmNlKG1vZHVsZSwgc3RyKToKICAgICAgICAgICAgbW9kdWxlLCB1cmxwYXJhbXMsIGxheW91dHMgPSBzZWxmLmltcG9ydF9tb2R1bGUobW9kdWxlKQogICAgICAgIHRyeToKICAgICAgICAgICAgZnVuY3Rpb24gPSBnZXRhdHRyKG1vZHVsZSwgaGFuZGxlciBvciBERUZBVUxUX0hBTkRMRVIpCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yIGFzIGU6CiAgICAgICAgICAgIHJhaXNlIEVycm9yNDA0KGUpCiAgICAgICAgaHR0cCA9IGNvbXAgPSBOb25lCiAgICAgICAgcGFnZSA9IGZ1bmN0aW9uKAogICAgICAgICAgICBzZWxmLnN0b3JlLAogICAgICAgICAgICAqdXJscGFyYW1zLAogICAgICAgICAgICAqKmt3cGFyYW1zLAogICAgICAgICkKICAgICAgICBpZiBwYWdlIGlzIE5vbmU6CiAgICAgICAgICAgIHJldHVybiAoTm9uZSwgTm9uZSkKICAgICAgICBlbGlmIGlzaW5zdGFuY2UocGFnZSwgdHVwbGUpOgogICAgICAgICAgICBjb21wLCBodHRwID0gcGFnZQogICAgICAgIGVsaWYgaXNpbnN0YW5jZShwYWdlLCBDb21wb25lbnQpOgogICAgICAgICAgICBjb21wID0gcGFnZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGh0dHAgPSBwYWdlCiAgICAgICAgaWYgY29tcCBpcyBub3QgTm9uZToKICAgICAgICAgICAgbGF5b3V0cy5hcHBlbmQoY29tcCkKICAgICAgICAgICAgc2VsZi52aWV3X2NvbXBvbmVudCh0dXBsZShsYXlvdXRzKSkKICAgICAgICByZXR1cm4gKHR1cGxlKGxheW91dHMpLCBodHRwKQoKICAgIGRlZiBpbXBvcnRfbW9kdWxlKHNlbGYsIHBhdGgpOgogICAgICAgIG1vZHVsZSA9IHNlbGYucGFja2FnZQogICAgICAgIHBhcmFtcyA9IFtdCiAgICAgICAgbGF5b3V0cyA9IFtdCiAgICAgICAgaWYgaGFzYXR0cihtb2R1bGUsICJsYXlvdXQiKToKICAgICAgICAgICAgbGF5b3V0cy5hcHBlbmQobW9kdWxlLmxheW91dCkKICAgICAgICBmb3IgcGFja2FnZSBpbiBwYXRoLnN0cmlwKCIvIikuc3BsaXQoIi8iKToKICAgICAgICAgICAgaWYgbm90IHBhY2thZ2Uuc3RyaXAoKToKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIG1vZHVsZSA9IGltcG9ydF9tb2R1bGUobW9kdWxlLl9fcGFja2FnZV9fICsgIi4iICsgcGFja2FnZSkKICAgICAgICAgICAgZXhjZXB0IEltcG9ydEVycm9yOgogICAgICAgICAgICAgICAgZm9yIHJlZ2V4LCBuYW1lLCBjb252ZXJ0ZXIgaW4gVVJMUEFUVEVSTlM6CiAgICAgICAgICAgICAgICAgICAgaWYgbWF0Y2ggOj0gcmVnZXguZnVsbG1hdGNoKHBhY2thZ2UpOgogICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUgPSBpbXBvcnRfbW9kdWxlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5fX3BhY2thZ2VfXyArICIuIiArIG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEltcG9ydEVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbSA9IGNvbnZlcnRlcihwYWNrYWdlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIEVycm9yNDA0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChwYXJhbSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHJhaXNlIEVycm9yNDA0KHBhdGgpCiAgICAgICAgICAgIGlmIGhhc2F0dHIobW9kdWxlLCAibGF5b3V0Iik6CiAgICAgICAgICAgICAgICBsYXlvdXRzLmFwcGVuZChtb2R1bGUubGF5b3V0KQoKICAgICAgICByZXR1cm4gbW9kdWxlLCBwYXJhbXMsIGxheW91dHMKCgpjbGFzcyBFcnJvcjQwNChWYWx1ZUVycm9yKToKICAgIHBhc3MKCgpjbGFzcyBSZWRpcmVjdChFeGNlcHRpb24pOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVybDogc3RyKToKICAgICAgICBzZWxmLnVybCA9IHVybAogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKClNIT1JUQ1VUUyA9IHsKICAgICJpbnQiOiByZS5jb21waWxlKHIiXlxkKyQiKSwKICAgICJkZWNpbWFsIjogcmUuY29tcGlsZShyIl5cZCtcLlxkKyQiKSwKICAgICJzdHIiOiByZS5jb21waWxlKHIiLisiKSwKICAgICJ1dWlkIjogcmUuY29tcGlsZSgKICAgICAgICByIltcZGEtZl17OH1cLVtcZGEtZl17NH1cLVtcZGEtZl17NH1cLVtcZGEtZl17NH1cLVtcZGEtZl17MTJ9IiwKICAgICksCn0KVVJMUEFUVEVSTlMgPSBbCiAgICAoImludCIsIGludCksCiAgICAoImRlY2ltYWwiLCBEZWNpbWFsKSwKICAgICgic3RyIiwgc3RyKSwKICAgICgidXVpZCIsIFVVSUQpLApdClVSTFBBVFRFUk5TID0gWyhTSE9SVENVVFNbbl0sIG4sIGMpIGZvciBuLCBjIGluIFVSTFBBVFRFUk5TXQoKCmRlZiByZWdpc3Rlcl91cmxwYXR0ZXJuKHJlZ2V4LCBjb252ZXJ0ZXI9Tm9uZSwgbmFtZT1Ob25lLCBwb3NpdGlvbj0tMik6CiAgICBkZWYgcmVnaXN0ZXJyZXIoZnVuYyk6CiAgICAgICAgbm9ubG9jYWwgbmFtZSwgcmVnZXgKICAgICAgICBpZiBuYW1lIGlzIE5vbmU6CiAgICAgICAgICAgIG5hbWUgPSBmdW5jLl9fbmFtZV9fLmxvd2VyKCkKICAgICAgICBpZiBsZW4ocmVnZXgpID4gMiBhbmQgcmVnZXhbMF0gPT0gIjwiIGFuZCByZWdleFstMV0gPT0gIj4iOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICByZWdleCA9IFNIT1JUQ1VUU1tyZWdleFsxOi0xXV0KICAgICAgICAgICAgZXhjZXB0IEluZGV4RXJyb3I6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYiVW5rbm93biB1cmwgc2hvcnRjdXQ6IHtyZWdleCFyfSIpCiAgICAgICAgZWxpZiBub3QgaXNpbnN0YW5jZShyZWdleCwgcmUuUGF0dGVybik6CiAgICAgICAgICAgIHJlZ2V4ID0gcmUuY29tcGlsZShyZWdleCkKICAgICAgICBVUkxQQVRURVJOUy5pbnNlcnQocG9zaXRpb24sIChyZWdleCwgIl8iICsgbmFtZSwgZnVuYykpCgogICAgaWYgY29udmVydGVyIGlzIG5vdCBOb25lOgogICAgICAgIHJldHVybiByZWdpc3RlcnJlcihjb252ZXJ0ZXIpCiAgICBlbHNlOgogICAgICAgIHJldHVybiByZWdpc3RlcnJlcgo",
					"AQAAAAAAAAABAAAAigUAAAAAAACKBQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/taktk/component.py",
			"settings":
			{
				"buffer_size": 16557,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					800,
					1,
					"insert",
					{
						"characters": "cls,"
					},
					"BAAAAOASAAAAAAAA4RIAAAAAAAAAAAAA4RIAAAAAAADiEgAAAAAAAAAAAADiEgAAAAAAAOMSAAAAAAAAAAAAAOMSAAAAAAAA5BIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4BIAAAAAAADgEgAAAAAAAAAAAAAAAPC/"
				],
				[
					801,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOQSAAAAAAAA5RIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5BIAAAAAAADkEgAAAAAAAAAAAAAAAPC/"
				],
				[
					804,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAgUEAAAAAAACBQQAAIiIiClRoZSBtYWluIGNvbXBvbmVudHMgdG9vbC4KCkNvcHlyaWdodCAoQykgMjAyNCAga2VuLW1vcmVsClRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5Cml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgpUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQpHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgoKWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoiIiIKCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR5cGUsIEFueQpmcm9tIGluc3BlY3QgaW1wb3J0IF9lbXB0eQoKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQoKZnJvbSAuIGltcG9ydCBOaWwsIHJlc29sdmUKZnJvbSAuIGltcG9ydCB0ZW1wbGF0ZSwgd3JpdGVhYmxlCgpBdHRyU3BlYyA9IGRpY3Rbc3RyLCB0dXBsZVtUeXBlLCBPcHRpb25hbFtBbnldXV0KCgpjbGFzcyBBdHRyaWJ1dGVNYW5hZ2VyOgogICAgIiIiQW4gb2JqZWN0IHRvIG1hbmFnZSBjb21wb25lbnQgYXR0cmlidXRlcy4iIiIKCiAgICBfcGFyYW1zOiBkaWN0W0F0dHJTcGVjXQogICAgX3N1YnNjcmliZXI6IHdyaXRlYWJsZS5TdWJzY3JpYmVyCiAgICBfc3Vic2NyaWJlYWJsZTogd3JpdGVhYmxlLlN1YnNjcmliZWFibGUKCiAgICBkZWYgX19pbml0X18oc2VsZiwgY29tcG9uZW50OiAiQmFzZUNvbXBvbmVudCIsIGt3YXJnczogZGljdFtzdHIsIHN0cl0pOgogICAgICAgICIiIkNyZWF0ZSB0aGUgQXR0aWJ1dGUgbWFuYWdlciBmcm9tIGNvbXBvbmVudCBhbmQgYXJncy4iIiIKICAgICAgICBzZWxmLl9jb21wb25lbnQgPSBjb21wb25lbnQKICAgICAgICBzZWxmLl9wYXJhbXMgPSB7fQogICAgICAgIGZvciBuYW1lLCBhbm4sIGRlZmF1bHQgaW4gY29tcG9uZW50LmdldF9wYXJhbXMoKToKICAgICAgICAgICAgc2VsZi5fcGFyYW1zW25hbWVdID0gKGFubiwgZGVmYXVsdCkKICAgICAgICBzZWxmLl9zdWJzY3JpYmVyID0gd3JpdGVhYmxlLlN1YnNjcmliZXIoKQogICAgICAgIHNlbGYuX3N1YnNjcmliZWFibGUgPSB3cml0ZWFibGUuU3Vic2NyaWJlYWJsZSgpCiAgICAgICAgc2VsZi5fc3Vic2NyaWJlID0gc2VsZi5fc3Vic2NyaWJlYWJsZS5zdWJzY3JpYmUKICAgICAgICBzZWxmLl9hcmdzID0ge30KICAgICAgICBzZWxmLl9sYXN0ID0gTm9uZQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGt3YXJncy5pdGVtcygpOgogICAgICAgICAgICBzdWIsIHZhbCA9IHRlbXBsYXRlLmV2YWx1YXRlX2xpdGVyYWwoCiAgICAgICAgICAgICAgICB2YWx1ZSwgc2VsZi5fY29tcG9uZW50Lm5hbWVzcGFjZQogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYuX2FyZ3Nba2V5XSA9IChzdWIsIHZhbCkKICAgICAgICAgICAgaWYgc3ViOgogICAgICAgICAgICAgICAgc2VsZi5fc3Vic2NyaWJlci5zdWJzY3JpYmVfdG8odmFsLCBzZWxmLl91cGRhdGUpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQoKICAgIGRlZiBfdXBkYXRlKHNlbGYpOgogICAgICAgIHZhbHMgPSBzZWxmLl92YWx1ZXMuY29weSgpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQogICAgICAgIGlmIHNlbGYuX3ZhbHVlcyAhPSB2YWxzOgogICAgICAgICAgICBzZWxmLl9zdWJzY3JpYmVhYmxlLndhcm5fc3Vic2NyaWJlcnMoKQoKICAgIGRlZiBfY29sbGVjdF92YWx1ZXMoc2VsZik6CiAgICAgICAgc2VsZi5fdmFsdWVzID0ge30KCiAgICAgICAgZGVmIGZpbHRlcnModmFsLCBnZXQsIGFubiwgZGVmYXVsdCk6CiAgICAgICAgICAgIGZyb20gLiBpbXBvcnQgbWVkaWEsIHdyaXRlYWJsZQogICAgICAgICAgICBmcm9tIHRraW50ZXIgaW1wb3J0IEltYWdlCgogICAgICAgICAgICBpZiB2YWwgaXMgTmlsOgogICAgICAgICAgICAgICAgdmFsID0gZGVmYXVsdAogICAgICAgICAgICBpZiBhbm4gaXMgd3JpdGVhYmxlLldyaXRlYWJsZSBhbmQgaXNpbnN0YW5jZSgKICAgICAgICAgICAgICAgIHZhbCwgd3JpdGVhYmxlLldyaXRlYWJsZQogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgcmV0dXJuIHZhbAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIG1lZGlhLkltYWdlKToKICAgICAgICAgICAgICAgICAgICBwcmludCgKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLCBpc2luc3RhbmNlKGFubiwgdHlwZSksIGFubiwgaXNzdWJjbGFzcyhhbm4sIEltYWdlKQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmIGdldDoKICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIGFubiBpcyBJbWFnZSBvciAoCiAgICAgICAgICAgICAgICAgICAgaXNpbnN0YW5jZShhbm4sIHR5cGUpCiAgICAgICAgICAgICAgICAgICAgYW5kIGlzc3ViY2xhc3MoYW5uLCBJbWFnZSkKICAgICAgICAgICAgICAgICAgICBhbmQgaXNpbnN0YW5jZSh2YWwsIG1lZGlhLkltYWdlKQogICAgICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodmFsLCBtZWRpYS5JbWFnZSk6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQodmFsKQogICAgICAgICAgICAgICAgcmV0dXJuIHZhbAoKICAgICAgICBkZWYgc2V0X3BhcmFtKG9iaiwga2V5LCB2YWx1ZSwgYW5ub3RhdGlvbiwgZGVmYXVsdCk6CiAgICAgICAgICAgIGdldCwgdmFsID0gdmFsdWUKICAgICAgICAgICAgaWYgIjoiIGluIGtleToKICAgICAgICAgICAgICAgIHByZSwga2V5ID0ga2V5LnNwbGl0KCI6IiwgMSkKCiAgICAgICAgICAgICAgICBpZiBwcmUgbm90IGluIG9iaiBvciBub3QgaXNpbnN0YW5jZShvYmpbcHJlXSwgZGljdCk6CiAgICAgICAgICAgICAgICAgICAgb2JqW3ByZV0gPSB7fQogICAgICAgICAgICAgICAgc2V0X3BhcmFtKG9ialtwcmVdLCBrZXksIHZhbHVlLCBhbm5vdGF0aW9uLCBkZWZhdWx0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgb2JqW2tleV0gPSBmaWx0ZXJzKHZhbCwgZ2V0LCBhbm5vdGF0aW9uLCBkZWZhdWx0KQoKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBzZWxmLl9hcmdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGtleSBpbiBzZWxmLl9wYXJhbXM6CiAgICAgICAgICAgICAgICBhbm4sIHZhbCA9IHNlbGYuX3BhcmFtc1trZXldCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhbm4gPSB2YWwgPSBOb25lCiAgICAgICAgICAgIHNldF9wYXJhbShzZWxmLl92YWx1ZXMsIGtleSwgdmFsdWUsIGFubiwgdmFsKQoKICAgIGRlZiBfZ2V0X3dyaXRlYWJsZShzZWxmLCBuYW1lKToKICAgICAgICB2YWwgPSBzZWxmLl9hcmdzW25hbWVdWzFdCiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIHdyaXRlYWJsZS5Xcml0ZWFibGUpOgogICAgICAgICAgICByZXR1cm4gdmFsCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiU29ycnkuLi4iKQoKICAgIGRlZiBfX2dldGF0dHJfXyhzZWxmLCBhdHRyOiBzdHIpOgogICAgICAgICIiIkdldCBhdHRyaWJ1dGUgZnJvbSB2YWx1ZXMuIiIiCiAgICAgICAgaWYgYXR0clswXSA9PSAiXyI6CiAgICAgICAgICAgIHJldHVybiBzdXBlcigpLl9fZ2V0YXR0cl9fKGF0dHIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbHVlc1thdHRyXQogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3IgYXMgZToKICAgICAgICAgICAgICAgIHJhaXNlIEF0dHJpYnV0ZUVycm9yKCkgZnJvbSBlCgoKY2xhc3MgQmFzZUNvbXBvbmVudCh3cml0ZWFibGUuU3Vic2NyaWJlcik6CiAgICAiIiJUaGUgYmFzZSBjb21wb25lbnQgY2xhc3MuIiIiCgogICAgcGFyZW50ID0gTm9uZQogICAgY2hpbGRyZW46IGxpc3QKICAgIF9wb3NfID0gTm9uZQogICAgY29udGFpbmVyID0gTm9uZQogICAgb3V0bGV0ID0gTm9uZQogICAgX2FsaWduZXIgPSBOb25lCgogICAgZGVmIF9pbml0X3N1YmNsYXNzKGNscyk6CiAgICAgICAgaWYgbm90IGhhc2F0dHIoY2xzLCAiQXR0cnMiKToKICAgICAgICAgICAgY2xzLkF0dHJzID0gdHlwZShjbHMuX19uYW1lX18gKyAiLkF0dHJzIiwgKCksIHt9KQogICAgICAgIGNscy5BdHRycyA9IGRhdGFjbGFzcyhjbHMuQXR0cnMpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZ2V0X3BhcmFtcyhjbHMpIC0+IHR1cGxlW3R1cGxlW3N0ciwgdHlwZSwgQW55XV06CiAgICAgICAgIiIiR2V0IGFuIGl0ZXJhYmxlIG9mIHR1cGxlcyAobmFtZSwgYW5ub3RhdGlvbiwgZGVmYXVsdCkuIiIiCiAgICAgICAgYW5ucyA9IHt9CiAgICAgICAgcGFyYW1zID0gW10KICAgICAgICBwcmludChjbHMsIGNscy5fX2Fubm90YXRpb25zX18pCiAgICAgICAgZm9yIG5hbWUsIGFubiBpbiBjbHMuX19hbm5vdGF0aW9uc19fLml0ZW1zKCk6CiAgICAgICAgICAgIGFubnNbbmFtZV0gPSBhbm4KICAgICAgICBmb3IgbmFtZSwgdmFsIGluIHZhcnMoY2xzLkF0dHJzKS5pdGVtcygpOgogICAgICAgICAgICBpZiBuYW1lIGluIGFubnM6CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKChuYW1lLCBhbm5zW25hbWVdLCB2YWwpKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgobmFtZSwgX2VtcHR5LCB2YWwpKQogICAgICAgIHJldHVybiB0dXBsZShwYXJhbXMpCgogICAgX19pbml0X3N1YmNsYXNzX18gPSBfaW5pdF9zdWJjbGFzcwoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG5hbWVzcGFjZTogIndyaXRlYWJsZS5OYW1lc3BhY2UiID0ge30sCiAgICAgICAgcGFyZW50PU5vbmUsCiAgICAgICAgYXR0cnM6IGRpY3Rbc3RyXSA9IHt9LAogICAgICAgIHBhcmFtczogZGljdFtzdHJdID0ge30sCiAgICApOgogICAgICAgICIiIkluaXRpYWxpemUgQmFzZSBDb21wb25lbnQuIiIiCiAgICAgICAgd3JpdGVhYmxlLlN1YnNjcmliZXIuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLmNoaWxkcmVuID0gW10KICAgICAgICBzZWxmLnBhcmVudCA9IHBhcmVudAogICAgICAgIHNlbGYubmFtZXNwYWNlID0gbmFtZXNwYWNlCiAgICAgICAgaWYgcGFyZW50IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnBhcmVudC5jaGlsZHJlbi5hcHBlbmQoc2VsZikKICAgICAgICBzZWxmLnJhd19hdHRycyA9IGF0dHJzCiAgICAgICAgc2VsZi5hdHRycyA9IEF0dHJpYnV0ZU1hbmFnZXIoc2VsZiwgYXR0cnMpCiAgICAgICAgc2VsZi5hdHRycy5fc3Vic2NyaWJlKHNlbGYsIHNlbGYuX3VwZGF0ZSkKCiAgICBkZWYgYmluZF9hdHRycyhzZWxmLCBhdHRyczogZGljdFtzdHJdKToKICAgICAgICAiIiJCaW5kIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlcyB0byB0aGUgY29tcG9uZW50LiIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5hdHRycyA9IHNlbGYuX19jbGFzc19fLkF0dHJzKCoqYXR0cnMpCiAgICAgICAgZXhjZXB0IFR5cGVFcnJvciBhcyBlOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoCiAgICAgICAgICAgICAgICBmImVycm9yIHdoaWxlIGJpbmRpbmcgYXJndW1lbnRzIHRvIHtzZWxmLl9fY2xhc3NfXyFyfSIsCiAgICAgICAgICAgICAgICBlLAogICAgICAgICAgICAgICAgc2VsZi5BdHRycywKICAgICAgICAgICAgKSBmcm9tIE5vbmUKCiAgICBkZWYgX2FsaWduX3dpZGdldChzZWxmLCB3aWRnZXQsIHBhcmFtczogZGljdFtzdHJdKToKICAgICAgICBpZiBzZWxmLl9jaGlsZHJlbl9hbGlnbiA9PSAiciI6CiAgICAgICAgICAgIHdpZGdldC5ncmlkKGNvbHVtbj1zZWxmLl9hbGlnbl9vZmZzZXQsIHJvdz0wLCAqKnBhcmFtcykKICAgICAgICBlbGlmIHNlbGYuX2NoaWxkcmVuX2FsaWduID09ICJjIjoKICAgICAgICAgICAgd2lkZ2V0LmdyaWQocm93PXNlbGYuX2FsaWduX29mZnNldCwgY29sdW1uPTAsICoqcGFyYW1zKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInVua25vd24gYWxpZ24gb2Zmc2V0OiIsIHNlbGYuX2NoaWxkcmVuX2FsaWduKQogICAgICAgIHNlbGYuX2FsaWduX29mZnNldCArPSAxCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBzZWxmLmF0dHJzLl9jb2xsZWN0X3ZhbHVlcygpCiAgICAgICAgZm9yIGNoaWxkIGluIHNlbGYuY2hpbGRyZW46CiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZSgpCiAgICAgICAgc2VsZi5fdXBkYXRlKCkKCiAgICBkZWYgX3VwZGF0ZShzZWxmKToKICAgICAgICBwYXNzCgogICAgZGVmIG1ha2VfYmluZGluZ3Moc2VsZik6CiAgICAgICAgZm9yIGV2ZW50LCBoYW5kbGVyIGluIHNlbGYuZXZlbnRfYmluZHMuaXRlbXMoKToKICAgICAgICAgICAgc2VsZi5jb250YWluZXIuYmluZChmIjx7ZXZlbnR9PiIsIHJlc29sdmUoaGFuZGxlcikpCgogICAgZGVmIGNyZWF0ZShzZWxmKToKICAgICAgICBzZWxmLmV2ZW50X2JpbmRzID0ge30KCiAgICBkZWYgaW5pdF9nZW9tZXRyeShzZWxmKToKICAgICAgICBncmlkX3BhcmFtcyA9ICgic3RpY2t5IiwpCiAgICAgICAgcGFja19wYXJhbXMgPSAoCiAgICAgICAgICAgICJzaWRlIiwKICAgICAgICAgICAgImFuY2hvciIsCiAgICAgICAgICAgICJleHBhbmQiLAogICAgICAgICAgICAiZmlsbCIsCiAgICAgICAgICAgICJpcGFkeCIsCiAgICAgICAgICAgICJwYWR4IiwKICAgICAgICAgICAgImlwYWR5IiwKICAgICAgICAgICAgInBhZHkiLAogICAgICAgICkKICAgICAgICBpZiBoYXNhdHRyKHNlbGYuYXR0cnMsICJsYXkiKSBhbmQgc2VsZi5hdHRycy5sYXk6CiAgICAgICAgICAgIGxheSA9IHNlbGYuYXR0cnMubGF5CiAgICAgICAgICAgIGlmICJ3IiBpbiBsYXk6CiAgICAgICAgICAgICAgICBpZiAieCIgaW4gbGF5WyJ3Il06CiAgICAgICAgICAgICAgICAgICAgbGF5eCA9IHJlc29sdmUobGF5WyJ3Il1bIngiXSkKICAgICAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGxheXgsIHN0cik6CiAgICAgICAgICAgICAgICAgICAgICAgIGxheXggPSBkaWN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlKG1hcChzdHIuc3RyaXAsIHguc3BsaXQoIjoiLCAxKSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gbGF5eC5zcGxpdCgiLCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBmb3IgY29sLCB3ZWlnaHQgaW4gbGF5eC5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm91dGxldC5jb2x1bW5jb25maWd1cmUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQoY29sKSwgd2VpZ2h0PWludCh3ZWlnaHQpCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmICJ5IiBpbiBsYXlbInciXToKICAgICAgICAgICAgICAgICAgICBsYXl5ID0gcmVzb2x2ZShzZWxmLmF0dHJzLmxheVsidyJdWyJ5Il0pCiAgICAgICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShsYXl5LCBzdHIpOgogICAgICAgICAgICAgICAgICAgICAgICBsYXl5ID0gZGljdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0dXBsZShtYXAoc3RyLnN0cmlwLCB4LnNwbGl0KCI6IiwgMSkpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB4IGluIGxheXkuc3BsaXQoIiwiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZm9yIGNvbCwgd2VpZ2h0IGluIGxheXkuaXRlbXMoKToKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vdXRsZXQuY29sdW1uY29uZmlndXJlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50KGNvbCksIHdlaWdodD1pbnQod2VpZ2h0KQogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgIGlmIGhhc2F0dHIoc2VsZi5hdHRycywgInBvcyIpOgogICAgICAgICAgICBwb3MgPSBzZWxmLmF0dHJzLnBvcwogICAgICAgICAgICBpZiAicGFjayIgaW4gcG9zIGFuZCBwb3NbInBhY2siXToKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHtrOiB2IGZvciBrLCB2IGluIHBvcy5pdGVtcygpIGlmIGsgaW4gcGFja19wYXJhbXN9CiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKHBvc1sicGFjayJdLCBzdHIpOgogICAgICAgICAgICAgICAgICAgIHBhcmFtc1sic2lkZSJdID0gcG9zWyJwYWNrIl0KICAgICAgICAgICAgICAgIHNlbGYuY29udGFpbmVyLnBhY2soKipwYXJhbXMpCiAgICAgICAgICAgIGVsaWYgImdyaWQiIGluIHBvczoKICAgICAgICAgICAgICAgIGdyaWQgPSB7azogdiBmb3IgaywgdiBpbiBwb3MuaXRlbXMoKSBpZiBrIGluIGdyaWRfcGFyYW1zfQogICAgICAgICAgICAgICAgY29vcmQgPSByZXNvbHZlKHBvc1siZ3JpZCJdKQogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShjb29yZCwgdHVwbGUpOgogICAgICAgICAgICAgICAgICAgIGlmIGxlbihjb29yZCkgPT0gMjoKICAgICAgICAgICAgICAgICAgICAgICAgKHgsIHkpID0gY29vcmQKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsiY29sdW1uIl0gPSB4CiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbInJvdyJdID0geQogICAgICAgICAgICAgICAgICAgIGVsaWYgbGVuKGNvb3JkKSA9PSA0OgogICAgICAgICAgICAgICAgICAgICAgICAoeCwgeSwgeHMsIHlzKSA9IGNvb3JkCiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbImNvbHVtbiJdID0geAogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJyb3ciXSA9IHkKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsiY29sdW1uc3BhbiJdID0geHMKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsicm93c3BhbiJdID0geXMKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJ3cm9uZyBncmlkIHR1cGxlIiwgY29vcmQpCiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5ncmlkKCoqZ3JpZCkKCgpjbGFzcyBUa0NvbXBvbmVudChCYXNlQ29tcG9uZW50KToKICAgIFdpZGdldCA9IE5vbmUKICAgIF9hdHRyX2lnbm9yZSA9ICgpCiAgICBfcGFyYW1zID0gTm9uZQoKICAgIGRlZiBfX2luaXRfc3ViY2xhc3NfXyhjbHMpOgogICAgICAgIGNscy5BdHRycyA9IGRhdGFjbGFzcyhjbHMuQXR0cnMpCiAgICAgICAgc2FtZSA9IFsKICAgICAgICAgICAgeAogICAgICAgICAgICBmb3IgeCBpbiBkaXIoY2xzLkF0dHJzKQogICAgICAgICAgICBpZiBub3QgeC5zdGFydHN3aXRoKCJfIikgYW5kIHggbm90IGluIGNscy5fYXR0cl9pZ25vcmUKICAgICAgICBdCiAgICAgICAgY2xzLmNvbmZfYWxpYXNzZXMgPSB7CiAgICAgICAgICAgICoqZGljdCh6aXAoc2FtZSwgc2FtZSkpLAogICAgICAgIH0KICAgICAgICBkZWwgc2FtZQoKICAgIGRlZiBjcmVhdGUoc2VsZiwgcGFyZW50KToKICAgICAgICBzdXBlcigpLmNyZWF0ZSgpCiAgICAgICAgc2VsZi5fcGFyYW1zID0gcGFyYW1zID0gewogICAgICAgICAgICAqKnsKICAgICAgICAgICAgICAgIHNlbGYuY29uZl9hbGlhc3Nlc1trXTogdgogICAgICAgICAgICAgICAgZm9yIGssIHYgaW4gc2VsZi5hdHRycy5fdmFsdWVzLml0ZW1zKCkKICAgICAgICAgICAgICAgIGlmIGsgaW4gc2VsZi5jb25mX2FsaWFzc2VzIGFuZCB2IGlzIG5vdCBOaWwKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzZWxmLl9jcmVhdGUocGFyZW50LCBwYXJhbXMpCiAgICAgICAgc2VsZi5tYWtlX2JpbmRpbmdzKCkKICAgICAgICBzZWxmLmluaXRfZ2VvbWV0cnkoKQogICAgICAgIGZvciBjaGlsZCBpbiBzZWxmLmNoaWxkcmVuOgogICAgICAgICAgICBjaGlsZC5jcmVhdGUoc2VsZi5vdXRsZXQpCgogICAgZGVmIF9jcmVhdGUoc2VsZiwgcGFyZW50LCBwYXJhbXM9e30pOgogICAgICAgIHNlbGYub3V0bGV0ID0gc2VsZi5jb250YWluZXIgPSBzZWxmLldpZGdldChwYXJlbnQsICoqcGFyYW1zKQoKICAgIGRlZiBfdXBkYXRlKHNlbGYpOgogICAgICAgIGZvciBrLCB2IGluIHsKICAgICAgICAgICAgc2VsZi5jb25mX2FsaWFzc2VzW2tdOiB2CiAgICAgICAgICAgIGZvciBrLCB2IGluIHNlbGYuYXR0cnMuX3ZhbHVlcy5pdGVtcygpCiAgICAgICAgICAgIGlmIGsgaW4gc2VsZi5jb25mX2FsaWFzc2VzIGFuZCB2IGlzIG5vdCBOaWwKICAgICAgICB9Lml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGsgPT0gInRleHQiOgogICAgICAgICAgICAgICAgc2VsZi5jb250YWluZXJbInRleHQiXSA9IHYKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VsZi5jb250YWluZXIuY29uZmlndXJlKCoqe2s6IHZ9KQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAgcmFpc2UKCgpjbGFzcyBFbnVtQ29tcG9uZW50KEJhc2VDb21wb25lbnQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgb2JqZWN0LAogICAgICAgIG5hbWVzcGFjZSwKICAgICAgICBhbGlhczogdHVwbGVbc3RyLCBzdHJdLAogICAgICAgIHBhcmVudDogIk9wdGlvbmFsW0Jhc2VDb21wb25lbnRdIiA9IE5vbmUsCiAgICAgICAgaW5zdHJ1Y3Rpb25zOiBsaXN0ID0gW10sCiAgICApOgogICAgICAgIHNlbGYuY2hpbGRyZW4gPSBbXQogICAgICAgIHNlbGYucGFyZW50ID0gcGFyZW50CiAgICAgICAgc2VsZi5wYXJlbnRfbmFtZXNwYWNlID0gbmFtZXNwYWNlCiAgICAgICAgc2VsZi5vYmplY3QgPSBvYmplY3QKICAgICAgICBzZWxmLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucyAgIyBpbnN0cnVjdGlvbnMKICAgICAgICBzZWxmLmFsaWFzID0gYWxpYXMKICAgICAgICBpZiBwYXJlbnQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuLmFwcGVuZChzZWxmKQoKICAgIGRlZiBjcmVhdGUoc2VsZiwgcGFyZW50PU5vbmUpOgogICAgICAgIHBhcmVudCA9IHBhcmVudCBvciBzZWxmLnBhcmVudC5vdXRsZXQKICAgICAgICBzZWxmLnJlbmRlcl9wYXJlbnQgPSBwYXJlbnQKICAgICAgICBzZWxmLndpZGdldHMgPSBbXQogICAgICAgIGZvciBpZHgsIHZhbCBpbiBlbnVtZXJhdGUoc2VsZi5vYmplY3QuZ2V0KCkpOgogICAgICAgICAgICBhaWR4LCBhdmFsID0gc2VsZi5hbGlhcwogICAgICAgICAgICBuYW1lc3BhY2UgPSB3cml0ZWFibGUuTmFtZXNwYWNlKHBhcmVudHM9W3NlbGYucGFyZW50X25hbWVzcGFjZV0pCiAgICAgICAgICAgIG5hbWVzcGFjZVthaWR4XSA9IGlkeAogICAgICAgICAgICBuYW1lc3BhY2VbYXZhbF0gPSB2YWwKICAgICAgICAgICAgZm9yIGluc3RyIGluIHNlbGYuaW5zdHJ1Y3Rpb25zOgogICAgICAgICAgICAgICAgY29tcCA9IGluc3RyLl9ldmFsKG5hbWVzcGFjZSkKICAgICAgICAgICAgICAgIGNvbXAuY3JlYXRlKHBhcmVudCkKICAgICAgICAgICAgICAgIGVsdCA9IGNvbXAuY29udGFpbmVyCiAgICAgICAgICAgICAgICBzZWxmLndpZGdldHMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIChjb21wLCBlbHQpLAogICAgICAgICAgICAgICAgKQoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgd2lkZ2V0cyA9IHNlbGYud2lkZ2V0cy5jb3B5KCkKICAgICAgICBzZWxmLmNyZWF0ZShzZWxmLnJlbmRlcl9wYXJlbnQpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJlbmRlcl9wYXJlbnQudXBkYXRlKCkgICMgZm9yIHNtb290aGVyIHJlbmRlcnJpbmcKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBwYXNzCiAgICAgICAgZm9yIGNvbXBvbmVudCwgd2lkZ2V0IGluIHdpZGdldHM6CiAgICAgICAgICAgIGNvbXBvbmVudC5jb250YWluZXIgPSBjb21wb25lbnQub3V0bGV0ID0gTm9uZQogICAgICAgICAgICB3aWRnZXQuZGVzdHJveSgpCiAgICAgICAgICAgIGRlbCB3aWRnZXQKCgpjbGFzcyBJZkNvbXBvbmVudChCYXNlQ29tcG9uZW50KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvbmRpdGlvbiwKICAgICAgICBuYW1lc3BhY2UsCiAgICAgICAgcGFyZW50OiAiT3B0aW9uYWxbQmFzZUNvbXBvbmVudF0iID0gTm9uZSwKICAgICAgICBpbnN0cnVjdGlvbnM6IGxpc3QgPSBbXSwKICAgICk6CiAgICAgICAgc2VsZi5jaGlsZHJlbiA9IFtdCiAgICAgICAgc2VsZi5wYXJlbnQgPSBwYXJlbnQKICAgICAgICBzZWxmLm5hbWVzcGFjZSA9IG5hbWVzcGFjZQogICAgICAgIHNlbGYuY29uZGl0aW9uID0gY29uZGl0aW9uCiAgICAgICAgc2VsZi5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnMgICMgaW5zdHJ1Y3Rpb25zCiAgICAgICAgaWYgcGFyZW50IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnBhcmVudC5jaGlsZHJlbi5hcHBlbmQoc2VsZikKCiAgICBkZWYgY3JlYXRlKHNlbGYsIHBhcmVudD1Ob25lKToKICAgICAgICBwYXJlbnQgPSBwYXJlbnQgb3Igc2VsZi5wYXJlbnQub3V0bGV0CiAgICAgICAgc2VsZi5yZW5kZXJfcGFyZW50ID0gcGFyZW50CiAgICAgICAgc2VsZi53aWRnZXRzID0gW10KICAgICAgICBzZWxmLmNvbmRpdGlvbi5zdWJzY3JpYmUoc2VsZi5fdXBkYXRlKQogICAgICAgIGlmIHNlbGYuY29uZGl0aW9uLmdldCgpOgogICAgICAgICAgICBmb3IgaW5zdHIgaW4gc2VsZi5pbnN0cnVjdGlvbnM6CiAgICAgICAgICAgICAgICBjb21wID0gaW5zdHIuX2V2YWwoc2VsZi5uYW1lc3BhY2UpCiAgICAgICAgICAgICAgICBjb21wLmNyZWF0ZShwYXJlbnQpCiAgICAgICAgICAgICAgICBzZWxmLndpZGdldHMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIChjb21wLmNvbnRhaW5lciwgY29tcC5jb250YWluZXIpLAogICAgICAgICAgICAgICAgKQoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgc3VwZXIoKS51cGRhdGUoKQogICAgICAgIHdpZGdldHMgPSBzZWxmLndpZGdldHMuY29weSgpCiAgICAgICAgc2VsZi5jcmVhdGUoc2VsZi5yZW5kZXJfcGFyZW50KQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yZW5kZXJfcGFyZW50LnVwZGF0ZSgpICAjIGZvciBzbW9vdGhlciByZW5kZXJyaW5nCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcGFzcwogICAgICAgIGZvciBjb21wb25lbnQsIHdpZGdldCBpbiB3aWRnZXRzOgogICAgICAgICAgICBjb21wb25lbnQud2lkZ2V0ID0gTm9uZQogICAgICAgICAgICB3aWRnZXQuZGVzdHJveSgpCiAgICAgICAgICAgIGRlbCB3aWRnZXQKCgpjbGFzcyBDb21wb25lbnQoQmFzZUNvbXBvbmVudCk6CiAgICBjb2RlOiBPcHRpb25hbFtzdHJdID0gTm9uZQogICAgX3RlbXBsYXRlX2NhY2hlOiB0dXBsZVtPcHRpb25hbFtzdHJdLCBPcHRpb25hbFt0ZW1wbGF0ZS5UZW1wbGF0ZV1dID0gKAogICAgICAgIE5vbmUsCiAgICAgICAgTm9uZSwKICAgICkKCiAgICBkZWYgaW5pdChzZWxmKToKICAgICAgICBwYXNzCgogICAgQGFubm90YXRlCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaXRlbTogc3RyKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLm5hbWVzcGFjZVtpdGVtXQogICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbHMoKVtpdGVtXQogICAgICAgICAgICBleGNlcHQgSW5kZXhFcnJvciBhcyBlOgogICAgICAgICAgICAgICAgcmFpc2UgSW5kZXhFcnJvcihpdGVtKSBmcm9tIGUKCiAgICBkZWYgX19pbml0X3N1YmNsYXNzX18oY2xzKToKICAgICAgICBjbHMuZ2V0X3RlbXBsYXRlKCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBnZXRfdGVtcGxhdGUoY2xzKToKICAgICAgICBjb2RlID0gY2xzLmNvZGUgb3IgY2xzLl9fZG9jX18KICAgICAgICBpZiBjbHMuX3RlbXBsYXRlX2NhY2hlWzBdICE9IGNvZGU6CiAgICAgICAgICAgIGNscy5fdGVtcGxhdGVfY2FjaGUgPSBjb2RlLCB0ZW1wbGF0ZS5UZW1wbGF0ZS5wYXJzZShjb2RlKQogICAgICAgIHJldHVybiBjbHMuX3RlbXBsYXRlX2NhY2hlWzFdCgogICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsIGl0ZW06IHN0ciwgdmFsdWUpOgogICAgICAgIHNlbGYubmFtZXNwYWNlW2l0ZW1dID0gdmFsdWUKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RvcmU9Tm9uZSwgKipwYXJhbXMpOgogICAgICAgIHdyaXRlYWJsZS5TdWJzY3JpYmVyLl9faW5pdF9fKHNlbGYpCiAgICAgICAgc2VsZi5uYW1lc3BhY2UgPSB3cml0ZWFibGUuTmFtZXNwYWNlKCkKICAgICAgICBzZWxmLm5hbWVzcGFjZS52YXJzLnVwZGF0ZShwYXJhbXMpCiAgICAgICAgc2VsZi5uYW1lc3BhY2UudmFyc1sic3RvcmUiXSA9IHN0b3JlCiAgICAgICAgc2VsZi5zdWJzY3JpYmVfdG8oc2VsZi5uYW1lc3BhY2UsIHNlbGYudXBkYXRlKQogICAgICAgIGZvciBhdHRyX25hbWUgaW4gZGlyKHNlbGYpOgogICAgICAgICAgICBpZiBub3QgYXR0cl9uYW1lLnN0YXJ0c3dpdGgoIl8iKToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBzZWxmLm5hbWVzcGFjZVthdHRyX25hbWVdID0gZ2V0YXR0cihzZWxmLCBhdHRyX25hbWUpCiAgICAgICAgICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgIHNlbGYuaW5pdCgpCiAgICAgICAgc2VsZi5yZW5kZXJyZWQgPSBGYWxzZQogICAgICAgIHNlbGYuX2NvbXBvbmVudF8gPSBzZWxmLmdldF90ZW1wbGF0ZSgpLmV2YWwoc2VsZi5uYW1lc3BhY2UpCgogICAgZGVmIHJlbmRlcihzZWxmLCBtYXN0ZXIpOgogICAgICAgIHNlbGYuX2NvbXBvbmVudF8uY3JlYXRlKG1hc3RlcikKICAgICAgICBzZWxmLnJlZGVycmVkID0gVHJ1ZQogICAgICAgIHJldHVybiBzZWxmLmNvbnRhaW5lcgoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgaWYgc2VsZi5yZW5kZXJyZWQ6CiAgICAgICAgICAgIHNlbGYuX2NvbXBvbmVudF8udXBkYXRlKCkKCiAgICBkZWYgZXhwb3NlKHNlbGYsIGZ1bmMpOgogICAgICAgIHNlbGYubmFtZXNwYWNlW2Z1bmMuX19uYW1lX19dID0gZnVuYwoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGNvbnRhaW5lcihzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fY29tcG9uZW50Xy5jb250YWluZXIKCiAgICBAcHJvcGVydHkKICAgIGRlZiBvdXRsZXQoc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBvdXQgPSBzZWxmWyJvdXRsZXQiXQogICAgICAgICAgICBpZiBvdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICByZXR1cm4gb3V0Lm91dGxldAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBleGNlcHQgTmFtZUVycm9yOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBjcmVhdGVfdGsoc2VsZiwgcm9vdD1Ob25lKToKICAgICAgICAiIiJDcmVhdGUgdGhlIGNvbXBvbmVudCBpbiBhIGZ1bGwgVGsgd2luZG93LiIiIgogICAgICAgIHJvb3QuY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKQogICAgICAgIHJvb3Qucm93Y29uZmlndXJlKDAsIHdlaWdodD0xKQoKICAgICAgICBzZWxmLnJlbmRlcihyb290KS5ncmlkKGNvbHVtbj0wLCByb3c9MCwgc3RpY2t5PSJuc2V3IikKICAgICAgICByZXR1cm4gcm9vdAoKICAgIGRlZiBwb3B1cChzZWxmLCAqKnBhcmFtcyk6CiAgICAgICAgIiIiQ3JlYXRlIHRoZSBjb21wb25lbnQgaW4gYSBmdWxsIFRrIHdpbmRvdy4iIiIKICAgICAgICBmcm9tIHRraW50ZXIgaW1wb3J0IFRvcGxldmVsCgogICAgICAgIHJvb3QgPSBUb3BsZXZlbCgpCiAgICAgICAgcm9vdC5jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpCiAgICAgICAgcm9vdC5yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpCgogICAgICAgIHNlbGYucmVuZGVyKHJvb3QpLmdyaWQoY29sdW1uPTAsIHJvdz0wLCBzdGlja3k9Im5zZXciKQogICAgICAgIHJldHVybiByb290CgoKZGVmIGNvbXBvbmVudChmdW5jKToKICAgIGRlZiBjb21wb25lbnRfaW5pdChzZWxmKToKICAgICAgICB2YXIgPSBmdW5jKHNlbGYpCiAgICAgICAgaWYgdmFyIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLm5hbWVzcGFjZS52YXJzLnVwZGF0ZSh2YXIpCgogICAgcmV0dXJuIHR5cGUoCiAgICAgICAgZnVuYy5fX25hbWVfXywKICAgICAgICAoQ29tcG9uZW50LCksCiAgICAgICAgewogICAgICAgICAgICAiaW5pdCI6IGNvbXBvbmVudF9pbml0LAogICAgICAgICAgICAiX19kb2NfXyI6IGZ1bmMuX19kb2NfXywKICAgICAgICB9LAogICAgKQo",
					"AQAAAAAAAAABAAAA5RIAAAAAAADlEgAAAAAAAAAAAAAAAPC/"
				],
				[
					808,
					1,
					"insert",
					{
						"characters": ".Attrs"
					},
					"BgAAABYTAAAAAAAAFxMAAAAAAAAAAAAAFxMAAAAAAAAYEwAAAAAAAAAAAAAYEwAAAAAAABkTAAAAAAAAAAAAABkTAAAAAAAAGhMAAAAAAAAAAAAAGhMAAAAAAAAbEwAAAAAAAAAAAAAbEwAAAAAAABwTAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAFhMAAAAAAAAWEwAAAAAAAAAAAAAAAPC/"
				],
				[
					811,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAh0EAAAAAAACHQQAAIiIiClRoZSBtYWluIGNvbXBvbmVudHMgdG9vbC4KCkNvcHlyaWdodCAoQykgMjAyNCAga2VuLW1vcmVsClRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5Cml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgpUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQpHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgoKWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoiIiIKCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR5cGUsIEFueQpmcm9tIGluc3BlY3QgaW1wb3J0IF9lbXB0eQoKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQoKZnJvbSAuIGltcG9ydCBOaWwsIHJlc29sdmUKZnJvbSAuIGltcG9ydCB0ZW1wbGF0ZSwgd3JpdGVhYmxlCgpBdHRyU3BlYyA9IGRpY3Rbc3RyLCB0dXBsZVtUeXBlLCBPcHRpb25hbFtBbnldXV0KCgpjbGFzcyBBdHRyaWJ1dGVNYW5hZ2VyOgogICAgIiIiQW4gb2JqZWN0IHRvIG1hbmFnZSBjb21wb25lbnQgYXR0cmlidXRlcy4iIiIKCiAgICBfcGFyYW1zOiBkaWN0W0F0dHJTcGVjXQogICAgX3N1YnNjcmliZXI6IHdyaXRlYWJsZS5TdWJzY3JpYmVyCiAgICBfc3Vic2NyaWJlYWJsZTogd3JpdGVhYmxlLlN1YnNjcmliZWFibGUKCiAgICBkZWYgX19pbml0X18oc2VsZiwgY29tcG9uZW50OiAiQmFzZUNvbXBvbmVudCIsIGt3YXJnczogZGljdFtzdHIsIHN0cl0pOgogICAgICAgICIiIkNyZWF0ZSB0aGUgQXR0aWJ1dGUgbWFuYWdlciBmcm9tIGNvbXBvbmVudCBhbmQgYXJncy4iIiIKICAgICAgICBzZWxmLl9jb21wb25lbnQgPSBjb21wb25lbnQKICAgICAgICBzZWxmLl9wYXJhbXMgPSB7fQogICAgICAgIGZvciBuYW1lLCBhbm4sIGRlZmF1bHQgaW4gY29tcG9uZW50LmdldF9wYXJhbXMoKToKICAgICAgICAgICAgc2VsZi5fcGFyYW1zW25hbWVdID0gKGFubiwgZGVmYXVsdCkKICAgICAgICBzZWxmLl9zdWJzY3JpYmVyID0gd3JpdGVhYmxlLlN1YnNjcmliZXIoKQogICAgICAgIHNlbGYuX3N1YnNjcmliZWFibGUgPSB3cml0ZWFibGUuU3Vic2NyaWJlYWJsZSgpCiAgICAgICAgc2VsZi5fc3Vic2NyaWJlID0gc2VsZi5fc3Vic2NyaWJlYWJsZS5zdWJzY3JpYmUKICAgICAgICBzZWxmLl9hcmdzID0ge30KICAgICAgICBzZWxmLl9sYXN0ID0gTm9uZQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGt3YXJncy5pdGVtcygpOgogICAgICAgICAgICBzdWIsIHZhbCA9IHRlbXBsYXRlLmV2YWx1YXRlX2xpdGVyYWwoCiAgICAgICAgICAgICAgICB2YWx1ZSwgc2VsZi5fY29tcG9uZW50Lm5hbWVzcGFjZQogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYuX2FyZ3Nba2V5XSA9IChzdWIsIHZhbCkKICAgICAgICAgICAgaWYgc3ViOgogICAgICAgICAgICAgICAgc2VsZi5fc3Vic2NyaWJlci5zdWJzY3JpYmVfdG8odmFsLCBzZWxmLl91cGRhdGUpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQoKICAgIGRlZiBfdXBkYXRlKHNlbGYpOgogICAgICAgIHZhbHMgPSBzZWxmLl92YWx1ZXMuY29weSgpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQogICAgICAgIGlmIHNlbGYuX3ZhbHVlcyAhPSB2YWxzOgogICAgICAgICAgICBzZWxmLl9zdWJzY3JpYmVhYmxlLndhcm5fc3Vic2NyaWJlcnMoKQoKICAgIGRlZiBfY29sbGVjdF92YWx1ZXMoc2VsZik6CiAgICAgICAgc2VsZi5fdmFsdWVzID0ge30KCiAgICAgICAgZGVmIGZpbHRlcnModmFsLCBnZXQsIGFubiwgZGVmYXVsdCk6CiAgICAgICAgICAgIGZyb20gLiBpbXBvcnQgbWVkaWEsIHdyaXRlYWJsZQogICAgICAgICAgICBmcm9tIHRraW50ZXIgaW1wb3J0IEltYWdlCgogICAgICAgICAgICBpZiB2YWwgaXMgTmlsOgogICAgICAgICAgICAgICAgdmFsID0gZGVmYXVsdAogICAgICAgICAgICBpZiBhbm4gaXMgd3JpdGVhYmxlLldyaXRlYWJsZSBhbmQgaXNpbnN0YW5jZSgKICAgICAgICAgICAgICAgIHZhbCwgd3JpdGVhYmxlLldyaXRlYWJsZQogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgcmV0dXJuIHZhbAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIG1lZGlhLkltYWdlKToKICAgICAgICAgICAgICAgICAgICBwcmludCgKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLCBpc2luc3RhbmNlKGFubiwgdHlwZSksIGFubiwgaXNzdWJjbGFzcyhhbm4sIEltYWdlKQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmIGdldDoKICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIGFubiBpcyBJbWFnZSBvciAoCiAgICAgICAgICAgICAgICAgICAgaXNpbnN0YW5jZShhbm4sIHR5cGUpCiAgICAgICAgICAgICAgICAgICAgYW5kIGlzc3ViY2xhc3MoYW5uLCBJbWFnZSkKICAgICAgICAgICAgICAgICAgICBhbmQgaXNpbnN0YW5jZSh2YWwsIG1lZGlhLkltYWdlKQogICAgICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodmFsLCBtZWRpYS5JbWFnZSk6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQodmFsKQogICAgICAgICAgICAgICAgcmV0dXJuIHZhbAoKICAgICAgICBkZWYgc2V0X3BhcmFtKG9iaiwga2V5LCB2YWx1ZSwgYW5ub3RhdGlvbiwgZGVmYXVsdCk6CiAgICAgICAgICAgIGdldCwgdmFsID0gdmFsdWUKICAgICAgICAgICAgaWYgIjoiIGluIGtleToKICAgICAgICAgICAgICAgIHByZSwga2V5ID0ga2V5LnNwbGl0KCI6IiwgMSkKCiAgICAgICAgICAgICAgICBpZiBwcmUgbm90IGluIG9iaiBvciBub3QgaXNpbnN0YW5jZShvYmpbcHJlXSwgZGljdCk6CiAgICAgICAgICAgICAgICAgICAgb2JqW3ByZV0gPSB7fQogICAgICAgICAgICAgICAgc2V0X3BhcmFtKG9ialtwcmVdLCBrZXksIHZhbHVlLCBhbm5vdGF0aW9uLCBkZWZhdWx0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgb2JqW2tleV0gPSBmaWx0ZXJzKHZhbCwgZ2V0LCBhbm5vdGF0aW9uLCBkZWZhdWx0KQoKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBzZWxmLl9hcmdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGtleSBpbiBzZWxmLl9wYXJhbXM6CiAgICAgICAgICAgICAgICBhbm4sIHZhbCA9IHNlbGYuX3BhcmFtc1trZXldCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhbm4gPSB2YWwgPSBOb25lCiAgICAgICAgICAgIHNldF9wYXJhbShzZWxmLl92YWx1ZXMsIGtleSwgdmFsdWUsIGFubiwgdmFsKQoKICAgIGRlZiBfZ2V0X3dyaXRlYWJsZShzZWxmLCBuYW1lKToKICAgICAgICB2YWwgPSBzZWxmLl9hcmdzW25hbWVdWzFdCiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIHdyaXRlYWJsZS5Xcml0ZWFibGUpOgogICAgICAgICAgICByZXR1cm4gdmFsCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiU29ycnkuLi4iKQoKICAgIGRlZiBfX2dldGF0dHJfXyhzZWxmLCBhdHRyOiBzdHIpOgogICAgICAgICIiIkdldCBhdHRyaWJ1dGUgZnJvbSB2YWx1ZXMuIiIiCiAgICAgICAgaWYgYXR0clswXSA9PSAiXyI6CiAgICAgICAgICAgIHJldHVybiBzdXBlcigpLl9fZ2V0YXR0cl9fKGF0dHIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbHVlc1thdHRyXQogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3IgYXMgZToKICAgICAgICAgICAgICAgIHJhaXNlIEF0dHJpYnV0ZUVycm9yKCkgZnJvbSBlCgoKY2xhc3MgQmFzZUNvbXBvbmVudCh3cml0ZWFibGUuU3Vic2NyaWJlcik6CiAgICAiIiJUaGUgYmFzZSBjb21wb25lbnQgY2xhc3MuIiIiCgogICAgcGFyZW50ID0gTm9uZQogICAgY2hpbGRyZW46IGxpc3QKICAgIF9wb3NfID0gTm9uZQogICAgY29udGFpbmVyID0gTm9uZQogICAgb3V0bGV0ID0gTm9uZQogICAgX2FsaWduZXIgPSBOb25lCgogICAgZGVmIF9pbml0X3N1YmNsYXNzKGNscyk6CiAgICAgICAgaWYgbm90IGhhc2F0dHIoY2xzLCAiQXR0cnMiKToKICAgICAgICAgICAgY2xzLkF0dHJzID0gdHlwZShjbHMuX19uYW1lX18gKyAiLkF0dHJzIiwgKCksIHt9KQogICAgICAgIGNscy5BdHRycyA9IGRhdGFjbGFzcyhjbHMuQXR0cnMpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZ2V0X3BhcmFtcyhjbHMpIC0+IHR1cGxlW3R1cGxlW3N0ciwgdHlwZSwgQW55XV06CiAgICAgICAgIiIiR2V0IGFuIGl0ZXJhYmxlIG9mIHR1cGxlcyAobmFtZSwgYW5ub3RhdGlvbiwgZGVmYXVsdCkuIiIiCiAgICAgICAgYW5ucyA9IHt9CiAgICAgICAgcGFyYW1zID0gW10KICAgICAgICBwcmludChjbHMsIGNscy5fX2Fubm90YXRpb25zX18pCiAgICAgICAgZm9yIG5hbWUsIGFubiBpbiBjbHMuQXR0cnMuX19hbm5vdGF0aW9uc19fLml0ZW1zKCk6CiAgICAgICAgICAgIGFubnNbbmFtZV0gPSBhbm4KICAgICAgICBmb3IgbmFtZSwgdmFsIGluIHZhcnMoY2xzLkF0dHJzKS5pdGVtcygpOgogICAgICAgICAgICBpZiBuYW1lIGluIGFubnM6CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKChuYW1lLCBhbm5zW25hbWVdLCB2YWwpKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgobmFtZSwgX2VtcHR5LCB2YWwpKQogICAgICAgIHJldHVybiB0dXBsZShwYXJhbXMpCgogICAgX19pbml0X3N1YmNsYXNzX18gPSBfaW5pdF9zdWJjbGFzcwoKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG5hbWVzcGFjZTogIndyaXRlYWJsZS5OYW1lc3BhY2UiID0ge30sCiAgICAgICAgcGFyZW50PU5vbmUsCiAgICAgICAgYXR0cnM6IGRpY3Rbc3RyXSA9IHt9LAogICAgICAgIHBhcmFtczogZGljdFtzdHJdID0ge30sCiAgICApOgogICAgICAgICIiIkluaXRpYWxpemUgQmFzZSBDb21wb25lbnQuIiIiCiAgICAgICAgd3JpdGVhYmxlLlN1YnNjcmliZXIuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLmNoaWxkcmVuID0gW10KICAgICAgICBzZWxmLnBhcmVudCA9IHBhcmVudAogICAgICAgIHNlbGYubmFtZXNwYWNlID0gbmFtZXNwYWNlCiAgICAgICAgaWYgcGFyZW50IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnBhcmVudC5jaGlsZHJlbi5hcHBlbmQoc2VsZikKICAgICAgICBzZWxmLnJhd19hdHRycyA9IGF0dHJzCiAgICAgICAgc2VsZi5hdHRycyA9IEF0dHJpYnV0ZU1hbmFnZXIoc2VsZiwgYXR0cnMpCiAgICAgICAgc2VsZi5hdHRycy5fc3Vic2NyaWJlKHNlbGYsIHNlbGYuX3VwZGF0ZSkKCiAgICBkZWYgYmluZF9hdHRycyhzZWxmLCBhdHRyczogZGljdFtzdHJdKToKICAgICAgICAiIiJCaW5kIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlcyB0byB0aGUgY29tcG9uZW50LiIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5hdHRycyA9IHNlbGYuX19jbGFzc19fLkF0dHJzKCoqYXR0cnMpCiAgICAgICAgZXhjZXB0IFR5cGVFcnJvciBhcyBlOgogICAgICAgICAgICByYWlzZSBUeXBlRXJyb3IoCiAgICAgICAgICAgICAgICBmImVycm9yIHdoaWxlIGJpbmRpbmcgYXJndW1lbnRzIHRvIHtzZWxmLl9fY2xhc3NfXyFyfSIsCiAgICAgICAgICAgICAgICBlLAogICAgICAgICAgICAgICAgc2VsZi5BdHRycywKICAgICAgICAgICAgKSBmcm9tIE5vbmUKCiAgICBkZWYgX2FsaWduX3dpZGdldChzZWxmLCB3aWRnZXQsIHBhcmFtczogZGljdFtzdHJdKToKICAgICAgICBpZiBzZWxmLl9jaGlsZHJlbl9hbGlnbiA9PSAiciI6CiAgICAgICAgICAgIHdpZGdldC5ncmlkKGNvbHVtbj1zZWxmLl9hbGlnbl9vZmZzZXQsIHJvdz0wLCAqKnBhcmFtcykKICAgICAgICBlbGlmIHNlbGYuX2NoaWxkcmVuX2FsaWduID09ICJjIjoKICAgICAgICAgICAgd2lkZ2V0LmdyaWQocm93PXNlbGYuX2FsaWduX29mZnNldCwgY29sdW1uPTAsICoqcGFyYW1zKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoInVua25vd24gYWxpZ24gb2Zmc2V0OiIsIHNlbGYuX2NoaWxkcmVuX2FsaWduKQogICAgICAgIHNlbGYuX2FsaWduX29mZnNldCArPSAxCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBzZWxmLmF0dHJzLl9jb2xsZWN0X3ZhbHVlcygpCiAgICAgICAgZm9yIGNoaWxkIGluIHNlbGYuY2hpbGRyZW46CiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZSgpCiAgICAgICAgc2VsZi5fdXBkYXRlKCkKCiAgICBkZWYgX3VwZGF0ZShzZWxmKToKICAgICAgICBwYXNzCgogICAgZGVmIG1ha2VfYmluZGluZ3Moc2VsZik6CiAgICAgICAgZm9yIGV2ZW50LCBoYW5kbGVyIGluIHNlbGYuZXZlbnRfYmluZHMuaXRlbXMoKToKICAgICAgICAgICAgc2VsZi5jb250YWluZXIuYmluZChmIjx7ZXZlbnR9PiIsIHJlc29sdmUoaGFuZGxlcikpCgogICAgZGVmIGNyZWF0ZShzZWxmKToKICAgICAgICBzZWxmLmV2ZW50X2JpbmRzID0ge30KCiAgICBkZWYgaW5pdF9nZW9tZXRyeShzZWxmKToKICAgICAgICBncmlkX3BhcmFtcyA9ICgic3RpY2t5IiwpCiAgICAgICAgcGFja19wYXJhbXMgPSAoCiAgICAgICAgICAgICJzaWRlIiwKICAgICAgICAgICAgImFuY2hvciIsCiAgICAgICAgICAgICJleHBhbmQiLAogICAgICAgICAgICAiZmlsbCIsCiAgICAgICAgICAgICJpcGFkeCIsCiAgICAgICAgICAgICJwYWR4IiwKICAgICAgICAgICAgImlwYWR5IiwKICAgICAgICAgICAgInBhZHkiLAogICAgICAgICkKICAgICAgICBpZiBoYXNhdHRyKHNlbGYuYXR0cnMsICJsYXkiKSBhbmQgc2VsZi5hdHRycy5sYXk6CiAgICAgICAgICAgIGxheSA9IHNlbGYuYXR0cnMubGF5CiAgICAgICAgICAgIGlmICJ3IiBpbiBsYXk6CiAgICAgICAgICAgICAgICBpZiAieCIgaW4gbGF5WyJ3Il06CiAgICAgICAgICAgICAgICAgICAgbGF5eCA9IHJlc29sdmUobGF5WyJ3Il1bIngiXSkKICAgICAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGxheXgsIHN0cik6CiAgICAgICAgICAgICAgICAgICAgICAgIGxheXggPSBkaWN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlKG1hcChzdHIuc3RyaXAsIHguc3BsaXQoIjoiLCAxKSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gbGF5eC5zcGxpdCgiLCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBmb3IgY29sLCB3ZWlnaHQgaW4gbGF5eC5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm91dGxldC5jb2x1bW5jb25maWd1cmUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQoY29sKSwgd2VpZ2h0PWludCh3ZWlnaHQpCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmICJ5IiBpbiBsYXlbInciXToKICAgICAgICAgICAgICAgICAgICBsYXl5ID0gcmVzb2x2ZShzZWxmLmF0dHJzLmxheVsidyJdWyJ5Il0pCiAgICAgICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShsYXl5LCBzdHIpOgogICAgICAgICAgICAgICAgICAgICAgICBsYXl5ID0gZGljdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0dXBsZShtYXAoc3RyLnN0cmlwLCB4LnNwbGl0KCI6IiwgMSkpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB4IGluIGxheXkuc3BsaXQoIiwiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZm9yIGNvbCwgd2VpZ2h0IGluIGxheXkuaXRlbXMoKToKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vdXRsZXQuY29sdW1uY29uZmlndXJlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50KGNvbCksIHdlaWdodD1pbnQod2VpZ2h0KQogICAgICAgICAgICAgICAgICAgICAgICApCgogICAgICAgIGlmIGhhc2F0dHIoc2VsZi5hdHRycywgInBvcyIpOgogICAgICAgICAgICBwb3MgPSBzZWxmLmF0dHJzLnBvcwogICAgICAgICAgICBpZiAicGFjayIgaW4gcG9zIGFuZCBwb3NbInBhY2siXToKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHtrOiB2IGZvciBrLCB2IGluIHBvcy5pdGVtcygpIGlmIGsgaW4gcGFja19wYXJhbXN9CiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKHBvc1sicGFjayJdLCBzdHIpOgogICAgICAgICAgICAgICAgICAgIHBhcmFtc1sic2lkZSJdID0gcG9zWyJwYWNrIl0KICAgICAgICAgICAgICAgIHNlbGYuY29udGFpbmVyLnBhY2soKipwYXJhbXMpCiAgICAgICAgICAgIGVsaWYgImdyaWQiIGluIHBvczoKICAgICAgICAgICAgICAgIGdyaWQgPSB7azogdiBmb3IgaywgdiBpbiBwb3MuaXRlbXMoKSBpZiBrIGluIGdyaWRfcGFyYW1zfQogICAgICAgICAgICAgICAgY29vcmQgPSByZXNvbHZlKHBvc1siZ3JpZCJdKQogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShjb29yZCwgdHVwbGUpOgogICAgICAgICAgICAgICAgICAgIGlmIGxlbihjb29yZCkgPT0gMjoKICAgICAgICAgICAgICAgICAgICAgICAgKHgsIHkpID0gY29vcmQKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsiY29sdW1uIl0gPSB4CiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbInJvdyJdID0geQogICAgICAgICAgICAgICAgICAgIGVsaWYgbGVuKGNvb3JkKSA9PSA0OgogICAgICAgICAgICAgICAgICAgICAgICAoeCwgeSwgeHMsIHlzKSA9IGNvb3JkCiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbImNvbHVtbiJdID0geAogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJyb3ciXSA9IHkKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsiY29sdW1uc3BhbiJdID0geHMKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsicm93c3BhbiJdID0geXMKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJ3cm9uZyBncmlkIHR1cGxlIiwgY29vcmQpCiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5ncmlkKCoqZ3JpZCkKCgpjbGFzcyBUa0NvbXBvbmVudChCYXNlQ29tcG9uZW50KToKICAgIFdpZGdldCA9IE5vbmUKICAgIF9hdHRyX2lnbm9yZSA9ICgpCiAgICBfcGFyYW1zID0gTm9uZQoKICAgIGRlZiBfX2luaXRfc3ViY2xhc3NfXyhjbHMpOgogICAgICAgIGNscy5BdHRycyA9IGRhdGFjbGFzcyhjbHMuQXR0cnMpCiAgICAgICAgc2FtZSA9IFsKICAgICAgICAgICAgeAogICAgICAgICAgICBmb3IgeCBpbiBkaXIoY2xzLkF0dHJzKQogICAgICAgICAgICBpZiBub3QgeC5zdGFydHN3aXRoKCJfIikgYW5kIHggbm90IGluIGNscy5fYXR0cl9pZ25vcmUKICAgICAgICBdCiAgICAgICAgY2xzLmNvbmZfYWxpYXNzZXMgPSB7CiAgICAgICAgICAgICoqZGljdCh6aXAoc2FtZSwgc2FtZSkpLAogICAgICAgIH0KICAgICAgICBkZWwgc2FtZQoKICAgIGRlZiBjcmVhdGUoc2VsZiwgcGFyZW50KToKICAgICAgICBzdXBlcigpLmNyZWF0ZSgpCiAgICAgICAgc2VsZi5fcGFyYW1zID0gcGFyYW1zID0gewogICAgICAgICAgICAqKnsKICAgICAgICAgICAgICAgIHNlbGYuY29uZl9hbGlhc3Nlc1trXTogdgogICAgICAgICAgICAgICAgZm9yIGssIHYgaW4gc2VsZi5hdHRycy5fdmFsdWVzLml0ZW1zKCkKICAgICAgICAgICAgICAgIGlmIGsgaW4gc2VsZi5jb25mX2FsaWFzc2VzIGFuZCB2IGlzIG5vdCBOaWwKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzZWxmLl9jcmVhdGUocGFyZW50LCBwYXJhbXMpCiAgICAgICAgc2VsZi5tYWtlX2JpbmRpbmdzKCkKICAgICAgICBzZWxmLmluaXRfZ2VvbWV0cnkoKQogICAgICAgIGZvciBjaGlsZCBpbiBzZWxmLmNoaWxkcmVuOgogICAgICAgICAgICBjaGlsZC5jcmVhdGUoc2VsZi5vdXRsZXQpCgogICAgZGVmIF9jcmVhdGUoc2VsZiwgcGFyZW50LCBwYXJhbXM9e30pOgogICAgICAgIHNlbGYub3V0bGV0ID0gc2VsZi5jb250YWluZXIgPSBzZWxmLldpZGdldChwYXJlbnQsICoqcGFyYW1zKQoKICAgIGRlZiBfdXBkYXRlKHNlbGYpOgogICAgICAgIGZvciBrLCB2IGluIHsKICAgICAgICAgICAgc2VsZi5jb25mX2FsaWFzc2VzW2tdOiB2CiAgICAgICAgICAgIGZvciBrLCB2IGluIHNlbGYuYXR0cnMuX3ZhbHVlcy5pdGVtcygpCiAgICAgICAgICAgIGlmIGsgaW4gc2VsZi5jb25mX2FsaWFzc2VzIGFuZCB2IGlzIG5vdCBOaWwKICAgICAgICB9Lml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGsgPT0gInRleHQiOgogICAgICAgICAgICAgICAgc2VsZi5jb250YWluZXJbInRleHQiXSA9IHYKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VsZi5jb250YWluZXIuY29uZmlndXJlKCoqe2s6IHZ9KQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAgcmFpc2UKCgpjbGFzcyBFbnVtQ29tcG9uZW50KEJhc2VDb21wb25lbnQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgb2JqZWN0LAogICAgICAgIG5hbWVzcGFjZSwKICAgICAgICBhbGlhczogdHVwbGVbc3RyLCBzdHJdLAogICAgICAgIHBhcmVudDogIk9wdGlvbmFsW0Jhc2VDb21wb25lbnRdIiA9IE5vbmUsCiAgICAgICAgaW5zdHJ1Y3Rpb25zOiBsaXN0ID0gW10sCiAgICApOgogICAgICAgIHNlbGYuY2hpbGRyZW4gPSBbXQogICAgICAgIHNlbGYucGFyZW50ID0gcGFyZW50CiAgICAgICAgc2VsZi5wYXJlbnRfbmFtZXNwYWNlID0gbmFtZXNwYWNlCiAgICAgICAgc2VsZi5vYmplY3QgPSBvYmplY3QKICAgICAgICBzZWxmLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucyAgIyBpbnN0cnVjdGlvbnMKICAgICAgICBzZWxmLmFsaWFzID0gYWxpYXMKICAgICAgICBpZiBwYXJlbnQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuLmFwcGVuZChzZWxmKQoKICAgIGRlZiBjcmVhdGUoc2VsZiwgcGFyZW50PU5vbmUpOgogICAgICAgIHBhcmVudCA9IHBhcmVudCBvciBzZWxmLnBhcmVudC5vdXRsZXQKICAgICAgICBzZWxmLnJlbmRlcl9wYXJlbnQgPSBwYXJlbnQKICAgICAgICBzZWxmLndpZGdldHMgPSBbXQogICAgICAgIGZvciBpZHgsIHZhbCBpbiBlbnVtZXJhdGUoc2VsZi5vYmplY3QuZ2V0KCkpOgogICAgICAgICAgICBhaWR4LCBhdmFsID0gc2VsZi5hbGlhcwogICAgICAgICAgICBuYW1lc3BhY2UgPSB3cml0ZWFibGUuTmFtZXNwYWNlKHBhcmVudHM9W3NlbGYucGFyZW50X25hbWVzcGFjZV0pCiAgICAgICAgICAgIG5hbWVzcGFjZVthaWR4XSA9IGlkeAogICAgICAgICAgICBuYW1lc3BhY2VbYXZhbF0gPSB2YWwKICAgICAgICAgICAgZm9yIGluc3RyIGluIHNlbGYuaW5zdHJ1Y3Rpb25zOgogICAgICAgICAgICAgICAgY29tcCA9IGluc3RyLl9ldmFsKG5hbWVzcGFjZSkKICAgICAgICAgICAgICAgIGNvbXAuY3JlYXRlKHBhcmVudCkKICAgICAgICAgICAgICAgIGVsdCA9IGNvbXAuY29udGFpbmVyCiAgICAgICAgICAgICAgICBzZWxmLndpZGdldHMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIChjb21wLCBlbHQpLAogICAgICAgICAgICAgICAgKQoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgd2lkZ2V0cyA9IHNlbGYud2lkZ2V0cy5jb3B5KCkKICAgICAgICBzZWxmLmNyZWF0ZShzZWxmLnJlbmRlcl9wYXJlbnQpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJlbmRlcl9wYXJlbnQudXBkYXRlKCkgICMgZm9yIHNtb290aGVyIHJlbmRlcnJpbmcKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBwYXNzCiAgICAgICAgZm9yIGNvbXBvbmVudCwgd2lkZ2V0IGluIHdpZGdldHM6CiAgICAgICAgICAgIGNvbXBvbmVudC5jb250YWluZXIgPSBjb21wb25lbnQub3V0bGV0ID0gTm9uZQogICAgICAgICAgICB3aWRnZXQuZGVzdHJveSgpCiAgICAgICAgICAgIGRlbCB3aWRnZXQKCgpjbGFzcyBJZkNvbXBvbmVudChCYXNlQ29tcG9uZW50KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGNvbmRpdGlvbiwKICAgICAgICBuYW1lc3BhY2UsCiAgICAgICAgcGFyZW50OiAiT3B0aW9uYWxbQmFzZUNvbXBvbmVudF0iID0gTm9uZSwKICAgICAgICBpbnN0cnVjdGlvbnM6IGxpc3QgPSBbXSwKICAgICk6CiAgICAgICAgc2VsZi5jaGlsZHJlbiA9IFtdCiAgICAgICAgc2VsZi5wYXJlbnQgPSBwYXJlbnQKICAgICAgICBzZWxmLm5hbWVzcGFjZSA9IG5hbWVzcGFjZQogICAgICAgIHNlbGYuY29uZGl0aW9uID0gY29uZGl0aW9uCiAgICAgICAgc2VsZi5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnMgICMgaW5zdHJ1Y3Rpb25zCiAgICAgICAgaWYgcGFyZW50IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnBhcmVudC5jaGlsZHJlbi5hcHBlbmQoc2VsZikKCiAgICBkZWYgY3JlYXRlKHNlbGYsIHBhcmVudD1Ob25lKToKICAgICAgICBwYXJlbnQgPSBwYXJlbnQgb3Igc2VsZi5wYXJlbnQub3V0bGV0CiAgICAgICAgc2VsZi5yZW5kZXJfcGFyZW50ID0gcGFyZW50CiAgICAgICAgc2VsZi53aWRnZXRzID0gW10KICAgICAgICBzZWxmLmNvbmRpdGlvbi5zdWJzY3JpYmUoc2VsZi5fdXBkYXRlKQogICAgICAgIGlmIHNlbGYuY29uZGl0aW9uLmdldCgpOgogICAgICAgICAgICBmb3IgaW5zdHIgaW4gc2VsZi5pbnN0cnVjdGlvbnM6CiAgICAgICAgICAgICAgICBjb21wID0gaW5zdHIuX2V2YWwoc2VsZi5uYW1lc3BhY2UpCiAgICAgICAgICAgICAgICBjb21wLmNyZWF0ZShwYXJlbnQpCiAgICAgICAgICAgICAgICBzZWxmLndpZGdldHMuYXBwZW5kKAogICAgICAgICAgICAgICAgICAgIChjb21wLmNvbnRhaW5lciwgY29tcC5jb250YWluZXIpLAogICAgICAgICAgICAgICAgKQoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgc3VwZXIoKS51cGRhdGUoKQogICAgICAgIHdpZGdldHMgPSBzZWxmLndpZGdldHMuY29weSgpCiAgICAgICAgc2VsZi5jcmVhdGUoc2VsZi5yZW5kZXJfcGFyZW50KQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yZW5kZXJfcGFyZW50LnVwZGF0ZSgpICAjIGZvciBzbW9vdGhlciByZW5kZXJyaW5nCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcGFzcwogICAgICAgIGZvciBjb21wb25lbnQsIHdpZGdldCBpbiB3aWRnZXRzOgogICAgICAgICAgICBjb21wb25lbnQud2lkZ2V0ID0gTm9uZQogICAgICAgICAgICB3aWRnZXQuZGVzdHJveSgpCiAgICAgICAgICAgIGRlbCB3aWRnZXQKCgpjbGFzcyBDb21wb25lbnQoQmFzZUNvbXBvbmVudCk6CiAgICBjb2RlOiBPcHRpb25hbFtzdHJdID0gTm9uZQogICAgX3RlbXBsYXRlX2NhY2hlOiB0dXBsZVtPcHRpb25hbFtzdHJdLCBPcHRpb25hbFt0ZW1wbGF0ZS5UZW1wbGF0ZV1dID0gKAogICAgICAgIE5vbmUsCiAgICAgICAgTm9uZSwKICAgICkKCiAgICBkZWYgaW5pdChzZWxmKToKICAgICAgICBwYXNzCgogICAgQGFubm90YXRlCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaXRlbTogc3RyKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLm5hbWVzcGFjZVtpdGVtXQogICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbHMoKVtpdGVtXQogICAgICAgICAgICBleGNlcHQgSW5kZXhFcnJvciBhcyBlOgogICAgICAgICAgICAgICAgcmFpc2UgSW5kZXhFcnJvcihpdGVtKSBmcm9tIGUKCiAgICBkZWYgX19pbml0X3N1YmNsYXNzX18oY2xzKToKICAgICAgICBjbHMuZ2V0X3RlbXBsYXRlKCkKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBnZXRfdGVtcGxhdGUoY2xzKToKICAgICAgICBjb2RlID0gY2xzLmNvZGUgb3IgY2xzLl9fZG9jX18KICAgICAgICBpZiBjbHMuX3RlbXBsYXRlX2NhY2hlWzBdICE9IGNvZGU6CiAgICAgICAgICAgIGNscy5fdGVtcGxhdGVfY2FjaGUgPSBjb2RlLCB0ZW1wbGF0ZS5UZW1wbGF0ZS5wYXJzZShjb2RlKQogICAgICAgIHJldHVybiBjbHMuX3RlbXBsYXRlX2NhY2hlWzFdCgogICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsIGl0ZW06IHN0ciwgdmFsdWUpOgogICAgICAgIHNlbGYubmFtZXNwYWNlW2l0ZW1dID0gdmFsdWUKCiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RvcmU9Tm9uZSwgKipwYXJhbXMpOgogICAgICAgIHdyaXRlYWJsZS5TdWJzY3JpYmVyLl9faW5pdF9fKHNlbGYpCiAgICAgICAgc2VsZi5uYW1lc3BhY2UgPSB3cml0ZWFibGUuTmFtZXNwYWNlKCkKICAgICAgICBzZWxmLm5hbWVzcGFjZS52YXJzLnVwZGF0ZShwYXJhbXMpCiAgICAgICAgc2VsZi5uYW1lc3BhY2UudmFyc1sic3RvcmUiXSA9IHN0b3JlCiAgICAgICAgc2VsZi5zdWJzY3JpYmVfdG8oc2VsZi5uYW1lc3BhY2UsIHNlbGYudXBkYXRlKQogICAgICAgIGZvciBhdHRyX25hbWUgaW4gZGlyKHNlbGYpOgogICAgICAgICAgICBpZiBub3QgYXR0cl9uYW1lLnN0YXJ0c3dpdGgoIl8iKToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBzZWxmLm5hbWVzcGFjZVthdHRyX25hbWVdID0gZ2V0YXR0cihzZWxmLCBhdHRyX25hbWUpCiAgICAgICAgICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgIHNlbGYuaW5pdCgpCiAgICAgICAgc2VsZi5yZW5kZXJyZWQgPSBGYWxzZQogICAgICAgIHNlbGYuX2NvbXBvbmVudF8gPSBzZWxmLmdldF90ZW1wbGF0ZSgpLmV2YWwoc2VsZi5uYW1lc3BhY2UpCgogICAgZGVmIHJlbmRlcihzZWxmLCBtYXN0ZXIpOgogICAgICAgIHNlbGYuX2NvbXBvbmVudF8uY3JlYXRlKG1hc3RlcikKICAgICAgICBzZWxmLnJlZGVycmVkID0gVHJ1ZQogICAgICAgIHJldHVybiBzZWxmLmNvbnRhaW5lcgoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgaWYgc2VsZi5yZW5kZXJyZWQ6CiAgICAgICAgICAgIHNlbGYuX2NvbXBvbmVudF8udXBkYXRlKCkKCiAgICBkZWYgZXhwb3NlKHNlbGYsIGZ1bmMpOgogICAgICAgIHNlbGYubmFtZXNwYWNlW2Z1bmMuX19uYW1lX19dID0gZnVuYwoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGNvbnRhaW5lcihzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5fY29tcG9uZW50Xy5jb250YWluZXIKCiAgICBAcHJvcGVydHkKICAgIGRlZiBvdXRsZXQoc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBvdXQgPSBzZWxmWyJvdXRsZXQiXQogICAgICAgICAgICBpZiBvdXQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICByZXR1cm4gb3V0Lm91dGxldAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBleGNlcHQgTmFtZUVycm9yOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBjcmVhdGVfdGsoc2VsZiwgcm9vdD1Ob25lKToKICAgICAgICAiIiJDcmVhdGUgdGhlIGNvbXBvbmVudCBpbiBhIGZ1bGwgVGsgd2luZG93LiIiIgogICAgICAgIHJvb3QuY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKQogICAgICAgIHJvb3Qucm93Y29uZmlndXJlKDAsIHdlaWdodD0xKQoKICAgICAgICBzZWxmLnJlbmRlcihyb290KS5ncmlkKGNvbHVtbj0wLCByb3c9MCwgc3RpY2t5PSJuc2V3IikKICAgICAgICByZXR1cm4gcm9vdAoKICAgIGRlZiBwb3B1cChzZWxmLCAqKnBhcmFtcyk6CiAgICAgICAgIiIiQ3JlYXRlIHRoZSBjb21wb25lbnQgaW4gYSBmdWxsIFRrIHdpbmRvdy4iIiIKICAgICAgICBmcm9tIHRraW50ZXIgaW1wb3J0IFRvcGxldmVsCgogICAgICAgIHJvb3QgPSBUb3BsZXZlbCgpCiAgICAgICAgcm9vdC5jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpCiAgICAgICAgcm9vdC5yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpCgogICAgICAgIHNlbGYucmVuZGVyKHJvb3QpLmdyaWQoY29sdW1uPTAsIHJvdz0wLCBzdGlja3k9Im5zZXciKQogICAgICAgIHJldHVybiByb290CgoKZGVmIGNvbXBvbmVudChmdW5jKToKICAgIGRlZiBjb21wb25lbnRfaW5pdChzZWxmKToKICAgICAgICB2YXIgPSBmdW5jKHNlbGYpCiAgICAgICAgaWYgdmFyIGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLm5hbWVzcGFjZS52YXJzLnVwZGF0ZSh2YXIpCgogICAgcmV0dXJuIHR5cGUoCiAgICAgICAgZnVuYy5fX25hbWVfXywKICAgICAgICAoQ29tcG9uZW50LCksCiAgICAgICAgewogICAgICAgICAgICAiaW5pdCI6IGNvbXBvbmVudF9pbml0LAogICAgICAgICAgICAiX19kb2NfXyI6IGZ1bmMuX19kb2NfXywKICAgICAgICB9LAogICAgKQo",
					"AQAAAAAAAAABAAAAHBMAAAAAAAAcEwAAAAAAAAAAAAAAAPC/"
				],
				[
					814,
					1,
					"left_delete",
					null,
					"AQAAANISAAAAAAAA0hIAAAAAAAAoAAAAICAgICAgICBwcmludChjbHMsIGNscy5fX2Fubm90YXRpb25zX18pCg",
					"AQAAAAAAAAABAAAA0hIAAAAAAAD6EgAAAAAAAAAAAAAAAPC/"
				],
				[
					817,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAX0EAAAAAAABfQQAAIiIiClRoZSBtYWluIGNvbXBvbmVudHMgdG9vbC4KCkNvcHlyaWdodCAoQykgMjAyNCAga2VuLW1vcmVsClRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5Cml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgpUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQpHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgoKWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoiIiIKCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR5cGUsIEFueQpmcm9tIGluc3BlY3QgaW1wb3J0IF9lbXB0eQoKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQoKZnJvbSAuIGltcG9ydCBOaWwsIHJlc29sdmUKZnJvbSAuIGltcG9ydCB0ZW1wbGF0ZSwgd3JpdGVhYmxlCgpBdHRyU3BlYyA9IGRpY3Rbc3RyLCB0dXBsZVtUeXBlLCBPcHRpb25hbFtBbnldXV0KCgpjbGFzcyBBdHRyaWJ1dGVNYW5hZ2VyOgogICAgIiIiQW4gb2JqZWN0IHRvIG1hbmFnZSBjb21wb25lbnQgYXR0cmlidXRlcy4iIiIKCiAgICBfcGFyYW1zOiBkaWN0W0F0dHJTcGVjXQogICAgX3N1YnNjcmliZXI6IHdyaXRlYWJsZS5TdWJzY3JpYmVyCiAgICBfc3Vic2NyaWJlYWJsZTogd3JpdGVhYmxlLlN1YnNjcmliZWFibGUKCiAgICBkZWYgX19pbml0X18oc2VsZiwgY29tcG9uZW50OiAiQmFzZUNvbXBvbmVudCIsIGt3YXJnczogZGljdFtzdHIsIHN0cl0pOgogICAgICAgICIiIkNyZWF0ZSB0aGUgQXR0aWJ1dGUgbWFuYWdlciBmcm9tIGNvbXBvbmVudCBhbmQgYXJncy4iIiIKICAgICAgICBzZWxmLl9jb21wb25lbnQgPSBjb21wb25lbnQKICAgICAgICBzZWxmLl9wYXJhbXMgPSB7fQogICAgICAgIGZvciBuYW1lLCBhbm4sIGRlZmF1bHQgaW4gY29tcG9uZW50LmdldF9wYXJhbXMoKToKICAgICAgICAgICAgc2VsZi5fcGFyYW1zW25hbWVdID0gKGFubiwgZGVmYXVsdCkKICAgICAgICBzZWxmLl9zdWJzY3JpYmVyID0gd3JpdGVhYmxlLlN1YnNjcmliZXIoKQogICAgICAgIHNlbGYuX3N1YnNjcmliZWFibGUgPSB3cml0ZWFibGUuU3Vic2NyaWJlYWJsZSgpCiAgICAgICAgc2VsZi5fc3Vic2NyaWJlID0gc2VsZi5fc3Vic2NyaWJlYWJsZS5zdWJzY3JpYmUKICAgICAgICBzZWxmLl9hcmdzID0ge30KICAgICAgICBzZWxmLl9sYXN0ID0gTm9uZQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGt3YXJncy5pdGVtcygpOgogICAgICAgICAgICBzdWIsIHZhbCA9IHRlbXBsYXRlLmV2YWx1YXRlX2xpdGVyYWwoCiAgICAgICAgICAgICAgICB2YWx1ZSwgc2VsZi5fY29tcG9uZW50Lm5hbWVzcGFjZQogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYuX2FyZ3Nba2V5XSA9IChzdWIsIHZhbCkKICAgICAgICAgICAgaWYgc3ViOgogICAgICAgICAgICAgICAgc2VsZi5fc3Vic2NyaWJlci5zdWJzY3JpYmVfdG8odmFsLCBzZWxmLl91cGRhdGUpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQoKICAgIGRlZiBfdXBkYXRlKHNlbGYpOgogICAgICAgIHZhbHMgPSBzZWxmLl92YWx1ZXMuY29weSgpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQogICAgICAgIGlmIHNlbGYuX3ZhbHVlcyAhPSB2YWxzOgogICAgICAgICAgICBzZWxmLl9zdWJzY3JpYmVhYmxlLndhcm5fc3Vic2NyaWJlcnMoKQoKICAgIGRlZiBfY29sbGVjdF92YWx1ZXMoc2VsZik6CiAgICAgICAgc2VsZi5fdmFsdWVzID0ge30KCiAgICAgICAgZGVmIGZpbHRlcnModmFsLCBnZXQsIGFubiwgZGVmYXVsdCk6CiAgICAgICAgICAgIGZyb20gLiBpbXBvcnQgbWVkaWEsIHdyaXRlYWJsZQogICAgICAgICAgICBmcm9tIHRraW50ZXIgaW1wb3J0IEltYWdlCgogICAgICAgICAgICBpZiB2YWwgaXMgTmlsOgogICAgICAgICAgICAgICAgdmFsID0gZGVmYXVsdAogICAgICAgICAgICBpZiBhbm4gaXMgd3JpdGVhYmxlLldyaXRlYWJsZSBhbmQgaXNpbnN0YW5jZSgKICAgICAgICAgICAgICAgIHZhbCwgd3JpdGVhYmxlLldyaXRlYWJsZQogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgcmV0dXJuIHZhbAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIG1lZGlhLkltYWdlKToKICAgICAgICAgICAgICAgICAgICBwcmludCgKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLCBpc2luc3RhbmNlKGFubiwgdHlwZSksIGFubiwgaXNzdWJjbGFzcyhhbm4sIEltYWdlKQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmIGdldDoKICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIGFubiBpcyBJbWFnZSBvciAoCiAgICAgICAgICAgICAgICAgICAgaXNpbnN0YW5jZShhbm4sIHR5cGUpCiAgICAgICAgICAgICAgICAgICAgYW5kIGlzc3ViY2xhc3MoYW5uLCBJbWFnZSkKICAgICAgICAgICAgICAgICAgICBhbmQgaXNpbnN0YW5jZSh2YWwsIG1lZGlhLkltYWdlKQogICAgICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodmFsLCBtZWRpYS5JbWFnZSk6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQodmFsKQogICAgICAgICAgICAgICAgcmV0dXJuIHZhbAoKICAgICAgICBkZWYgc2V0X3BhcmFtKG9iaiwga2V5LCB2YWx1ZSwgYW5ub3RhdGlvbiwgZGVmYXVsdCk6CiAgICAgICAgICAgIGdldCwgdmFsID0gdmFsdWUKICAgICAgICAgICAgaWYgIjoiIGluIGtleToKICAgICAgICAgICAgICAgIHByZSwga2V5ID0ga2V5LnNwbGl0KCI6IiwgMSkKCiAgICAgICAgICAgICAgICBpZiBwcmUgbm90IGluIG9iaiBvciBub3QgaXNpbnN0YW5jZShvYmpbcHJlXSwgZGljdCk6CiAgICAgICAgICAgICAgICAgICAgb2JqW3ByZV0gPSB7fQogICAgICAgICAgICAgICAgc2V0X3BhcmFtKG9ialtwcmVdLCBrZXksIHZhbHVlLCBhbm5vdGF0aW9uLCBkZWZhdWx0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgb2JqW2tleV0gPSBmaWx0ZXJzKHZhbCwgZ2V0LCBhbm5vdGF0aW9uLCBkZWZhdWx0KQoKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBzZWxmLl9hcmdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGtleSBpbiBzZWxmLl9wYXJhbXM6CiAgICAgICAgICAgICAgICBhbm4sIHZhbCA9IHNlbGYuX3BhcmFtc1trZXldCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhbm4gPSB2YWwgPSBOb25lCiAgICAgICAgICAgIHNldF9wYXJhbShzZWxmLl92YWx1ZXMsIGtleSwgdmFsdWUsIGFubiwgdmFsKQoKICAgIGRlZiBfZ2V0X3dyaXRlYWJsZShzZWxmLCBuYW1lKToKICAgICAgICB2YWwgPSBzZWxmLl9hcmdzW25hbWVdWzFdCiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIHdyaXRlYWJsZS5Xcml0ZWFibGUpOgogICAgICAgICAgICByZXR1cm4gdmFsCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiU29ycnkuLi4iKQoKICAgIGRlZiBfX2dldGF0dHJfXyhzZWxmLCBhdHRyOiBzdHIpOgogICAgICAgICIiIkdldCBhdHRyaWJ1dGUgZnJvbSB2YWx1ZXMuIiIiCiAgICAgICAgaWYgYXR0clswXSA9PSAiXyI6CiAgICAgICAgICAgIHJldHVybiBzdXBlcigpLl9fZ2V0YXR0cl9fKGF0dHIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbHVlc1thdHRyXQogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3IgYXMgZToKICAgICAgICAgICAgICAgIHJhaXNlIEF0dHJpYnV0ZUVycm9yKCkgZnJvbSBlCgoKY2xhc3MgQmFzZUNvbXBvbmVudCh3cml0ZWFibGUuU3Vic2NyaWJlcik6CiAgICAiIiJUaGUgYmFzZSBjb21wb25lbnQgY2xhc3MuIiIiCgogICAgcGFyZW50ID0gTm9uZQogICAgY2hpbGRyZW46IGxpc3QKICAgIF9wb3NfID0gTm9uZQogICAgY29udGFpbmVyID0gTm9uZQogICAgb3V0bGV0ID0gTm9uZQogICAgX2FsaWduZXIgPSBOb25lCgogICAgZGVmIF9pbml0X3N1YmNsYXNzKGNscyk6CiAgICAgICAgaWYgbm90IGhhc2F0dHIoY2xzLCAiQXR0cnMiKToKICAgICAgICAgICAgY2xzLkF0dHJzID0gdHlwZShjbHMuX19uYW1lX18gKyAiLkF0dHJzIiwgKCksIHt9KQogICAgICAgIGNscy5BdHRycyA9IGRhdGFjbGFzcyhjbHMuQXR0cnMpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZ2V0X3BhcmFtcyhjbHMpIC0+IHR1cGxlW3R1cGxlW3N0ciwgdHlwZSwgQW55XV06CiAgICAgICAgIiIiR2V0IGFuIGl0ZXJhYmxlIG9mIHR1cGxlcyAobmFtZSwgYW5ub3RhdGlvbiwgZGVmYXVsdCkuIiIiCiAgICAgICAgYW5ucyA9IHt9CiAgICAgICAgcGFyYW1zID0gW10KICAgICAgICBmb3IgbmFtZSwgYW5uIGluIGNscy5BdHRycy5fX2Fubm90YXRpb25zX18uaXRlbXMoKToKICAgICAgICAgICAgYW5uc1tuYW1lXSA9IGFubgogICAgICAgIGZvciBuYW1lLCB2YWwgaW4gdmFycyhjbHMuQXR0cnMpLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIG5hbWUgaW4gYW5uczoKICAgICAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoKG5hbWUsIGFubnNbbmFtZV0sIHZhbCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKChuYW1lLCBfZW1wdHksIHZhbCkpCiAgICAgICAgcmV0dXJuIHR1cGxlKHBhcmFtcykKCiAgICBfX2luaXRfc3ViY2xhc3NfXyA9IF9pbml0X3N1YmNsYXNzCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbmFtZXNwYWNlOiAid3JpdGVhYmxlLk5hbWVzcGFjZSIgPSB7fSwKICAgICAgICBwYXJlbnQ9Tm9uZSwKICAgICAgICBhdHRyczogZGljdFtzdHJdID0ge30sCiAgICAgICAgcGFyYW1zOiBkaWN0W3N0cl0gPSB7fSwKICAgICk6CiAgICAgICAgIiIiSW5pdGlhbGl6ZSBCYXNlIENvbXBvbmVudC4iIiIKICAgICAgICB3cml0ZWFibGUuU3Vic2NyaWJlci5fX2luaXRfXyhzZWxmKQogICAgICAgIHNlbGYuY2hpbGRyZW4gPSBbXQogICAgICAgIHNlbGYucGFyZW50ID0gcGFyZW50CiAgICAgICAgc2VsZi5uYW1lc3BhY2UgPSBuYW1lc3BhY2UKICAgICAgICBpZiBwYXJlbnQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuLmFwcGVuZChzZWxmKQogICAgICAgIHNlbGYucmF3X2F0dHJzID0gYXR0cnMKICAgICAgICBzZWxmLmF0dHJzID0gQXR0cmlidXRlTWFuYWdlcihzZWxmLCBhdHRycykKICAgICAgICBzZWxmLmF0dHJzLl9zdWJzY3JpYmUoc2VsZiwgc2VsZi5fdXBkYXRlKQoKICAgIGRlZiBiaW5kX2F0dHJzKHNlbGYsIGF0dHJzOiBkaWN0W3N0cl0pOgogICAgICAgICIiIkJpbmQgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGVzIHRvIHRoZSBjb21wb25lbnQuIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLmF0dHJzID0gc2VsZi5fX2NsYXNzX18uQXR0cnMoKiphdHRycykKICAgICAgICBleGNlcHQgVHlwZUVycm9yIGFzIGU6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigKICAgICAgICAgICAgICAgIGYiZXJyb3Igd2hpbGUgYmluZGluZyBhcmd1bWVudHMgdG8ge3NlbGYuX19jbGFzc19fIXJ9IiwKICAgICAgICAgICAgICAgIGUsCiAgICAgICAgICAgICAgICBzZWxmLkF0dHJzLAogICAgICAgICAgICApIGZyb20gTm9uZQoKICAgIGRlZiBfYWxpZ25fd2lkZ2V0KHNlbGYsIHdpZGdldCwgcGFyYW1zOiBkaWN0W3N0cl0pOgogICAgICAgIGlmIHNlbGYuX2NoaWxkcmVuX2FsaWduID09ICJyIjoKICAgICAgICAgICAgd2lkZ2V0LmdyaWQoY29sdW1uPXNlbGYuX2FsaWduX29mZnNldCwgcm93PTAsICoqcGFyYW1zKQogICAgICAgIGVsaWYgc2VsZi5fY2hpbGRyZW5fYWxpZ24gPT0gImMiOgogICAgICAgICAgICB3aWRnZXQuZ3JpZChyb3c9c2VsZi5fYWxpZ25fb2Zmc2V0LCBjb2x1bW49MCwgKipwYXJhbXMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigidW5rbm93biBhbGlnbiBvZmZzZXQ6Iiwgc2VsZi5fY2hpbGRyZW5fYWxpZ24pCiAgICAgICAgc2VsZi5fYWxpZ25fb2Zmc2V0ICs9IDEKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGYuYXR0cnMuX2NvbGxlY3RfdmFsdWVzKCkKICAgICAgICBmb3IgY2hpbGQgaW4gc2VsZi5jaGlsZHJlbjoKICAgICAgICAgICAgY2hpbGQudXBkYXRlKCkKICAgICAgICBzZWxmLl91cGRhdGUoKQoKICAgIGRlZiBfdXBkYXRlKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgbWFrZV9iaW5kaW5ncyhzZWxmKToKICAgICAgICBmb3IgZXZlbnQsIGhhbmRsZXIgaW4gc2VsZi5ldmVudF9iaW5kcy5pdGVtcygpOgogICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5iaW5kKGYiPHtldmVudH0+IiwgcmVzb2x2ZShoYW5kbGVyKSkKCiAgICBkZWYgY3JlYXRlKHNlbGYpOgogICAgICAgIHNlbGYuZXZlbnRfYmluZHMgPSB7fQoKICAgIGRlZiBpbml0X2dlb21ldHJ5KHNlbGYpOgogICAgICAgIGdyaWRfcGFyYW1zID0gKCJzdGlja3kiLCkKICAgICAgICBwYWNrX3BhcmFtcyA9ICgKICAgICAgICAgICAgInNpZGUiLAogICAgICAgICAgICAiYW5jaG9yIiwKICAgICAgICAgICAgImV4cGFuZCIsCiAgICAgICAgICAgICJmaWxsIiwKICAgICAgICAgICAgImlwYWR4IiwKICAgICAgICAgICAgInBhZHgiLAogICAgICAgICAgICAiaXBhZHkiLAogICAgICAgICAgICAicGFkeSIsCiAgICAgICAgKQogICAgICAgIGlmIGhhc2F0dHIoc2VsZi5hdHRycywgImxheSIpIGFuZCBzZWxmLmF0dHJzLmxheToKICAgICAgICAgICAgbGF5ID0gc2VsZi5hdHRycy5sYXkKICAgICAgICAgICAgaWYgInciIGluIGxheToKICAgICAgICAgICAgICAgIGlmICJ4IiBpbiBsYXlbInciXToKICAgICAgICAgICAgICAgICAgICBsYXl4ID0gcmVzb2x2ZShsYXlbInciXVsieCJdKQogICAgICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UobGF5eCwgc3RyKToKICAgICAgICAgICAgICAgICAgICAgICAgbGF5eCA9IGRpY3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGUobWFwKHN0ci5zdHJpcCwgeC5zcGxpdCgiOiIsIDEpKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgeCBpbiBsYXl4LnNwbGl0KCIsIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIGZvciBjb2wsIHdlaWdodCBpbiBsYXl4Lml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3V0bGV0LmNvbHVtbmNvbmZpZ3VyZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludChjb2wpLCB3ZWlnaHQ9aW50KHdlaWdodCkKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgaWYgInkiIGluIGxheVsidyJdOgogICAgICAgICAgICAgICAgICAgIGxheXkgPSByZXNvbHZlKHNlbGYuYXR0cnMubGF5WyJ3Il1bInkiXSkKICAgICAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGxheXksIHN0cik6CiAgICAgICAgICAgICAgICAgICAgICAgIGxheXkgPSBkaWN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlKG1hcChzdHIuc3RyaXAsIHguc3BsaXQoIjoiLCAxKSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gbGF5eS5zcGxpdCgiLCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBmb3IgY29sLCB3ZWlnaHQgaW4gbGF5eS5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm91dGxldC5jb2x1bW5jb25maWd1cmUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQoY29sKSwgd2VpZ2h0PWludCh3ZWlnaHQpCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgaWYgaGFzYXR0cihzZWxmLmF0dHJzLCAicG9zIik6CiAgICAgICAgICAgIHBvcyA9IHNlbGYuYXR0cnMucG9zCiAgICAgICAgICAgIGlmICJwYWNrIiBpbiBwb3MgYW5kIHBvc1sicGFjayJdOgogICAgICAgICAgICAgICAgcGFyYW1zID0ge2s6IHYgZm9yIGssIHYgaW4gcG9zLml0ZW1zKCkgaWYgayBpbiBwYWNrX3BhcmFtc30KICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UocG9zWyJwYWNrIl0sIHN0cik6CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zWyJzaWRlIl0gPSBwb3NbInBhY2siXQogICAgICAgICAgICAgICAgc2VsZi5jb250YWluZXIucGFjaygqKnBhcmFtcykKICAgICAgICAgICAgZWxpZiAiZ3JpZCIgaW4gcG9zOgogICAgICAgICAgICAgICAgZ3JpZCA9IHtrOiB2IGZvciBrLCB2IGluIHBvcy5pdGVtcygpIGlmIGsgaW4gZ3JpZF9wYXJhbXN9CiAgICAgICAgICAgICAgICBjb29yZCA9IHJlc29sdmUocG9zWyJncmlkIl0pCiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGNvb3JkLCB0dXBsZSk6CiAgICAgICAgICAgICAgICAgICAgaWYgbGVuKGNvb3JkKSA9PSAyOgogICAgICAgICAgICAgICAgICAgICAgICAoeCwgeSkgPSBjb29yZAogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJjb2x1bW4iXSA9IHgKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsicm93Il0gPSB5CiAgICAgICAgICAgICAgICAgICAgZWxpZiBsZW4oY29vcmQpID09IDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICh4LCB5LCB4cywgeXMpID0gY29vcmQKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsiY29sdW1uIl0gPSB4CiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbInJvdyJdID0geQogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJjb2x1bW5zcGFuIl0gPSB4cwogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJyb3dzcGFuIl0gPSB5cwogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIndyb25nIGdyaWQgdHVwbGUiLCBjb29yZCkKICAgICAgICAgICAgICAgIHNlbGYuY29udGFpbmVyLmdyaWQoKipncmlkKQoKCmNsYXNzIFRrQ29tcG9uZW50KEJhc2VDb21wb25lbnQpOgogICAgV2lkZ2V0ID0gTm9uZQogICAgX2F0dHJfaWdub3JlID0gKCkKICAgIF9wYXJhbXMgPSBOb25lCgogICAgZGVmIF9faW5pdF9zdWJjbGFzc19fKGNscyk6CiAgICAgICAgY2xzLkF0dHJzID0gZGF0YWNsYXNzKGNscy5BdHRycykKICAgICAgICBzYW1lID0gWwogICAgICAgICAgICB4CiAgICAgICAgICAgIGZvciB4IGluIGRpcihjbHMuQXR0cnMpCiAgICAgICAgICAgIGlmIG5vdCB4LnN0YXJ0c3dpdGgoIl8iKSBhbmQgeCBub3QgaW4gY2xzLl9hdHRyX2lnbm9yZQogICAgICAgIF0KICAgICAgICBjbHMuY29uZl9hbGlhc3NlcyA9IHsKICAgICAgICAgICAgKipkaWN0KHppcChzYW1lLCBzYW1lKSksCiAgICAgICAgfQogICAgICAgIGRlbCBzYW1lCgogICAgZGVmIGNyZWF0ZShzZWxmLCBwYXJlbnQpOgogICAgICAgIHN1cGVyKCkuY3JlYXRlKCkKICAgICAgICBzZWxmLl9wYXJhbXMgPSBwYXJhbXMgPSB7CiAgICAgICAgICAgICoqewogICAgICAgICAgICAgICAgc2VsZi5jb25mX2FsaWFzc2VzW2tdOiB2CiAgICAgICAgICAgICAgICBmb3IgaywgdiBpbiBzZWxmLmF0dHJzLl92YWx1ZXMuaXRlbXMoKQogICAgICAgICAgICAgICAgaWYgayBpbiBzZWxmLmNvbmZfYWxpYXNzZXMgYW5kIHYgaXMgbm90IE5pbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHNlbGYuX2NyZWF0ZShwYXJlbnQsIHBhcmFtcykKICAgICAgICBzZWxmLm1ha2VfYmluZGluZ3MoKQogICAgICAgIHNlbGYuaW5pdF9nZW9tZXRyeSgpCiAgICAgICAgZm9yIGNoaWxkIGluIHNlbGYuY2hpbGRyZW46CiAgICAgICAgICAgIGNoaWxkLmNyZWF0ZShzZWxmLm91dGxldCkKCiAgICBkZWYgX2NyZWF0ZShzZWxmLCBwYXJlbnQsIHBhcmFtcz17fSk6CiAgICAgICAgc2VsZi5vdXRsZXQgPSBzZWxmLmNvbnRhaW5lciA9IHNlbGYuV2lkZ2V0KHBhcmVudCwgKipwYXJhbXMpCgogICAgZGVmIF91cGRhdGUoc2VsZik6CiAgICAgICAgZm9yIGssIHYgaW4gewogICAgICAgICAgICBzZWxmLmNvbmZfYWxpYXNzZXNba106IHYKICAgICAgICAgICAgZm9yIGssIHYgaW4gc2VsZi5hdHRycy5fdmFsdWVzLml0ZW1zKCkKICAgICAgICAgICAgaWYgayBpbiBzZWxmLmNvbmZfYWxpYXNzZXMgYW5kIHYgaXMgbm90IE5pbAogICAgICAgIH0uaXRlbXMoKToKICAgICAgICAgICAgaWYgayA9PSAidGV4dCI6CiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhaW5lclsidGV4dCJdID0gdgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5jb25maWd1cmUoKip7azogdn0pCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICByYWlzZQoKCmNsYXNzIEVudW1Db21wb25lbnQoQmFzZUNvbXBvbmVudCk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBvYmplY3QsCiAgICAgICAgbmFtZXNwYWNlLAogICAgICAgIGFsaWFzOiB0dXBsZVtzdHIsIHN0cl0sCiAgICAgICAgcGFyZW50OiAiT3B0aW9uYWxbQmFzZUNvbXBvbmVudF0iID0gTm9uZSwKICAgICAgICBpbnN0cnVjdGlvbnM6IGxpc3QgPSBbXSwKICAgICk6CiAgICAgICAgc2VsZi5jaGlsZHJlbiA9IFtdCiAgICAgICAgc2VsZi5wYXJlbnQgPSBwYXJlbnQKICAgICAgICBzZWxmLnBhcmVudF9uYW1lc3BhY2UgPSBuYW1lc3BhY2UKICAgICAgICBzZWxmLm9iamVjdCA9IG9iamVjdAogICAgICAgIHNlbGYuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zICAjIGluc3RydWN0aW9ucwogICAgICAgIHNlbGYuYWxpYXMgPSBhbGlhcwogICAgICAgIGlmIHBhcmVudCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5wYXJlbnQuY2hpbGRyZW4uYXBwZW5kKHNlbGYpCgogICAgZGVmIGNyZWF0ZShzZWxmLCBwYXJlbnQ9Tm9uZSk6CiAgICAgICAgcGFyZW50ID0gcGFyZW50IG9yIHNlbGYucGFyZW50Lm91dGxldAogICAgICAgIHNlbGYucmVuZGVyX3BhcmVudCA9IHBhcmVudAogICAgICAgIHNlbGYud2lkZ2V0cyA9IFtdCiAgICAgICAgZm9yIGlkeCwgdmFsIGluIGVudW1lcmF0ZShzZWxmLm9iamVjdC5nZXQoKSk6CiAgICAgICAgICAgIGFpZHgsIGF2YWwgPSBzZWxmLmFsaWFzCiAgICAgICAgICAgIG5hbWVzcGFjZSA9IHdyaXRlYWJsZS5OYW1lc3BhY2UocGFyZW50cz1bc2VsZi5wYXJlbnRfbmFtZXNwYWNlXSkKICAgICAgICAgICAgbmFtZXNwYWNlW2FpZHhdID0gaWR4CiAgICAgICAgICAgIG5hbWVzcGFjZVthdmFsXSA9IHZhbAogICAgICAgICAgICBmb3IgaW5zdHIgaW4gc2VsZi5pbnN0cnVjdGlvbnM6CiAgICAgICAgICAgICAgICBjb21wID0gaW5zdHIuX2V2YWwobmFtZXNwYWNlKQogICAgICAgICAgICAgICAgY29tcC5jcmVhdGUocGFyZW50KQogICAgICAgICAgICAgICAgZWx0ID0gY29tcC5jb250YWluZXIKICAgICAgICAgICAgICAgIHNlbGYud2lkZ2V0cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgKGNvbXAsIGVsdCksCiAgICAgICAgICAgICAgICApCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICB3aWRnZXRzID0gc2VsZi53aWRnZXRzLmNvcHkoKQogICAgICAgIHNlbGYuY3JlYXRlKHNlbGYucmVuZGVyX3BhcmVudCkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucmVuZGVyX3BhcmVudC51cGRhdGUoKSAgIyBmb3Igc21vb3RoZXIgcmVuZGVycmluZwogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHBhc3MKICAgICAgICBmb3IgY29tcG9uZW50LCB3aWRnZXQgaW4gd2lkZ2V0czoKICAgICAgICAgICAgY29tcG9uZW50LmNvbnRhaW5lciA9IGNvbXBvbmVudC5vdXRsZXQgPSBOb25lCiAgICAgICAgICAgIHdpZGdldC5kZXN0cm95KCkKICAgICAgICAgICAgZGVsIHdpZGdldAoKCmNsYXNzIElmQ29tcG9uZW50KEJhc2VDb21wb25lbnQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY29uZGl0aW9uLAogICAgICAgIG5hbWVzcGFjZSwKICAgICAgICBwYXJlbnQ6ICJPcHRpb25hbFtCYXNlQ29tcG9uZW50XSIgPSBOb25lLAogICAgICAgIGluc3RydWN0aW9uczogbGlzdCA9IFtdLAogICAgKToKICAgICAgICBzZWxmLmNoaWxkcmVuID0gW10KICAgICAgICBzZWxmLnBhcmVudCA9IHBhcmVudAogICAgICAgIHNlbGYubmFtZXNwYWNlID0gbmFtZXNwYWNlCiAgICAgICAgc2VsZi5jb25kaXRpb24gPSBjb25kaXRpb24KICAgICAgICBzZWxmLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucyAgIyBpbnN0cnVjdGlvbnMKICAgICAgICBpZiBwYXJlbnQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuLmFwcGVuZChzZWxmKQoKICAgIGRlZiBjcmVhdGUoc2VsZiwgcGFyZW50PU5vbmUpOgogICAgICAgIHBhcmVudCA9IHBhcmVudCBvciBzZWxmLnBhcmVudC5vdXRsZXQKICAgICAgICBzZWxmLnJlbmRlcl9wYXJlbnQgPSBwYXJlbnQKICAgICAgICBzZWxmLndpZGdldHMgPSBbXQogICAgICAgIHNlbGYuY29uZGl0aW9uLnN1YnNjcmliZShzZWxmLl91cGRhdGUpCiAgICAgICAgaWYgc2VsZi5jb25kaXRpb24uZ2V0KCk6CiAgICAgICAgICAgIGZvciBpbnN0ciBpbiBzZWxmLmluc3RydWN0aW9uczoKICAgICAgICAgICAgICAgIGNvbXAgPSBpbnN0ci5fZXZhbChzZWxmLm5hbWVzcGFjZSkKICAgICAgICAgICAgICAgIGNvbXAuY3JlYXRlKHBhcmVudCkKICAgICAgICAgICAgICAgIHNlbGYud2lkZ2V0cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgKGNvbXAuY29udGFpbmVyLCBjb21wLmNvbnRhaW5lciksCiAgICAgICAgICAgICAgICApCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCiAgICAgICAgd2lkZ2V0cyA9IHNlbGYud2lkZ2V0cy5jb3B5KCkKICAgICAgICBzZWxmLmNyZWF0ZShzZWxmLnJlbmRlcl9wYXJlbnQpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJlbmRlcl9wYXJlbnQudXBkYXRlKCkgICMgZm9yIHNtb290aGVyIHJlbmRlcnJpbmcKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBwYXNzCiAgICAgICAgZm9yIGNvbXBvbmVudCwgd2lkZ2V0IGluIHdpZGdldHM6CiAgICAgICAgICAgIGNvbXBvbmVudC53aWRnZXQgPSBOb25lCiAgICAgICAgICAgIHdpZGdldC5kZXN0cm95KCkKICAgICAgICAgICAgZGVsIHdpZGdldAoKCmNsYXNzIENvbXBvbmVudChCYXNlQ29tcG9uZW50KToKICAgIGNvZGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lCiAgICBfdGVtcGxhdGVfY2FjaGU6IHR1cGxlW09wdGlvbmFsW3N0cl0sIE9wdGlvbmFsW3RlbXBsYXRlLlRlbXBsYXRlXV0gPSAoCiAgICAgICAgTm9uZSwKICAgICAgICBOb25lLAogICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBAYW5ub3RhdGUKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBpdGVtOiBzdHIpOgogICAgICAgIHRyeToKICAgICAgICAgICAgcmV0dXJuIHNlbGYubmFtZXNwYWNlW2l0ZW1dCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFscygpW2l0ZW1dCiAgICAgICAgICAgIGV4Y2VwdCBJbmRleEVycm9yIGFzIGU6CiAgICAgICAgICAgICAgICByYWlzZSBJbmRleEVycm9yKGl0ZW0pIGZyb20gZQoKICAgIGRlZiBfX2luaXRfc3ViY2xhc3NfXyhjbHMpOgogICAgICAgIGNscy5nZXRfdGVtcGxhdGUoKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGdldF90ZW1wbGF0ZShjbHMpOgogICAgICAgIGNvZGUgPSBjbHMuY29kZSBvciBjbHMuX19kb2NfXwogICAgICAgIGlmIGNscy5fdGVtcGxhdGVfY2FjaGVbMF0gIT0gY29kZToKICAgICAgICAgICAgY2xzLl90ZW1wbGF0ZV9jYWNoZSA9IGNvZGUsIHRlbXBsYXRlLlRlbXBsYXRlLnBhcnNlKGNvZGUpCiAgICAgICAgcmV0dXJuIGNscy5fdGVtcGxhdGVfY2FjaGVbMV0KCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwgaXRlbTogc3RyLCB2YWx1ZSk6CiAgICAgICAgc2VsZi5uYW1lc3BhY2VbaXRlbV0gPSB2YWx1ZQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdG9yZT1Ob25lLCAqKnBhcmFtcyk6CiAgICAgICAgd3JpdGVhYmxlLlN1YnNjcmliZXIuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLm5hbWVzcGFjZSA9IHdyaXRlYWJsZS5OYW1lc3BhY2UoKQogICAgICAgIHNlbGYubmFtZXNwYWNlLnZhcnMudXBkYXRlKHBhcmFtcykKICAgICAgICBzZWxmLm5hbWVzcGFjZS52YXJzWyJzdG9yZSJdID0gc3RvcmUKICAgICAgICBzZWxmLnN1YnNjcmliZV90byhzZWxmLm5hbWVzcGFjZSwgc2VsZi51cGRhdGUpCiAgICAgICAgZm9yIGF0dHJfbmFtZSBpbiBkaXIoc2VsZik6CiAgICAgICAgICAgIGlmIG5vdCBhdHRyX25hbWUuc3RhcnRzd2l0aCgiXyIpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHNlbGYubmFtZXNwYWNlW2F0dHJfbmFtZV0gPSBnZXRhdHRyKHNlbGYsIGF0dHJfbmFtZSkKICAgICAgICAgICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgc2VsZi5pbml0KCkKICAgICAgICBzZWxmLnJlbmRlcnJlZCA9IEZhbHNlCiAgICAgICAgc2VsZi5fY29tcG9uZW50XyA9IHNlbGYuZ2V0X3RlbXBsYXRlKCkuZXZhbChzZWxmLm5hbWVzcGFjZSkKCiAgICBkZWYgcmVuZGVyKHNlbGYsIG1hc3Rlcik6CiAgICAgICAgc2VsZi5fY29tcG9uZW50Xy5jcmVhdGUobWFzdGVyKQogICAgICAgIHNlbGYucmVkZXJyZWQgPSBUcnVlCiAgICAgICAgcmV0dXJuIHNlbGYuY29udGFpbmVyCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBpZiBzZWxmLnJlbmRlcnJlZDoKICAgICAgICAgICAgc2VsZi5fY29tcG9uZW50Xy51cGRhdGUoKQoKICAgIGRlZiBleHBvc2Uoc2VsZiwgZnVuYyk6CiAgICAgICAgc2VsZi5uYW1lc3BhY2VbZnVuYy5fX25hbWVfX10gPSBmdW5jCgogICAgQHByb3BlcnR5CiAgICBkZWYgY29udGFpbmVyKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9jb21wb25lbnRfLmNvbnRhaW5lcgoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG91dGxldChzZWxmKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIG91dCA9IHNlbGZbIm91dGxldCJdCiAgICAgICAgICAgIGlmIG91dCBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHJldHVybiBvdXQub3V0bGV0CiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGV4Y2VwdCBOYW1lRXJyb3I6CiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIGNyZWF0ZV90ayhzZWxmLCByb290PU5vbmUpOgogICAgICAgICIiIkNyZWF0ZSB0aGUgY29tcG9uZW50IGluIGEgZnVsbCBUayB3aW5kb3cuIiIiCiAgICAgICAgcm9vdC5jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpCiAgICAgICAgcm9vdC5yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpCgogICAgICAgIHNlbGYucmVuZGVyKHJvb3QpLmdyaWQoY29sdW1uPTAsIHJvdz0wLCBzdGlja3k9Im5zZXciKQogICAgICAgIHJldHVybiByb290CgogICAgZGVmIHBvcHVwKHNlbGYsICoqcGFyYW1zKToKICAgICAgICAiIiJDcmVhdGUgdGhlIGNvbXBvbmVudCBpbiBhIGZ1bGwgVGsgd2luZG93LiIiIgogICAgICAgIGZyb20gdGtpbnRlciBpbXBvcnQgVG9wbGV2ZWwKCiAgICAgICAgcm9vdCA9IFRvcGxldmVsKCkKICAgICAgICByb290LmNvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICByb290LnJvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKCiAgICAgICAgc2VsZi5yZW5kZXIocm9vdCkuZ3JpZChjb2x1bW49MCwgcm93PTAsIHN0aWNreT0ibnNldyIpCiAgICAgICAgcmV0dXJuIHJvb3QKCgpkZWYgY29tcG9uZW50KGZ1bmMpOgogICAgZGVmIGNvbXBvbmVudF9pbml0KHNlbGYpOgogICAgICAgIHZhciA9IGZ1bmMoc2VsZikKICAgICAgICBpZiB2YXIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYubmFtZXNwYWNlLnZhcnMudXBkYXRlKHZhcikKCiAgICByZXR1cm4gdHlwZSgKICAgICAgICBmdW5jLl9fbmFtZV9fLAogICAgICAgIChDb21wb25lbnQsKSwKICAgICAgICB7CiAgICAgICAgICAgICJpbml0IjogY29tcG9uZW50X2luaXQsCiAgICAgICAgICAgICJfX2RvY19fIjogZnVuYy5fX2RvY19fLAogICAgICAgIH0sCiAgICApCg",
					"AQAAAAAAAAABAAAA0hIAAAAAAADSEgAAAAAAAAAAAAAAAPC/"
				],
				[
					830,
					1,
					"cut",
					null,
					"AQAAAF8KAAAAAAAAXwoAAAAAAAAWAAAAaXNzdWJjbGFzcyhhbm4sIEltYWdlKQ",
					"AQAAAAAAAAABAAAAdQoAAAAAAABfCgAAAAAAAAAAAAAAAPC/"
				],
				[
					831,
					2,
					"left_delete",
					null,
					"AgAAAF4KAAAAAAAAXgoAAAAAAAABAAAAIF0KAAAAAAAAXQoAAAAAAAABAAAALA",
					"AQAAAAAAAAABAAAAXwoAAAAAAABfCgAAAAAAAAAAAAAAAPC/"
				],
				[
					834,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAGUEAAAAAAABHQQAAIiIiClRoZSBtYWluIGNvbXBvbmVudHMgdG9vbC4KCkNvcHlyaWdodCAoQykgMjAyNCAga2VuLW1vcmVsClRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5Cml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgpUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQpHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgoKWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoiIiIKCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR5cGUsIEFueQpmcm9tIGluc3BlY3QgaW1wb3J0IF9lbXB0eQoKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQoKZnJvbSAuIGltcG9ydCBOaWwsIHJlc29sdmUKZnJvbSAuIGltcG9ydCB0ZW1wbGF0ZSwgd3JpdGVhYmxlCgpBdHRyU3BlYyA9IGRpY3Rbc3RyLCB0dXBsZVtUeXBlLCBPcHRpb25hbFtBbnldXV0KCgpjbGFzcyBBdHRyaWJ1dGVNYW5hZ2VyOgogICAgIiIiQW4gb2JqZWN0IHRvIG1hbmFnZSBjb21wb25lbnQgYXR0cmlidXRlcy4iIiIKCiAgICBfcGFyYW1zOiBkaWN0W0F0dHJTcGVjXQogICAgX3N1YnNjcmliZXI6IHdyaXRlYWJsZS5TdWJzY3JpYmVyCiAgICBfc3Vic2NyaWJlYWJsZTogd3JpdGVhYmxlLlN1YnNjcmliZWFibGUKCiAgICBkZWYgX19pbml0X18oc2VsZiwgY29tcG9uZW50OiAiQmFzZUNvbXBvbmVudCIsIGt3YXJnczogZGljdFtzdHIsIHN0cl0pOgogICAgICAgICIiIkNyZWF0ZSB0aGUgQXR0aWJ1dGUgbWFuYWdlciBmcm9tIGNvbXBvbmVudCBhbmQgYXJncy4iIiIKICAgICAgICBzZWxmLl9jb21wb25lbnQgPSBjb21wb25lbnQKICAgICAgICBzZWxmLl9wYXJhbXMgPSB7fQogICAgICAgIGZvciBuYW1lLCBhbm4sIGRlZmF1bHQgaW4gY29tcG9uZW50LmdldF9wYXJhbXMoKToKICAgICAgICAgICAgc2VsZi5fcGFyYW1zW25hbWVdID0gKGFubiwgZGVmYXVsdCkKICAgICAgICBzZWxmLl9zdWJzY3JpYmVyID0gd3JpdGVhYmxlLlN1YnNjcmliZXIoKQogICAgICAgIHNlbGYuX3N1YnNjcmliZWFibGUgPSB3cml0ZWFibGUuU3Vic2NyaWJlYWJsZSgpCiAgICAgICAgc2VsZi5fc3Vic2NyaWJlID0gc2VsZi5fc3Vic2NyaWJlYWJsZS5zdWJzY3JpYmUKICAgICAgICBzZWxmLl9hcmdzID0ge30KICAgICAgICBzZWxmLl9sYXN0ID0gTm9uZQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGt3YXJncy5pdGVtcygpOgogICAgICAgICAgICBzdWIsIHZhbCA9IHRlbXBsYXRlLmV2YWx1YXRlX2xpdGVyYWwoCiAgICAgICAgICAgICAgICB2YWx1ZSwgc2VsZi5fY29tcG9uZW50Lm5hbWVzcGFjZQogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYuX2FyZ3Nba2V5XSA9IChzdWIsIHZhbCkKICAgICAgICAgICAgaWYgc3ViOgogICAgICAgICAgICAgICAgc2VsZi5fc3Vic2NyaWJlci5zdWJzY3JpYmVfdG8odmFsLCBzZWxmLl91cGRhdGUpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQoKICAgIGRlZiBfdXBkYXRlKHNlbGYpOgogICAgICAgIHZhbHMgPSBzZWxmLl92YWx1ZXMuY29weSgpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQogICAgICAgIGlmIHNlbGYuX3ZhbHVlcyAhPSB2YWxzOgogICAgICAgICAgICBzZWxmLl9zdWJzY3JpYmVhYmxlLndhcm5fc3Vic2NyaWJlcnMoKQoKICAgIGRlZiBfY29sbGVjdF92YWx1ZXMoc2VsZik6CiAgICAgICAgc2VsZi5fdmFsdWVzID0ge30KCiAgICAgICAgZGVmIGZpbHRlcnModmFsLCBnZXQsIGFubiwgZGVmYXVsdCk6CiAgICAgICAgICAgIGZyb20gLiBpbXBvcnQgbWVkaWEsIHdyaXRlYWJsZQogICAgICAgICAgICBmcm9tIHRraW50ZXIgaW1wb3J0IEltYWdlCgogICAgICAgICAgICBpZiB2YWwgaXMgTmlsOgogICAgICAgICAgICAgICAgdmFsID0gZGVmYXVsdAogICAgICAgICAgICBpZiBhbm4gaXMgd3JpdGVhYmxlLldyaXRlYWJsZSBhbmQgaXNpbnN0YW5jZSgKICAgICAgICAgICAgICAgIHZhbCwgd3JpdGVhYmxlLldyaXRlYWJsZQogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgcmV0dXJuIHZhbAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIG1lZGlhLkltYWdlKToKICAgICAgICAgICAgICAgICAgICBwcmludCgKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLCBpc2luc3RhbmNlKGFubiwgdHlwZSksIGFubgogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmIGdldDoKICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIGFubiBpcyBJbWFnZSBvciAoCiAgICAgICAgICAgICAgICAgICAgaXNpbnN0YW5jZShhbm4sIHR5cGUpCiAgICAgICAgICAgICAgICAgICAgYW5kIGlzc3ViY2xhc3MoYW5uLCBJbWFnZSkKICAgICAgICAgICAgICAgICAgICBhbmQgaXNpbnN0YW5jZSh2YWwsIG1lZGlhLkltYWdlKQogICAgICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodmFsLCBtZWRpYS5JbWFnZSk6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQodmFsKQogICAgICAgICAgICAgICAgcmV0dXJuIHZhbAoKICAgICAgICBkZWYgc2V0X3BhcmFtKG9iaiwga2V5LCB2YWx1ZSwgYW5ub3RhdGlvbiwgZGVmYXVsdCk6CiAgICAgICAgICAgIGdldCwgdmFsID0gdmFsdWUKICAgICAgICAgICAgaWYgIjoiIGluIGtleToKICAgICAgICAgICAgICAgIHByZSwga2V5ID0ga2V5LnNwbGl0KCI6IiwgMSkKCiAgICAgICAgICAgICAgICBpZiBwcmUgbm90IGluIG9iaiBvciBub3QgaXNpbnN0YW5jZShvYmpbcHJlXSwgZGljdCk6CiAgICAgICAgICAgICAgICAgICAgb2JqW3ByZV0gPSB7fQogICAgICAgICAgICAgICAgc2V0X3BhcmFtKG9ialtwcmVdLCBrZXksIHZhbHVlLCBhbm5vdGF0aW9uLCBkZWZhdWx0KQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgb2JqW2tleV0gPSBmaWx0ZXJzKHZhbCwgZ2V0LCBhbm5vdGF0aW9uLCBkZWZhdWx0KQoKICAgICAgICBmb3Iga2V5LCB2YWx1ZSBpbiBzZWxmLl9hcmdzLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIGtleSBpbiBzZWxmLl9wYXJhbXM6CiAgICAgICAgICAgICAgICBhbm4sIHZhbCA9IHNlbGYuX3BhcmFtc1trZXldCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBhbm4gPSB2YWwgPSBOb25lCiAgICAgICAgICAgIHNldF9wYXJhbShzZWxmLl92YWx1ZXMsIGtleSwgdmFsdWUsIGFubiwgdmFsKQoKICAgIGRlZiBfZ2V0X3dyaXRlYWJsZShzZWxmLCBuYW1lKToKICAgICAgICB2YWwgPSBzZWxmLl9hcmdzW25hbWVdWzFdCiAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIHdyaXRlYWJsZS5Xcml0ZWFibGUpOgogICAgICAgICAgICByZXR1cm4gdmFsCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigiU29ycnkuLi4iKQoKICAgIGRlZiBfX2dldGF0dHJfXyhzZWxmLCBhdHRyOiBzdHIpOgogICAgICAgICIiIkdldCBhdHRyaWJ1dGUgZnJvbSB2YWx1ZXMuIiIiCiAgICAgICAgaWYgYXR0clswXSA9PSAiXyI6CiAgICAgICAgICAgIHJldHVybiBzdXBlcigpLl9fZ2V0YXR0cl9fKGF0dHIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3ZhbHVlc1thdHRyXQogICAgICAgICAgICBleGNlcHQgS2V5RXJyb3IgYXMgZToKICAgICAgICAgICAgICAgIHJhaXNlIEF0dHJpYnV0ZUVycm9yKCkgZnJvbSBlCgoKY2xhc3MgQmFzZUNvbXBvbmVudCh3cml0ZWFibGUuU3Vic2NyaWJlcik6CiAgICAiIiJUaGUgYmFzZSBjb21wb25lbnQgY2xhc3MuIiIiCgogICAgcGFyZW50ID0gTm9uZQogICAgY2hpbGRyZW46IGxpc3QKICAgIF9wb3NfID0gTm9uZQogICAgY29udGFpbmVyID0gTm9uZQogICAgb3V0bGV0ID0gTm9uZQogICAgX2FsaWduZXIgPSBOb25lCgogICAgZGVmIF9pbml0X3N1YmNsYXNzKGNscyk6CiAgICAgICAgaWYgbm90IGhhc2F0dHIoY2xzLCAiQXR0cnMiKToKICAgICAgICAgICAgY2xzLkF0dHJzID0gdHlwZShjbHMuX19uYW1lX18gKyAiLkF0dHJzIiwgKCksIHt9KQogICAgICAgIGNscy5BdHRycyA9IGRhdGFjbGFzcyhjbHMuQXR0cnMpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZ2V0X3BhcmFtcyhjbHMpIC0+IHR1cGxlW3R1cGxlW3N0ciwgdHlwZSwgQW55XV06CiAgICAgICAgIiIiR2V0IGFuIGl0ZXJhYmxlIG9mIHR1cGxlcyAobmFtZSwgYW5ub3RhdGlvbiwgZGVmYXVsdCkuIiIiCiAgICAgICAgYW5ucyA9IHt9CiAgICAgICAgcGFyYW1zID0gW10KICAgICAgICBmb3IgbmFtZSwgYW5uIGluIGNscy5BdHRycy5fX2Fubm90YXRpb25zX18uaXRlbXMoKToKICAgICAgICAgICAgYW5uc1tuYW1lXSA9IGFubgogICAgICAgIGZvciBuYW1lLCB2YWwgaW4gdmFycyhjbHMuQXR0cnMpLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIG5hbWUgaW4gYW5uczoKICAgICAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoKG5hbWUsIGFubnNbbmFtZV0sIHZhbCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKChuYW1lLCBfZW1wdHksIHZhbCkpCiAgICAgICAgcmV0dXJuIHR1cGxlKHBhcmFtcykKCiAgICBfX2luaXRfc3ViY2xhc3NfXyA9IF9pbml0X3N1YmNsYXNzCgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbmFtZXNwYWNlOiAid3JpdGVhYmxlLk5hbWVzcGFjZSIgPSB7fSwKICAgICAgICBwYXJlbnQ9Tm9uZSwKICAgICAgICBhdHRyczogZGljdFtzdHJdID0ge30sCiAgICAgICAgcGFyYW1zOiBkaWN0W3N0cl0gPSB7fSwKICAgICk6CiAgICAgICAgIiIiSW5pdGlhbGl6ZSBCYXNlIENvbXBvbmVudC4iIiIKICAgICAgICB3cml0ZWFibGUuU3Vic2NyaWJlci5fX2luaXRfXyhzZWxmKQogICAgICAgIHNlbGYuY2hpbGRyZW4gPSBbXQogICAgICAgIHNlbGYucGFyZW50ID0gcGFyZW50CiAgICAgICAgc2VsZi5uYW1lc3BhY2UgPSBuYW1lc3BhY2UKICAgICAgICBpZiBwYXJlbnQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuLmFwcGVuZChzZWxmKQogICAgICAgIHNlbGYucmF3X2F0dHJzID0gYXR0cnMKICAgICAgICBzZWxmLmF0dHJzID0gQXR0cmlidXRlTWFuYWdlcihzZWxmLCBhdHRycykKICAgICAgICBzZWxmLmF0dHJzLl9zdWJzY3JpYmUoc2VsZiwgc2VsZi5fdXBkYXRlKQoKICAgIGRlZiBiaW5kX2F0dHJzKHNlbGYsIGF0dHJzOiBkaWN0W3N0cl0pOgogICAgICAgICIiIkJpbmQgdGhlIHNwZWNpZmllZCBhdHRyaWJ1dGVzIHRvIHRoZSBjb21wb25lbnQuIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLmF0dHJzID0gc2VsZi5fX2NsYXNzX18uQXR0cnMoKiphdHRycykKICAgICAgICBleGNlcHQgVHlwZUVycm9yIGFzIGU6CiAgICAgICAgICAgIHJhaXNlIFR5cGVFcnJvcigKICAgICAgICAgICAgICAgIGYiZXJyb3Igd2hpbGUgYmluZGluZyBhcmd1bWVudHMgdG8ge3NlbGYuX19jbGFzc19fIXJ9IiwKICAgICAgICAgICAgICAgIGUsCiAgICAgICAgICAgICAgICBzZWxmLkF0dHJzLAogICAgICAgICAgICApIGZyb20gTm9uZQoKICAgIGRlZiBfYWxpZ25fd2lkZ2V0KHNlbGYsIHdpZGdldCwgcGFyYW1zOiBkaWN0W3N0cl0pOgogICAgICAgIGlmIHNlbGYuX2NoaWxkcmVuX2FsaWduID09ICJyIjoKICAgICAgICAgICAgd2lkZ2V0LmdyaWQoY29sdW1uPXNlbGYuX2FsaWduX29mZnNldCwgcm93PTAsICoqcGFyYW1zKQogICAgICAgIGVsaWYgc2VsZi5fY2hpbGRyZW5fYWxpZ24gPT0gImMiOgogICAgICAgICAgICB3aWRnZXQuZ3JpZChyb3c9c2VsZi5fYWxpZ25fb2Zmc2V0LCBjb2x1bW49MCwgKipwYXJhbXMpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigidW5rbm93biBhbGlnbiBvZmZzZXQ6Iiwgc2VsZi5fY2hpbGRyZW5fYWxpZ24pCiAgICAgICAgc2VsZi5fYWxpZ25fb2Zmc2V0ICs9IDEKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGYuYXR0cnMuX2NvbGxlY3RfdmFsdWVzKCkKICAgICAgICBmb3IgY2hpbGQgaW4gc2VsZi5jaGlsZHJlbjoKICAgICAgICAgICAgY2hpbGQudXBkYXRlKCkKICAgICAgICBzZWxmLl91cGRhdGUoKQoKICAgIGRlZiBfdXBkYXRlKHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBkZWYgbWFrZV9iaW5kaW5ncyhzZWxmKToKICAgICAgICBmb3IgZXZlbnQsIGhhbmRsZXIgaW4gc2VsZi5ldmVudF9iaW5kcy5pdGVtcygpOgogICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5iaW5kKGYiPHtldmVudH0+IiwgcmVzb2x2ZShoYW5kbGVyKSkKCiAgICBkZWYgY3JlYXRlKHNlbGYpOgogICAgICAgIHNlbGYuZXZlbnRfYmluZHMgPSB7fQoKICAgIGRlZiBpbml0X2dlb21ldHJ5KHNlbGYpOgogICAgICAgIGdyaWRfcGFyYW1zID0gKCJzdGlja3kiLCkKICAgICAgICBwYWNrX3BhcmFtcyA9ICgKICAgICAgICAgICAgInNpZGUiLAogICAgICAgICAgICAiYW5jaG9yIiwKICAgICAgICAgICAgImV4cGFuZCIsCiAgICAgICAgICAgICJmaWxsIiwKICAgICAgICAgICAgImlwYWR4IiwKICAgICAgICAgICAgInBhZHgiLAogICAgICAgICAgICAiaXBhZHkiLAogICAgICAgICAgICAicGFkeSIsCiAgICAgICAgKQogICAgICAgIGlmIGhhc2F0dHIoc2VsZi5hdHRycywgImxheSIpIGFuZCBzZWxmLmF0dHJzLmxheToKICAgICAgICAgICAgbGF5ID0gc2VsZi5hdHRycy5sYXkKICAgICAgICAgICAgaWYgInciIGluIGxheToKICAgICAgICAgICAgICAgIGlmICJ4IiBpbiBsYXlbInciXToKICAgICAgICAgICAgICAgICAgICBsYXl4ID0gcmVzb2x2ZShsYXlbInciXVsieCJdKQogICAgICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UobGF5eCwgc3RyKToKICAgICAgICAgICAgICAgICAgICAgICAgbGF5eCA9IGRpY3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGUobWFwKHN0ci5zdHJpcCwgeC5zcGxpdCgiOiIsIDEpKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgeCBpbiBsYXl4LnNwbGl0KCIsIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIGZvciBjb2wsIHdlaWdodCBpbiBsYXl4Lml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3V0bGV0LmNvbHVtbmNvbmZpZ3VyZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludChjb2wpLCB3ZWlnaHQ9aW50KHdlaWdodCkKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgaWYgInkiIGluIGxheVsidyJdOgogICAgICAgICAgICAgICAgICAgIGxheXkgPSByZXNvbHZlKHNlbGYuYXR0cnMubGF5WyJ3Il1bInkiXSkKICAgICAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGxheXksIHN0cik6CiAgICAgICAgICAgICAgICAgICAgICAgIGxheXkgPSBkaWN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR1cGxlKG1hcChzdHIuc3RyaXAsIHguc3BsaXQoIjoiLCAxKSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gbGF5eS5zcGxpdCgiLCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBmb3IgY29sLCB3ZWlnaHQgaW4gbGF5eS5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm91dGxldC5jb2x1bW5jb25maWd1cmUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQoY29sKSwgd2VpZ2h0PWludCh3ZWlnaHQpCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgaWYgaGFzYXR0cihzZWxmLmF0dHJzLCAicG9zIik6CiAgICAgICAgICAgIHBvcyA9IHNlbGYuYXR0cnMucG9zCiAgICAgICAgICAgIGlmICJwYWNrIiBpbiBwb3MgYW5kIHBvc1sicGFjayJdOgogICAgICAgICAgICAgICAgcGFyYW1zID0ge2s6IHYgZm9yIGssIHYgaW4gcG9zLml0ZW1zKCkgaWYgayBpbiBwYWNrX3BhcmFtc30KICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UocG9zWyJwYWNrIl0sIHN0cik6CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zWyJzaWRlIl0gPSBwb3NbInBhY2siXQogICAgICAgICAgICAgICAgc2VsZi5jb250YWluZXIucGFjaygqKnBhcmFtcykKICAgICAgICAgICAgZWxpZiAiZ3JpZCIgaW4gcG9zOgogICAgICAgICAgICAgICAgZ3JpZCA9IHtrOiB2IGZvciBrLCB2IGluIHBvcy5pdGVtcygpIGlmIGsgaW4gZ3JpZF9wYXJhbXN9CiAgICAgICAgICAgICAgICBjb29yZCA9IHJlc29sdmUocG9zWyJncmlkIl0pCiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGNvb3JkLCB0dXBsZSk6CiAgICAgICAgICAgICAgICAgICAgaWYgbGVuKGNvb3JkKSA9PSAyOgogICAgICAgICAgICAgICAgICAgICAgICAoeCwgeSkgPSBjb29yZAogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJjb2x1bW4iXSA9IHgKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsicm93Il0gPSB5CiAgICAgICAgICAgICAgICAgICAgZWxpZiBsZW4oY29vcmQpID09IDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICh4LCB5LCB4cywgeXMpID0gY29vcmQKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsiY29sdW1uIl0gPSB4CiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbInJvdyJdID0geQogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJjb2x1bW5zcGFuIl0gPSB4cwogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJyb3dzcGFuIl0gPSB5cwogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIndyb25nIGdyaWQgdHVwbGUiLCBjb29yZCkKICAgICAgICAgICAgICAgIHNlbGYuY29udGFpbmVyLmdyaWQoKipncmlkKQoKCmNsYXNzIFRrQ29tcG9uZW50KEJhc2VDb21wb25lbnQpOgogICAgV2lkZ2V0ID0gTm9uZQogICAgX2F0dHJfaWdub3JlID0gKCkKICAgIF9wYXJhbXMgPSBOb25lCgogICAgZGVmIF9faW5pdF9zdWJjbGFzc19fKGNscyk6CiAgICAgICAgY2xzLkF0dHJzID0gZGF0YWNsYXNzKGNscy5BdHRycykKICAgICAgICBzYW1lID0gWwogICAgICAgICAgICB4CiAgICAgICAgICAgIGZvciB4IGluIGRpcihjbHMuQXR0cnMpCiAgICAgICAgICAgIGlmIG5vdCB4LnN0YXJ0c3dpdGgoIl8iKSBhbmQgeCBub3QgaW4gY2xzLl9hdHRyX2lnbm9yZQogICAgICAgIF0KICAgICAgICBjbHMuY29uZl9hbGlhc3NlcyA9IHsKICAgICAgICAgICAgKipkaWN0KHppcChzYW1lLCBzYW1lKSksCiAgICAgICAgfQogICAgICAgIGRlbCBzYW1lCgogICAgZGVmIGNyZWF0ZShzZWxmLCBwYXJlbnQpOgogICAgICAgIHN1cGVyKCkuY3JlYXRlKCkKICAgICAgICBzZWxmLl9wYXJhbXMgPSBwYXJhbXMgPSB7CiAgICAgICAgICAgICoqewogICAgICAgICAgICAgICAgc2VsZi5jb25mX2FsaWFzc2VzW2tdOiB2CiAgICAgICAgICAgICAgICBmb3IgaywgdiBpbiBzZWxmLmF0dHJzLl92YWx1ZXMuaXRlbXMoKQogICAgICAgICAgICAgICAgaWYgayBpbiBzZWxmLmNvbmZfYWxpYXNzZXMgYW5kIHYgaXMgbm90IE5pbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHNlbGYuX2NyZWF0ZShwYXJlbnQsIHBhcmFtcykKICAgICAgICBzZWxmLm1ha2VfYmluZGluZ3MoKQogICAgICAgIHNlbGYuaW5pdF9nZW9tZXRyeSgpCiAgICAgICAgZm9yIGNoaWxkIGluIHNlbGYuY2hpbGRyZW46CiAgICAgICAgICAgIGNoaWxkLmNyZWF0ZShzZWxmLm91dGxldCkKCiAgICBkZWYgX2NyZWF0ZShzZWxmLCBwYXJlbnQsIHBhcmFtcz17fSk6CiAgICAgICAgc2VsZi5vdXRsZXQgPSBzZWxmLmNvbnRhaW5lciA9IHNlbGYuV2lkZ2V0KHBhcmVudCwgKipwYXJhbXMpCgogICAgZGVmIF91cGRhdGUoc2VsZik6CiAgICAgICAgZm9yIGssIHYgaW4gewogICAgICAgICAgICBzZWxmLmNvbmZfYWxpYXNzZXNba106IHYKICAgICAgICAgICAgZm9yIGssIHYgaW4gc2VsZi5hdHRycy5fdmFsdWVzLml0ZW1zKCkKICAgICAgICAgICAgaWYgayBpbiBzZWxmLmNvbmZfYWxpYXNzZXMgYW5kIHYgaXMgbm90IE5pbAogICAgICAgIH0uaXRlbXMoKToKICAgICAgICAgICAgaWYgayA9PSAidGV4dCI6CiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhaW5lclsidGV4dCJdID0gdgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5jb25maWd1cmUoKip7azogdn0pCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICByYWlzZQoKCmNsYXNzIEVudW1Db21wb25lbnQoQmFzZUNvbXBvbmVudCk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBvYmplY3QsCiAgICAgICAgbmFtZXNwYWNlLAogICAgICAgIGFsaWFzOiB0dXBsZVtzdHIsIHN0cl0sCiAgICAgICAgcGFyZW50OiAiT3B0aW9uYWxbQmFzZUNvbXBvbmVudF0iID0gTm9uZSwKICAgICAgICBpbnN0cnVjdGlvbnM6IGxpc3QgPSBbXSwKICAgICk6CiAgICAgICAgc2VsZi5jaGlsZHJlbiA9IFtdCiAgICAgICAgc2VsZi5wYXJlbnQgPSBwYXJlbnQKICAgICAgICBzZWxmLnBhcmVudF9uYW1lc3BhY2UgPSBuYW1lc3BhY2UKICAgICAgICBzZWxmLm9iamVjdCA9IG9iamVjdAogICAgICAgIHNlbGYuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zICAjIGluc3RydWN0aW9ucwogICAgICAgIHNlbGYuYWxpYXMgPSBhbGlhcwogICAgICAgIGlmIHBhcmVudCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5wYXJlbnQuY2hpbGRyZW4uYXBwZW5kKHNlbGYpCgogICAgZGVmIGNyZWF0ZShzZWxmLCBwYXJlbnQ9Tm9uZSk6CiAgICAgICAgcGFyZW50ID0gcGFyZW50IG9yIHNlbGYucGFyZW50Lm91dGxldAogICAgICAgIHNlbGYucmVuZGVyX3BhcmVudCA9IHBhcmVudAogICAgICAgIHNlbGYud2lkZ2V0cyA9IFtdCiAgICAgICAgZm9yIGlkeCwgdmFsIGluIGVudW1lcmF0ZShzZWxmLm9iamVjdC5nZXQoKSk6CiAgICAgICAgICAgIGFpZHgsIGF2YWwgPSBzZWxmLmFsaWFzCiAgICAgICAgICAgIG5hbWVzcGFjZSA9IHdyaXRlYWJsZS5OYW1lc3BhY2UocGFyZW50cz1bc2VsZi5wYXJlbnRfbmFtZXNwYWNlXSkKICAgICAgICAgICAgbmFtZXNwYWNlW2FpZHhdID0gaWR4CiAgICAgICAgICAgIG5hbWVzcGFjZVthdmFsXSA9IHZhbAogICAgICAgICAgICBmb3IgaW5zdHIgaW4gc2VsZi5pbnN0cnVjdGlvbnM6CiAgICAgICAgICAgICAgICBjb21wID0gaW5zdHIuX2V2YWwobmFtZXNwYWNlKQogICAgICAgICAgICAgICAgY29tcC5jcmVhdGUocGFyZW50KQogICAgICAgICAgICAgICAgZWx0ID0gY29tcC5jb250YWluZXIKICAgICAgICAgICAgICAgIHNlbGYud2lkZ2V0cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgKGNvbXAsIGVsdCksCiAgICAgICAgICAgICAgICApCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICB3aWRnZXRzID0gc2VsZi53aWRnZXRzLmNvcHkoKQogICAgICAgIHNlbGYuY3JlYXRlKHNlbGYucmVuZGVyX3BhcmVudCkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucmVuZGVyX3BhcmVudC51cGRhdGUoKSAgIyBmb3Igc21vb3RoZXIgcmVuZGVycmluZwogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHBhc3MKICAgICAgICBmb3IgY29tcG9uZW50LCB3aWRnZXQgaW4gd2lkZ2V0czoKICAgICAgICAgICAgY29tcG9uZW50LmNvbnRhaW5lciA9IGNvbXBvbmVudC5vdXRsZXQgPSBOb25lCiAgICAgICAgICAgIHdpZGdldC5kZXN0cm95KCkKICAgICAgICAgICAgZGVsIHdpZGdldAoKCmNsYXNzIElmQ29tcG9uZW50KEJhc2VDb21wb25lbnQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgY29uZGl0aW9uLAogICAgICAgIG5hbWVzcGFjZSwKICAgICAgICBwYXJlbnQ6ICJPcHRpb25hbFtCYXNlQ29tcG9uZW50XSIgPSBOb25lLAogICAgICAgIGluc3RydWN0aW9uczogbGlzdCA9IFtdLAogICAgKToKICAgICAgICBzZWxmLmNoaWxkcmVuID0gW10KICAgICAgICBzZWxmLnBhcmVudCA9IHBhcmVudAogICAgICAgIHNlbGYubmFtZXNwYWNlID0gbmFtZXNwYWNlCiAgICAgICAgc2VsZi5jb25kaXRpb24gPSBjb25kaXRpb24KICAgICAgICBzZWxmLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucyAgIyBpbnN0cnVjdGlvbnMKICAgICAgICBpZiBwYXJlbnQgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYucGFyZW50LmNoaWxkcmVuLmFwcGVuZChzZWxmKQoKICAgIGRlZiBjcmVhdGUoc2VsZiwgcGFyZW50PU5vbmUpOgogICAgICAgIHBhcmVudCA9IHBhcmVudCBvciBzZWxmLnBhcmVudC5vdXRsZXQKICAgICAgICBzZWxmLnJlbmRlcl9wYXJlbnQgPSBwYXJlbnQKICAgICAgICBzZWxmLndpZGdldHMgPSBbXQogICAgICAgIHNlbGYuY29uZGl0aW9uLnN1YnNjcmliZShzZWxmLl91cGRhdGUpCiAgICAgICAgaWYgc2VsZi5jb25kaXRpb24uZ2V0KCk6CiAgICAgICAgICAgIGZvciBpbnN0ciBpbiBzZWxmLmluc3RydWN0aW9uczoKICAgICAgICAgICAgICAgIGNvbXAgPSBpbnN0ci5fZXZhbChzZWxmLm5hbWVzcGFjZSkKICAgICAgICAgICAgICAgIGNvbXAuY3JlYXRlKHBhcmVudCkKICAgICAgICAgICAgICAgIHNlbGYud2lkZ2V0cy5hcHBlbmQoCiAgICAgICAgICAgICAgICAgICAgKGNvbXAuY29udGFpbmVyLCBjb21wLmNvbnRhaW5lciksCiAgICAgICAgICAgICAgICApCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCiAgICAgICAgd2lkZ2V0cyA9IHNlbGYud2lkZ2V0cy5jb3B5KCkKICAgICAgICBzZWxmLmNyZWF0ZShzZWxmLnJlbmRlcl9wYXJlbnQpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLnJlbmRlcl9wYXJlbnQudXBkYXRlKCkgICMgZm9yIHNtb290aGVyIHJlbmRlcnJpbmcKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBwYXNzCiAgICAgICAgZm9yIGNvbXBvbmVudCwgd2lkZ2V0IGluIHdpZGdldHM6CiAgICAgICAgICAgIGNvbXBvbmVudC53aWRnZXQgPSBOb25lCiAgICAgICAgICAgIHdpZGdldC5kZXN0cm95KCkKICAgICAgICAgICAgZGVsIHdpZGdldAoKCmNsYXNzIENvbXBvbmVudChCYXNlQ29tcG9uZW50KToKICAgIGNvZGU6IE9wdGlvbmFsW3N0cl0gPSBOb25lCiAgICBfdGVtcGxhdGVfY2FjaGU6IHR1cGxlW09wdGlvbmFsW3N0cl0sIE9wdGlvbmFsW3RlbXBsYXRlLlRlbXBsYXRlXV0gPSAoCiAgICAgICAgTm9uZSwKICAgICAgICBOb25lLAogICAgKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHBhc3MKCiAgICBAYW5ub3RhdGUKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBpdGVtOiBzdHIpOgogICAgICAgIHRyeToKICAgICAgICAgICAgcmV0dXJuIHNlbGYubmFtZXNwYWNlW2l0ZW1dCiAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFscygpW2l0ZW1dCiAgICAgICAgICAgIGV4Y2VwdCBJbmRleEVycm9yIGFzIGU6CiAgICAgICAgICAgICAgICByYWlzZSBJbmRleEVycm9yKGl0ZW0pIGZyb20gZQoKICAgIGRlZiBfX2luaXRfc3ViY2xhc3NfXyhjbHMpOgogICAgICAgIGNscy5nZXRfdGVtcGxhdGUoKQoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGdldF90ZW1wbGF0ZShjbHMpOgogICAgICAgIGNvZGUgPSBjbHMuY29kZSBvciBjbHMuX19kb2NfXwogICAgICAgIGlmIGNscy5fdGVtcGxhdGVfY2FjaGVbMF0gIT0gY29kZToKICAgICAgICAgICAgY2xzLl90ZW1wbGF0ZV9jYWNoZSA9IGNvZGUsIHRlbXBsYXRlLlRlbXBsYXRlLnBhcnNlKGNvZGUpCiAgICAgICAgcmV0dXJuIGNscy5fdGVtcGxhdGVfY2FjaGVbMV0KCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwgaXRlbTogc3RyLCB2YWx1ZSk6CiAgICAgICAgc2VsZi5uYW1lc3BhY2VbaXRlbV0gPSB2YWx1ZQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdG9yZT1Ob25lLCAqKnBhcmFtcyk6CiAgICAgICAgd3JpdGVhYmxlLlN1YnNjcmliZXIuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLm5hbWVzcGFjZSA9IHdyaXRlYWJsZS5OYW1lc3BhY2UoKQogICAgICAgIHNlbGYubmFtZXNwYWNlLnZhcnMudXBkYXRlKHBhcmFtcykKICAgICAgICBzZWxmLm5hbWVzcGFjZS52YXJzWyJzdG9yZSJdID0gc3RvcmUKICAgICAgICBzZWxmLnN1YnNjcmliZV90byhzZWxmLm5hbWVzcGFjZSwgc2VsZi51cGRhdGUpCiAgICAgICAgZm9yIGF0dHJfbmFtZSBpbiBkaXIoc2VsZik6CiAgICAgICAgICAgIGlmIG5vdCBhdHRyX25hbWUuc3RhcnRzd2l0aCgiXyIpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHNlbGYubmFtZXNwYWNlW2F0dHJfbmFtZV0gPSBnZXRhdHRyKHNlbGYsIGF0dHJfbmFtZSkKICAgICAgICAgICAgICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgc2VsZi5pbml0KCkKICAgICAgICBzZWxmLnJlbmRlcnJlZCA9IEZhbHNlCiAgICAgICAgc2VsZi5fY29tcG9uZW50XyA9IHNlbGYuZ2V0X3RlbXBsYXRlKCkuZXZhbChzZWxmLm5hbWVzcGFjZSkKCiAgICBkZWYgcmVuZGVyKHNlbGYsIG1hc3Rlcik6CiAgICAgICAgc2VsZi5fY29tcG9uZW50Xy5jcmVhdGUobWFzdGVyKQogICAgICAgIHNlbGYucmVkZXJyZWQgPSBUcnVlCiAgICAgICAgcmV0dXJuIHNlbGYuY29udGFpbmVyCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBpZiBzZWxmLnJlbmRlcnJlZDoKICAgICAgICAgICAgc2VsZi5fY29tcG9uZW50Xy51cGRhdGUoKQoKICAgIGRlZiBleHBvc2Uoc2VsZiwgZnVuYyk6CiAgICAgICAgc2VsZi5uYW1lc3BhY2VbZnVuYy5fX25hbWVfX10gPSBmdW5jCgogICAgQHByb3BlcnR5CiAgICBkZWYgY29udGFpbmVyKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLl9jb21wb25lbnRfLmNvbnRhaW5lcgoKICAgIEBwcm9wZXJ0eQogICAgZGVmIG91dGxldChzZWxmKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIG91dCA9IHNlbGZbIm91dGxldCJdCiAgICAgICAgICAgIGlmIG91dCBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHJldHVybiBvdXQub3V0bGV0CiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGV4Y2VwdCBOYW1lRXJyb3I6CiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIGNyZWF0ZV90ayhzZWxmLCByb290PU5vbmUpOgogICAgICAgICIiIkNyZWF0ZSB0aGUgY29tcG9uZW50IGluIGEgZnVsbCBUayB3aW5kb3cuIiIiCiAgICAgICAgcm9vdC5jb2x1bW5jb25maWd1cmUoMCwgd2VpZ2h0PTEpCiAgICAgICAgcm9vdC5yb3djb25maWd1cmUoMCwgd2VpZ2h0PTEpCgogICAgICAgIHNlbGYucmVuZGVyKHJvb3QpLmdyaWQoY29sdW1uPTAsIHJvdz0wLCBzdGlja3k9Im5zZXciKQogICAgICAgIHJldHVybiByb290CgogICAgZGVmIHBvcHVwKHNlbGYsICoqcGFyYW1zKToKICAgICAgICAiIiJDcmVhdGUgdGhlIGNvbXBvbmVudCBpbiBhIGZ1bGwgVGsgd2luZG93LiIiIgogICAgICAgIGZyb20gdGtpbnRlciBpbXBvcnQgVG9wbGV2ZWwKCiAgICAgICAgcm9vdCA9IFRvcGxldmVsKCkKICAgICAgICByb290LmNvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICByb290LnJvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKCiAgICAgICAgc2VsZi5yZW5kZXIocm9vdCkuZ3JpZChjb2x1bW49MCwgcm93PTAsIHN0aWNreT0ibnNldyIpCiAgICAgICAgcmV0dXJuIHJvb3QKCgpkZWYgY29tcG9uZW50KGZ1bmMpOgogICAgZGVmIGNvbXBvbmVudF9pbml0KHNlbGYpOgogICAgICAgIHZhciA9IGZ1bmMoc2VsZikKICAgICAgICBpZiB2YXIgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHNlbGYubmFtZXNwYWNlLnZhcnMudXBkYXRlKHZhcikKCiAgICByZXR1cm4gdHlwZSgKICAgICAgICBmdW5jLl9fbmFtZV9fLAogICAgICAgIChDb21wb25lbnQsKSwKICAgICAgICB7CiAgICAgICAgICAgICJpbml0IjogY29tcG9uZW50X2luaXQsCiAgICAgICAgICAgICJfX2RvY19fIjogZnVuYy5fX2RvY19fLAogICAgICAgIH0sCiAgICApCg",
					"AQAAAAAAAAABAAAAXQoAAAAAAABdCgAAAAAAAAAAAAAAAPC/"
				],
				[
					838,
					1,
					"left_delete",
					null,
					"AQAAANoJAAAAAAAA2gkAAAAAAABsAAAAICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodmFsLCBtZWRpYS5JbWFnZSk6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQodmFsLCBpc2luc3RhbmNlKGFubiwgdHlwZSksIGFubikK",
					"AQAAAAAAAAABAAAA2gkAAAAAAABGCgAAAAAAAAAAAAAAAPC/"
				],
				[
					841,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAArUAAAAAAAACtQAAAIiIiClRoZSBtYWluIGNvbXBvbmVudHMgdG9vbC4KCkNvcHlyaWdodCAoQykgMjAyNCAga2VuLW1vcmVsClRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5Cml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgpUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQpHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgoKWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoiIiIKCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcwpmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIFR5cGUsIEFueQpmcm9tIGluc3BlY3QgaW1wb3J0IF9lbXB0eQoKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQoKZnJvbSAuIGltcG9ydCBOaWwsIHJlc29sdmUKZnJvbSAuIGltcG9ydCB0ZW1wbGF0ZSwgd3JpdGVhYmxlCgpBdHRyU3BlYyA9IGRpY3Rbc3RyLCB0dXBsZVtUeXBlLCBPcHRpb25hbFtBbnldXV0KCgpjbGFzcyBBdHRyaWJ1dGVNYW5hZ2VyOgogICAgIiIiQW4gb2JqZWN0IHRvIG1hbmFnZSBjb21wb25lbnQgYXR0cmlidXRlcy4iIiIKCiAgICBfcGFyYW1zOiBkaWN0W0F0dHJTcGVjXQogICAgX3N1YnNjcmliZXI6IHdyaXRlYWJsZS5TdWJzY3JpYmVyCiAgICBfc3Vic2NyaWJlYWJsZTogd3JpdGVhYmxlLlN1YnNjcmliZWFibGUKCiAgICBkZWYgX19pbml0X18oc2VsZiwgY29tcG9uZW50OiAiQmFzZUNvbXBvbmVudCIsIGt3YXJnczogZGljdFtzdHIsIHN0cl0pOgogICAgICAgICIiIkNyZWF0ZSB0aGUgQXR0aWJ1dGUgbWFuYWdlciBmcm9tIGNvbXBvbmVudCBhbmQgYXJncy4iIiIKICAgICAgICBzZWxmLl9jb21wb25lbnQgPSBjb21wb25lbnQKICAgICAgICBzZWxmLl9wYXJhbXMgPSB7fQogICAgICAgIGZvciBuYW1lLCBhbm4sIGRlZmF1bHQgaW4gY29tcG9uZW50LmdldF9wYXJhbXMoKToKICAgICAgICAgICAgc2VsZi5fcGFyYW1zW25hbWVdID0gKGFubiwgZGVmYXVsdCkKICAgICAgICBzZWxmLl9zdWJzY3JpYmVyID0gd3JpdGVhYmxlLlN1YnNjcmliZXIoKQogICAgICAgIHNlbGYuX3N1YnNjcmliZWFibGUgPSB3cml0ZWFibGUuU3Vic2NyaWJlYWJsZSgpCiAgICAgICAgc2VsZi5fc3Vic2NyaWJlID0gc2VsZi5fc3Vic2NyaWJlYWJsZS5zdWJzY3JpYmUKICAgICAgICBzZWxmLl9hcmdzID0ge30KICAgICAgICBzZWxmLl9sYXN0ID0gTm9uZQogICAgICAgIGZvciBrZXksIHZhbHVlIGluIGt3YXJncy5pdGVtcygpOgogICAgICAgICAgICBzdWIsIHZhbCA9IHRlbXBsYXRlLmV2YWx1YXRlX2xpdGVyYWwoCiAgICAgICAgICAgICAgICB2YWx1ZSwgc2VsZi5fY29tcG9uZW50Lm5hbWVzcGFjZQogICAgICAgICAgICApCiAgICAgICAgICAgIHNlbGYuX2FyZ3Nba2V5XSA9IChzdWIsIHZhbCkKICAgICAgICAgICAgaWYgc3ViOgogICAgICAgICAgICAgICAgc2VsZi5fc3Vic2NyaWJlci5zdWJzY3JpYmVfdG8odmFsLCBzZWxmLl91cGRhdGUpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQoKICAgIGRlZiBfdXBkYXRlKHNlbGYpOgogICAgICAgIHZhbHMgPSBzZWxmLl92YWx1ZXMuY29weSgpCiAgICAgICAgc2VsZi5fY29sbGVjdF92YWx1ZXMoKQogICAgICAgIGlmIHNlbGYuX3ZhbHVlcyAhPSB2YWxzOgogICAgICAgICAgICBzZWxmLl9zdWJzY3JpYmVhYmxlLndhcm5fc3Vic2NyaWJlcnMoKQoKICAgIGRlZiBfY29sbGVjdF92YWx1ZXMoc2VsZik6CiAgICAgICAgc2VsZi5fdmFsdWVzID0ge30KCiAgICAgICAgZGVmIGZpbHRlcnModmFsLCBnZXQsIGFubiwgZGVmYXVsdCk6CiAgICAgICAgICAgIGZyb20gLiBpbXBvcnQgbWVkaWEsIHdyaXRlYWJsZQogICAgICAgICAgICBmcm9tIHRraW50ZXIgaW1wb3J0IEltYWdlCgogICAgICAgICAgICBpZiB2YWwgaXMgTmlsOgogICAgICAgICAgICAgICAgdmFsID0gZGVmYXVsdAogICAgICAgICAgICBpZiBhbm4gaXMgd3JpdGVhYmxlLldyaXRlYWJsZSBhbmQgaXNpbnN0YW5jZSgKICAgICAgICAgICAgICAgIHZhbCwgd3JpdGVhYmxlLldyaXRlYWJsZQogICAgICAgICAgICApOgogICAgICAgICAgICAgICAgcmV0dXJuIHZhbAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWYgZ2V0OgogICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC5nZXQoKQogICAgICAgICAgICAgICAgaWYgYW5uIGlzIEltYWdlIG9yICgKICAgICAgICAgICAgICAgICAgICBpc2luc3RhbmNlKGFubiwgdHlwZSkKICAgICAgICAgICAgICAgICAgICBhbmQgaXNzdWJjbGFzcyhhbm4sIEltYWdlKQogICAgICAgICAgICAgICAgICAgIGFuZCBpc2luc3RhbmNlKHZhbCwgbWVkaWEuSW1hZ2UpCiAgICAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC5nZXQoKQogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIG1lZGlhLkltYWdlKToKICAgICAgICAgICAgICAgICAgICBwcmludCh2YWwpCiAgICAgICAgICAgICAgICByZXR1cm4gdmFsCgogICAgICAgIGRlZiBzZXRfcGFyYW0ob2JqLCBrZXksIHZhbHVlLCBhbm5vdGF0aW9uLCBkZWZhdWx0KToKICAgICAgICAgICAgZ2V0LCB2YWwgPSB2YWx1ZQogICAgICAgICAgICBpZiAiOiIgaW4ga2V5OgogICAgICAgICAgICAgICAgcHJlLCBrZXkgPSBrZXkuc3BsaXQoIjoiLCAxKQoKICAgICAgICAgICAgICAgIGlmIHByZSBub3QgaW4gb2JqIG9yIG5vdCBpc2luc3RhbmNlKG9ialtwcmVdLCBkaWN0KToKICAgICAgICAgICAgICAgICAgICBvYmpbcHJlXSA9IHt9CiAgICAgICAgICAgICAgICBzZXRfcGFyYW0ob2JqW3ByZV0sIGtleSwgdmFsdWUsIGFubm90YXRpb24sIGRlZmF1bHQpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBvYmpba2V5XSA9IGZpbHRlcnModmFsLCBnZXQsIGFubm90YXRpb24sIGRlZmF1bHQpCgogICAgICAgIGZvciBrZXksIHZhbHVlIGluIHNlbGYuX2FyZ3MuaXRlbXMoKToKICAgICAgICAgICAgaWYga2V5IGluIHNlbGYuX3BhcmFtczoKICAgICAgICAgICAgICAgIGFubiwgdmFsID0gc2VsZi5fcGFyYW1zW2tleV0KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGFubiA9IHZhbCA9IE5vbmUKICAgICAgICAgICAgc2V0X3BhcmFtKHNlbGYuX3ZhbHVlcywga2V5LCB2YWx1ZSwgYW5uLCB2YWwpCgogICAgZGVmIF9nZXRfd3JpdGVhYmxlKHNlbGYsIG5hbWUpOgogICAgICAgIHZhbCA9IHNlbGYuX2FyZ3NbbmFtZV1bMV0KICAgICAgICBpZiBpc2luc3RhbmNlKHZhbCwgd3JpdGVhYmxlLldyaXRlYWJsZSk6CiAgICAgICAgICAgIHJldHVybiB2YWwKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCJTb3JyeS4uLiIpCgogICAgZGVmIF9fZ2V0YXR0cl9fKHNlbGYsIGF0dHI6IHN0cik6CiAgICAgICAgIiIiR2V0IGF0dHJpYnV0ZSBmcm9tIHZhbHVlcy4iIiIKICAgICAgICBpZiBhdHRyWzBdID09ICJfIjoKICAgICAgICAgICAgcmV0dXJuIHN1cGVyKCkuX19nZXRhdHRyX18oYXR0cikKICAgICAgICBlbHNlOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fdmFsdWVzW2F0dHJdCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvciBhcyBlOgogICAgICAgICAgICAgICAgcmFpc2UgQXR0cmlidXRlRXJyb3IoKSBmcm9tIGUKCgpjbGFzcyBCYXNlQ29tcG9uZW50KHdyaXRlYWJsZS5TdWJzY3JpYmVyKToKICAgICIiIlRoZSBiYXNlIGNvbXBvbmVudCBjbGFzcy4iIiIKCiAgICBwYXJlbnQgPSBOb25lCiAgICBjaGlsZHJlbjogbGlzdAogICAgX3Bvc18gPSBOb25lCiAgICBjb250YWluZXIgPSBOb25lCiAgICBvdXRsZXQgPSBOb25lCiAgICBfYWxpZ25lciA9IE5vbmUKCiAgICBkZWYgX2luaXRfc3ViY2xhc3MoY2xzKToKICAgICAgICBpZiBub3QgaGFzYXR0cihjbHMsICJBdHRycyIpOgogICAgICAgICAgICBjbHMuQXR0cnMgPSB0eXBlKGNscy5fX25hbWVfXyArICIuQXR0cnMiLCAoKSwge30pCiAgICAgICAgY2xzLkF0dHJzID0gZGF0YWNsYXNzKGNscy5BdHRycykKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBnZXRfcGFyYW1zKGNscykgLT4gdHVwbGVbdHVwbGVbc3RyLCB0eXBlLCBBbnldXToKICAgICAgICAiIiJHZXQgYW4gaXRlcmFibGUgb2YgdHVwbGVzIChuYW1lLCBhbm5vdGF0aW9uLCBkZWZhdWx0KS4iIiIKICAgICAgICBhbm5zID0ge30KICAgICAgICBwYXJhbXMgPSBbXQogICAgICAgIGZvciBuYW1lLCBhbm4gaW4gY2xzLkF0dHJzLl9fYW5ub3RhdGlvbnNfXy5pdGVtcygpOgogICAgICAgICAgICBhbm5zW25hbWVdID0gYW5uCiAgICAgICAgZm9yIG5hbWUsIHZhbCBpbiB2YXJzKGNscy5BdHRycykuaXRlbXMoKToKICAgICAgICAgICAgaWYgbmFtZSBpbiBhbm5zOgogICAgICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgobmFtZSwgYW5uc1tuYW1lXSwgdmFsKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoKG5hbWUsIF9lbXB0eSwgdmFsKSkKICAgICAgICByZXR1cm4gdHVwbGUocGFyYW1zKQoKICAgIF9faW5pdF9zdWJjbGFzc19fID0gX2luaXRfc3ViY2xhc3MKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBuYW1lc3BhY2U6ICJ3cml0ZWFibGUuTmFtZXNwYWNlIiA9IHt9LAogICAgICAgIHBhcmVudD1Ob25lLAogICAgICAgIGF0dHJzOiBkaWN0W3N0cl0gPSB7fSwKICAgICAgICBwYXJhbXM6IGRpY3Rbc3RyXSA9IHt9LAogICAgKToKICAgICAgICAiIiJJbml0aWFsaXplIEJhc2UgQ29tcG9uZW50LiIiIgogICAgICAgIHdyaXRlYWJsZS5TdWJzY3JpYmVyLl9faW5pdF9fKHNlbGYpCiAgICAgICAgc2VsZi5jaGlsZHJlbiA9IFtdCiAgICAgICAgc2VsZi5wYXJlbnQgPSBwYXJlbnQKICAgICAgICBzZWxmLm5hbWVzcGFjZSA9IG5hbWVzcGFjZQogICAgICAgIGlmIHBhcmVudCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5wYXJlbnQuY2hpbGRyZW4uYXBwZW5kKHNlbGYpCiAgICAgICAgc2VsZi5yYXdfYXR0cnMgPSBhdHRycwogICAgICAgIHNlbGYuYXR0cnMgPSBBdHRyaWJ1dGVNYW5hZ2VyKHNlbGYsIGF0dHJzKQogICAgICAgIHNlbGYuYXR0cnMuX3N1YnNjcmliZShzZWxmLCBzZWxmLl91cGRhdGUpCgogICAgZGVmIGJpbmRfYXR0cnMoc2VsZiwgYXR0cnM6IGRpY3Rbc3RyXSk6CiAgICAgICAgIiIiQmluZCB0aGUgc3BlY2lmaWVkIGF0dHJpYnV0ZXMgdG8gdGhlIGNvbXBvbmVudC4iIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYuYXR0cnMgPSBzZWxmLl9fY2xhc3NfXy5BdHRycygqKmF0dHJzKQogICAgICAgIGV4Y2VwdCBUeXBlRXJyb3IgYXMgZToKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKAogICAgICAgICAgICAgICAgZiJlcnJvciB3aGlsZSBiaW5kaW5nIGFyZ3VtZW50cyB0byB7c2VsZi5fX2NsYXNzX18hcn0iLAogICAgICAgICAgICAgICAgZSwKICAgICAgICAgICAgICAgIHNlbGYuQXR0cnMsCiAgICAgICAgICAgICkgZnJvbSBOb25lCgogICAgZGVmIF9hbGlnbl93aWRnZXQoc2VsZiwgd2lkZ2V0LCBwYXJhbXM6IGRpY3Rbc3RyXSk6CiAgICAgICAgaWYgc2VsZi5fY2hpbGRyZW5fYWxpZ24gPT0gInIiOgogICAgICAgICAgICB3aWRnZXQuZ3JpZChjb2x1bW49c2VsZi5fYWxpZ25fb2Zmc2V0LCByb3c9MCwgKipwYXJhbXMpCiAgICAgICAgZWxpZiBzZWxmLl9jaGlsZHJlbl9hbGlnbiA9PSAiYyI6CiAgICAgICAgICAgIHdpZGdldC5ncmlkKHJvdz1zZWxmLl9hbGlnbl9vZmZzZXQsIGNvbHVtbj0wLCAqKnBhcmFtcykKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJ1bmtub3duIGFsaWduIG9mZnNldDoiLCBzZWxmLl9jaGlsZHJlbl9hbGlnbikKICAgICAgICBzZWxmLl9hbGlnbl9vZmZzZXQgKz0gMQoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgc2VsZi5hdHRycy5fY29sbGVjdF92YWx1ZXMoKQogICAgICAgIGZvciBjaGlsZCBpbiBzZWxmLmNoaWxkcmVuOgogICAgICAgICAgICBjaGlsZC51cGRhdGUoKQogICAgICAgIHNlbGYuX3VwZGF0ZSgpCgogICAgZGVmIF91cGRhdGUoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIGRlZiBtYWtlX2JpbmRpbmdzKHNlbGYpOgogICAgICAgIGZvciBldmVudCwgaGFuZGxlciBpbiBzZWxmLmV2ZW50X2JpbmRzLml0ZW1zKCk6CiAgICAgICAgICAgIHNlbGYuY29udGFpbmVyLmJpbmQoZiI8e2V2ZW50fT4iLCByZXNvbHZlKGhhbmRsZXIpKQoKICAgIGRlZiBjcmVhdGUoc2VsZik6CiAgICAgICAgc2VsZi5ldmVudF9iaW5kcyA9IHt9CgogICAgZGVmIGluaXRfZ2VvbWV0cnkoc2VsZik6CiAgICAgICAgZ3JpZF9wYXJhbXMgPSAoInN0aWNreSIsKQogICAgICAgIHBhY2tfcGFyYW1zID0gKAogICAgICAgICAgICAic2lkZSIsCiAgICAgICAgICAgICJhbmNob3IiLAogICAgICAgICAgICAiZXhwYW5kIiwKICAgICAgICAgICAgImZpbGwiLAogICAgICAgICAgICAiaXBhZHgiLAogICAgICAgICAgICAicGFkeCIsCiAgICAgICAgICAgICJpcGFkeSIsCiAgICAgICAgICAgICJwYWR5IiwKICAgICAgICApCiAgICAgICAgaWYgaGFzYXR0cihzZWxmLmF0dHJzLCAibGF5IikgYW5kIHNlbGYuYXR0cnMubGF5OgogICAgICAgICAgICBsYXkgPSBzZWxmLmF0dHJzLmxheQogICAgICAgICAgICBpZiAidyIgaW4gbGF5OgogICAgICAgICAgICAgICAgaWYgIngiIGluIGxheVsidyJdOgogICAgICAgICAgICAgICAgICAgIGxheXggPSByZXNvbHZlKGxheVsidyJdWyJ4Il0pCiAgICAgICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShsYXl4LCBzdHIpOgogICAgICAgICAgICAgICAgICAgICAgICBsYXl4ID0gZGljdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0dXBsZShtYXAoc3RyLnN0cmlwLCB4LnNwbGl0KCI6IiwgMSkpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB4IGluIGxheXguc3BsaXQoIiwiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgZm9yIGNvbCwgd2VpZ2h0IGluIGxheXguaXRlbXMoKToKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vdXRsZXQuY29sdW1uY29uZmlndXJlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50KGNvbCksIHdlaWdodD1pbnQod2VpZ2h0KQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBpZiAieSIgaW4gbGF5WyJ3Il06CiAgICAgICAgICAgICAgICAgICAgbGF5eSA9IHJlc29sdmUoc2VsZi5hdHRycy5sYXlbInciXVsieSJdKQogICAgICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UobGF5eSwgc3RyKToKICAgICAgICAgICAgICAgICAgICAgICAgbGF5eSA9IGRpY3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHVwbGUobWFwKHN0ci5zdHJpcCwgeC5zcGxpdCgiOiIsIDEpKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgeCBpbiBsYXl5LnNwbGl0KCIsIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIGZvciBjb2wsIHdlaWdodCBpbiBsYXl5Lml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3V0bGV0LmNvbHVtbmNvbmZpZ3VyZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludChjb2wpLCB3ZWlnaHQ9aW50KHdlaWdodCkKICAgICAgICAgICAgICAgICAgICAgICAgKQoKICAgICAgICBpZiBoYXNhdHRyKHNlbGYuYXR0cnMsICJwb3MiKToKICAgICAgICAgICAgcG9zID0gc2VsZi5hdHRycy5wb3MKICAgICAgICAgICAgaWYgInBhY2siIGluIHBvcyBhbmQgcG9zWyJwYWNrIl06CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7azogdiBmb3IgaywgdiBpbiBwb3MuaXRlbXMoKSBpZiBrIGluIHBhY2tfcGFyYW1zfQogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShwb3NbInBhY2siXSwgc3RyKToKICAgICAgICAgICAgICAgICAgICBwYXJhbXNbInNpZGUiXSA9IHBvc1sicGFjayJdCiAgICAgICAgICAgICAgICBzZWxmLmNvbnRhaW5lci5wYWNrKCoqcGFyYW1zKQogICAgICAgICAgICBlbGlmICJncmlkIiBpbiBwb3M6CiAgICAgICAgICAgICAgICBncmlkID0ge2s6IHYgZm9yIGssIHYgaW4gcG9zLml0ZW1zKCkgaWYgayBpbiBncmlkX3BhcmFtc30KICAgICAgICAgICAgICAgIGNvb3JkID0gcmVzb2x2ZShwb3NbImdyaWQiXSkKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoY29vcmQsIHR1cGxlKToKICAgICAgICAgICAgICAgICAgICBpZiBsZW4oY29vcmQpID09IDI6CiAgICAgICAgICAgICAgICAgICAgICAgICh4LCB5KSA9IGNvb3JkCiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbImNvbHVtbiJdID0geAogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJyb3ciXSA9IHkKICAgICAgICAgICAgICAgICAgICBlbGlmIGxlbihjb29yZCkgPT0gNDoKICAgICAgICAgICAgICAgICAgICAgICAgKHgsIHksIHhzLCB5cykgPSBjb29yZAogICAgICAgICAgICAgICAgICAgICAgICBncmlkWyJjb2x1bW4iXSA9IHgKICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFsicm93Il0gPSB5CiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbImNvbHVtbnNwYW4iXSA9IHhzCiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbInJvd3NwYW4iXSA9IHlzCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigid3JvbmcgZ3JpZCB0dXBsZSIsIGNvb3JkKQogICAgICAgICAgICAgICAgc2VsZi5jb250YWluZXIuZ3JpZCgqKmdyaWQpCgoKY2xhc3MgVGtDb21wb25lbnQoQmFzZUNvbXBvbmVudCk6CiAgICBXaWRnZXQgPSBOb25lCiAgICBfYXR0cl9pZ25vcmUgPSAoKQogICAgX3BhcmFtcyA9IE5vbmUKCiAgICBkZWYgX19pbml0X3N1YmNsYXNzX18oY2xzKToKICAgICAgICBjbHMuQXR0cnMgPSBkYXRhY2xhc3MoY2xzLkF0dHJzKQogICAgICAgIHNhbWUgPSBbCiAgICAgICAgICAgIHgKICAgICAgICAgICAgZm9yIHggaW4gZGlyKGNscy5BdHRycykKICAgICAgICAgICAgaWYgbm90IHguc3RhcnRzd2l0aCgiXyIpIGFuZCB4IG5vdCBpbiBjbHMuX2F0dHJfaWdub3JlCiAgICAgICAgXQogICAgICAgIGNscy5jb25mX2FsaWFzc2VzID0gewogICAgICAgICAgICAqKmRpY3QoemlwKHNhbWUsIHNhbWUpKSwKICAgICAgICB9CiAgICAgICAgZGVsIHNhbWUKCiAgICBkZWYgY3JlYXRlKHNlbGYsIHBhcmVudCk6CiAgICAgICAgc3VwZXIoKS5jcmVhdGUoKQogICAgICAgIHNlbGYuX3BhcmFtcyA9IHBhcmFtcyA9IHsKICAgICAgICAgICAgKip7CiAgICAgICAgICAgICAgICBzZWxmLmNvbmZfYWxpYXNzZXNba106IHYKICAgICAgICAgICAgICAgIGZvciBrLCB2IGluIHNlbGYuYXR0cnMuX3ZhbHVlcy5pdGVtcygpCiAgICAgICAgICAgICAgICBpZiBrIGluIHNlbGYuY29uZl9hbGlhc3NlcyBhbmQgdiBpcyBub3QgTmlsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc2VsZi5fY3JlYXRlKHBhcmVudCwgcGFyYW1zKQogICAgICAgIHNlbGYubWFrZV9iaW5kaW5ncygpCiAgICAgICAgc2VsZi5pbml0X2dlb21ldHJ5KCkKICAgICAgICBmb3IgY2hpbGQgaW4gc2VsZi5jaGlsZHJlbjoKICAgICAgICAgICAgY2hpbGQuY3JlYXRlKHNlbGYub3V0bGV0KQoKICAgIGRlZiBfY3JlYXRlKHNlbGYsIHBhcmVudCwgcGFyYW1zPXt9KToKICAgICAgICBzZWxmLm91dGxldCA9IHNlbGYuY29udGFpbmVyID0gc2VsZi5XaWRnZXQocGFyZW50LCAqKnBhcmFtcykKCiAgICBkZWYgX3VwZGF0ZShzZWxmKToKICAgICAgICBmb3IgaywgdiBpbiB7CiAgICAgICAgICAgIHNlbGYuY29uZl9hbGlhc3Nlc1trXTogdgogICAgICAgICAgICBmb3IgaywgdiBpbiBzZWxmLmF0dHJzLl92YWx1ZXMuaXRlbXMoKQogICAgICAgICAgICBpZiBrIGluIHNlbGYuY29uZl9hbGlhc3NlcyBhbmQgdiBpcyBub3QgTmlsCiAgICAgICAgfS5pdGVtcygpOgogICAgICAgICAgICBpZiBrID09ICJ0ZXh0IjoKICAgICAgICAgICAgICAgIHNlbGYuY29udGFpbmVyWyJ0ZXh0Il0gPSB2CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNlbGYuY29udGFpbmVyLmNvbmZpZ3VyZSgqKntrOiB2fSkKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHJhaXNlCgoKY2xhc3MgRW51bUNvbXBvbmVudChCYXNlQ29tcG9uZW50KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG9iamVjdCwKICAgICAgICBuYW1lc3BhY2UsCiAgICAgICAgYWxpYXM6IHR1cGxlW3N0ciwgc3RyXSwKICAgICAgICBwYXJlbnQ6ICJPcHRpb25hbFtCYXNlQ29tcG9uZW50XSIgPSBOb25lLAogICAgICAgIGluc3RydWN0aW9uczogbGlzdCA9IFtdLAogICAgKToKICAgICAgICBzZWxmLmNoaWxkcmVuID0gW10KICAgICAgICBzZWxmLnBhcmVudCA9IHBhcmVudAogICAgICAgIHNlbGYucGFyZW50X25hbWVzcGFjZSA9IG5hbWVzcGFjZQogICAgICAgIHNlbGYub2JqZWN0ID0gb2JqZWN0CiAgICAgICAgc2VsZi5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnMgICMgaW5zdHJ1Y3Rpb25zCiAgICAgICAgc2VsZi5hbGlhcyA9IGFsaWFzCiAgICAgICAgaWYgcGFyZW50IGlzIG5vdCBOb25lOgogICAgICAgICAgICBzZWxmLnBhcmVudC5jaGlsZHJlbi5hcHBlbmQoc2VsZikKCiAgICBkZWYgY3JlYXRlKHNlbGYsIHBhcmVudD1Ob25lKToKICAgICAgICBwYXJlbnQgPSBwYXJlbnQgb3Igc2VsZi5wYXJlbnQub3V0bGV0CiAgICAgICAgc2VsZi5yZW5kZXJfcGFyZW50ID0gcGFyZW50CiAgICAgICAgc2VsZi53aWRnZXRzID0gW10KICAgICAgICBmb3IgaWR4LCB2YWwgaW4gZW51bWVyYXRlKHNlbGYub2JqZWN0LmdldCgpKToKICAgICAgICAgICAgYWlkeCwgYXZhbCA9IHNlbGYuYWxpYXMKICAgICAgICAgICAgbmFtZXNwYWNlID0gd3JpdGVhYmxlLk5hbWVzcGFjZShwYXJlbnRzPVtzZWxmLnBhcmVudF9uYW1lc3BhY2VdKQogICAgICAgICAgICBuYW1lc3BhY2VbYWlkeF0gPSBpZHgKICAgICAgICAgICAgbmFtZXNwYWNlW2F2YWxdID0gdmFsCiAgICAgICAgICAgIGZvciBpbnN0ciBpbiBzZWxmLmluc3RydWN0aW9uczoKICAgICAgICAgICAgICAgIGNvbXAgPSBpbnN0ci5fZXZhbChuYW1lc3BhY2UpCiAgICAgICAgICAgICAgICBjb21wLmNyZWF0ZShwYXJlbnQpCiAgICAgICAgICAgICAgICBlbHQgPSBjb21wLmNvbnRhaW5lcgogICAgICAgICAgICAgICAgc2VsZi53aWRnZXRzLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAoY29tcCwgZWx0KSwKICAgICAgICAgICAgICAgICkKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHdpZGdldHMgPSBzZWxmLndpZGdldHMuY29weSgpCiAgICAgICAgc2VsZi5jcmVhdGUoc2VsZi5yZW5kZXJfcGFyZW50KQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5yZW5kZXJfcGFyZW50LnVwZGF0ZSgpICAjIGZvciBzbW9vdGhlciByZW5kZXJyaW5nCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcGFzcwogICAgICAgIGZvciBjb21wb25lbnQsIHdpZGdldCBpbiB3aWRnZXRzOgogICAgICAgICAgICBjb21wb25lbnQuY29udGFpbmVyID0gY29tcG9uZW50Lm91dGxldCA9IE5vbmUKICAgICAgICAgICAgd2lkZ2V0LmRlc3Ryb3koKQogICAgICAgICAgICBkZWwgd2lkZ2V0CgoKY2xhc3MgSWZDb21wb25lbnQoQmFzZUNvbXBvbmVudCk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBjb25kaXRpb24sCiAgICAgICAgbmFtZXNwYWNlLAogICAgICAgIHBhcmVudDogIk9wdGlvbmFsW0Jhc2VDb21wb25lbnRdIiA9IE5vbmUsCiAgICAgICAgaW5zdHJ1Y3Rpb25zOiBsaXN0ID0gW10sCiAgICApOgogICAgICAgIHNlbGYuY2hpbGRyZW4gPSBbXQogICAgICAgIHNlbGYucGFyZW50ID0gcGFyZW50CiAgICAgICAgc2VsZi5uYW1lc3BhY2UgPSBuYW1lc3BhY2UKICAgICAgICBzZWxmLmNvbmRpdGlvbiA9IGNvbmRpdGlvbgogICAgICAgIHNlbGYuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zICAjIGluc3RydWN0aW9ucwogICAgICAgIGlmIHBhcmVudCBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5wYXJlbnQuY2hpbGRyZW4uYXBwZW5kKHNlbGYpCgogICAgZGVmIGNyZWF0ZShzZWxmLCBwYXJlbnQ9Tm9uZSk6CiAgICAgICAgcGFyZW50ID0gcGFyZW50IG9yIHNlbGYucGFyZW50Lm91dGxldAogICAgICAgIHNlbGYucmVuZGVyX3BhcmVudCA9IHBhcmVudAogICAgICAgIHNlbGYud2lkZ2V0cyA9IFtdCiAgICAgICAgc2VsZi5jb25kaXRpb24uc3Vic2NyaWJlKHNlbGYuX3VwZGF0ZSkKICAgICAgICBpZiBzZWxmLmNvbmRpdGlvbi5nZXQoKToKICAgICAgICAgICAgZm9yIGluc3RyIGluIHNlbGYuaW5zdHJ1Y3Rpb25zOgogICAgICAgICAgICAgICAgY29tcCA9IGluc3RyLl9ldmFsKHNlbGYubmFtZXNwYWNlKQogICAgICAgICAgICAgICAgY29tcC5jcmVhdGUocGFyZW50KQogICAgICAgICAgICAgICAgc2VsZi53aWRnZXRzLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICAoY29tcC5jb250YWluZXIsIGNvbXAuY29udGFpbmVyKSwKICAgICAgICAgICAgICAgICkKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHN1cGVyKCkudXBkYXRlKCkKICAgICAgICB3aWRnZXRzID0gc2VsZi53aWRnZXRzLmNvcHkoKQogICAgICAgIHNlbGYuY3JlYXRlKHNlbGYucmVuZGVyX3BhcmVudCkKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYucmVuZGVyX3BhcmVudC51cGRhdGUoKSAgIyBmb3Igc21vb3RoZXIgcmVuZGVycmluZwogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHBhc3MKICAgICAgICBmb3IgY29tcG9uZW50LCB3aWRnZXQgaW4gd2lkZ2V0czoKICAgICAgICAgICAgY29tcG9uZW50LndpZGdldCA9IE5vbmUKICAgICAgICAgICAgd2lkZ2V0LmRlc3Ryb3koKQogICAgICAgICAgICBkZWwgd2lkZ2V0CgoKY2xhc3MgQ29tcG9uZW50KEJhc2VDb21wb25lbnQpOgogICAgY29kZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUKICAgIF90ZW1wbGF0ZV9jYWNoZTogdHVwbGVbT3B0aW9uYWxbc3RyXSwgT3B0aW9uYWxbdGVtcGxhdGUuVGVtcGxhdGVdXSA9ICgKICAgICAgICBOb25lLAogICAgICAgIE5vbmUsCiAgICApCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgcGFzcwoKICAgIEBhbm5vdGF0ZQogICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGl0ZW06IHN0cik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXR1cm4gc2VsZi5uYW1lc3BhY2VbaXRlbV0KICAgICAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHJldHVybiBnbG9iYWxzKClbaXRlbV0KICAgICAgICAgICAgZXhjZXB0IEluZGV4RXJyb3IgYXMgZToKICAgICAgICAgICAgICAgIHJhaXNlIEluZGV4RXJyb3IoaXRlbSkgZnJvbSBlCgogICAgZGVmIF9faW5pdF9zdWJjbGFzc19fKGNscyk6CiAgICAgICAgY2xzLmdldF90ZW1wbGF0ZSgpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZ2V0X3RlbXBsYXRlKGNscyk6CiAgICAgICAgY29kZSA9IGNscy5jb2RlIG9yIGNscy5fX2RvY19fCiAgICAgICAgaWYgY2xzLl90ZW1wbGF0ZV9jYWNoZVswXSAhPSBjb2RlOgogICAgICAgICAgICBjbHMuX3RlbXBsYXRlX2NhY2hlID0gY29kZSwgdGVtcGxhdGUuVGVtcGxhdGUucGFyc2UoY29kZSkKICAgICAgICByZXR1cm4gY2xzLl90ZW1wbGF0ZV9jYWNoZVsxXQoKICAgIGRlZiBfX3NldGl0ZW1fXyhzZWxmLCBpdGVtOiBzdHIsIHZhbHVlKToKICAgICAgICBzZWxmLm5hbWVzcGFjZVtpdGVtXSA9IHZhbHVlCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHN0b3JlPU5vbmUsICoqcGFyYW1zKToKICAgICAgICB3cml0ZWFibGUuU3Vic2NyaWJlci5fX2luaXRfXyhzZWxmKQogICAgICAgIHNlbGYubmFtZXNwYWNlID0gd3JpdGVhYmxlLk5hbWVzcGFjZSgpCiAgICAgICAgc2VsZi5uYW1lc3BhY2UudmFycy51cGRhdGUocGFyYW1zKQogICAgICAgIHNlbGYubmFtZXNwYWNlLnZhcnNbInN0b3JlIl0gPSBzdG9yZQogICAgICAgIHNlbGYuc3Vic2NyaWJlX3RvKHNlbGYubmFtZXNwYWNlLCBzZWxmLnVwZGF0ZSkKICAgICAgICBmb3IgYXR0cl9uYW1lIGluIGRpcihzZWxmKToKICAgICAgICAgICAgaWYgbm90IGF0dHJfbmFtZS5zdGFydHN3aXRoKCJfIik6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5uYW1lc3BhY2VbYXR0cl9uYW1lXSA9IGdldGF0dHIoc2VsZiwgYXR0cl9uYW1lKQogICAgICAgICAgICAgICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICBzZWxmLmluaXQoKQogICAgICAgIHNlbGYucmVuZGVycmVkID0gRmFsc2UKICAgICAgICBzZWxmLl9jb21wb25lbnRfID0gc2VsZi5nZXRfdGVtcGxhdGUoKS5ldmFsKHNlbGYubmFtZXNwYWNlKQoKICAgIGRlZiByZW5kZXIoc2VsZiwgbWFzdGVyKToKICAgICAgICBzZWxmLl9jb21wb25lbnRfLmNyZWF0ZShtYXN0ZXIpCiAgICAgICAgc2VsZi5yZWRlcnJlZCA9IFRydWUKICAgICAgICByZXR1cm4gc2VsZi5jb250YWluZXIKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIGlmIHNlbGYucmVuZGVycmVkOgogICAgICAgICAgICBzZWxmLl9jb21wb25lbnRfLnVwZGF0ZSgpCgogICAgZGVmIGV4cG9zZShzZWxmLCBmdW5jKToKICAgICAgICBzZWxmLm5hbWVzcGFjZVtmdW5jLl9fbmFtZV9fXSA9IGZ1bmMKCiAgICBAcHJvcGVydHkKICAgIGRlZiBjb250YWluZXIoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuX2NvbXBvbmVudF8uY29udGFpbmVyCgogICAgQHByb3BlcnR5CiAgICBkZWYgb3V0bGV0KHNlbGYpOgogICAgICAgIHRyeToKICAgICAgICAgICAgb3V0ID0gc2VsZlsib3V0bGV0Il0KICAgICAgICAgICAgaWYgb3V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgcmV0dXJuIG91dC5vdXRsZXQKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgZXhjZXB0IE5hbWVFcnJvcjoKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgY3JlYXRlX3RrKHNlbGYsIHJvb3Q9Tm9uZSk6CiAgICAgICAgIiIiQ3JlYXRlIHRoZSBjb21wb25lbnQgaW4gYSBmdWxsIFRrIHdpbmRvdy4iIiIKICAgICAgICByb290LmNvbHVtbmNvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKICAgICAgICByb290LnJvd2NvbmZpZ3VyZSgwLCB3ZWlnaHQ9MSkKCiAgICAgICAgc2VsZi5yZW5kZXIocm9vdCkuZ3JpZChjb2x1bW49MCwgcm93PTAsIHN0aWNreT0ibnNldyIpCiAgICAgICAgcmV0dXJuIHJvb3QKCiAgICBkZWYgcG9wdXAoc2VsZiwgKipwYXJhbXMpOgogICAgICAgICIiIkNyZWF0ZSB0aGUgY29tcG9uZW50IGluIGEgZnVsbCBUayB3aW5kb3cuIiIiCiAgICAgICAgZnJvbSB0a2ludGVyIGltcG9ydCBUb3BsZXZlbAoKICAgICAgICByb290ID0gVG9wbGV2ZWwoKQogICAgICAgIHJvb3QuY29sdW1uY29uZmlndXJlKDAsIHdlaWdodD0xKQogICAgICAgIHJvb3Qucm93Y29uZmlndXJlKDAsIHdlaWdodD0xKQoKICAgICAgICBzZWxmLnJlbmRlcihyb290KS5ncmlkKGNvbHVtbj0wLCByb3c9MCwgc3RpY2t5PSJuc2V3IikKICAgICAgICByZXR1cm4gcm9vdAoKCmRlZiBjb21wb25lbnQoZnVuYyk6CiAgICBkZWYgY29tcG9uZW50X2luaXQoc2VsZik6CiAgICAgICAgdmFyID0gZnVuYyhzZWxmKQogICAgICAgIGlmIHZhciBpcyBub3QgTm9uZToKICAgICAgICAgICAgc2VsZi5uYW1lc3BhY2UudmFycy51cGRhdGUodmFyKQoKICAgIHJldHVybiB0eXBlKAogICAgICAgIGZ1bmMuX19uYW1lX18sCiAgICAgICAgKENvbXBvbmVudCwpLAogICAgICAgIHsKICAgICAgICAgICAgImluaXQiOiBjb21wb25lbnRfaW5pdCwKICAgICAgICAgICAgIl9fZG9jX18iOiBmdW5jLl9fZG9jX18sCiAgICAgICAgfSwKICAgICkK",
					"AQAAAAAAAAABAAAA2gkAAAAAAADaCQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/taktk/media.py",
			"settings":
			{
				"buffer_size": 2910,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					11,
					16,
					"left_delete",
					null,
					"EAAAALkBAAAAAAAAuQEAAAAAAAABAAAAcrgBAAAAAAAAuAEAAAAAAAABAAAAZbcBAAAAAAAAtwEAAAAAAAABAAAAc7YBAAAAAAAAtgEAAAAAAAABAAAAcrUBAAAAAAAAtQEAAAAAAAABAAAAYbQBAAAAAAAAtAEAAAAAAAABAAAAcLMBAAAAAAAAswEAAAAAAAABAAAALrIBAAAAAAAAsgEAAAAAAAABAAAAdLEBAAAAAAAAsQEAAAAAAAABAAAAbrABAAAAAAAAsAEAAAAAAAABAAAAZa8BAAAAAAAArwEAAAAAAAABAAAAbq4BAAAAAAAArgEAAAAAAAABAAAAb60BAAAAAAAArQEAAAAAAAABAAAAcKwBAAAAAAAArAEAAAAAAAABAAAAbasBAAAAAAAAqwEAAAAAAAABAAAAb6oBAAAAAAAAqgEAAAAAAAABAAAAYw",
					"AQAAAAAAAAABAAAAugEAAAAAAAC6AQAAAAAAAAAAAAAAAPC/"
				],
				[
					12,
					1,
					"insert",
					{
						"characters": "tem"
					},
					"AwAAAKoBAAAAAAAAqwEAAAAAAAAAAAAAqwEAAAAAAACsAQAAAAAAAAAAAACsAQAAAAAAAK0BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqgEAAAAAAACqAQAAAAAAAAAAAAAAAPC/"
				],
				[
					13,
					1,
					"insert_dimensions",
					null,
					"AgAAAKoBAAAAAAAAqgEAAAAAAAADAAAAdGVtqgEAAAAAAACyAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArQEAAAAAAACtAQAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"left_delete",
					null,
					"AQAAAKoBAAAAAAAAqgEAAAAAAAABAAAAVA",
					"AQAAAAAAAAABAAAAqwEAAAAAAACrAQAAAAAAAAAAAAAAAPC/"
				],
				[
					16,
					1,
					"insert",
					{
						"characters": "t"
					},
					"AQAAAKoBAAAAAAAAqwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAqgEAAAAAAACqAQAAAAAAAAAAAAAAAPC/"
				],
				[
					20,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAWwsAAAAAAABZCwAAZnJvbSBmdW5jdG9vbHMgaW1wb3J0IGNhY2hlZF9wcm9wZXJ0eQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCmltcG9ydCBQSUwuSW1hZ2UKaW1wb3J0IFBJTC5JbWFnZVRrCgpNRURJQV9ESVIgPSBOb25lCgoKZGVmIHBhcnNlX21lZGlhX3NwZWMoc3BlYyk6CiAgICBpZiAieyIgaW4gc3BlYzoKICAgICAgICBhc3NlcnQgIn0iIGluIHNwZWMsIGYiVW50ZXJtaW5hdGVkIHNwZWMge3NwZWN9IgogICAgICAgIGIgPSBzcGVjLmluZGV4KCJ7IikKICAgICAgICBlID0gc3BlYy5pbmRleCgifSIpCiAgICAgICAgcmV0dXJuIHNwZWNbOmJdLCBwYXJzZV9tZWRpYV9zcGVjX3Byb3BzKHNwZWNbYiArIDEgOiBlXSkKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIHNwZWMsIHt9CgoKZGVmIHBhcnNlX21lZGlhX3NwZWNfcHJvcHMocHJvcHMpOgogICAgZnJvbSAudGVtcGxhdGUgaW1wb3J0IGV2YWx1YXRlX2xpdGVyYWwKCiAgICBwcm9wcyA9IHByb3BzLnNwbGl0KCI7IikKICAgIHJldHVybiB7CiAgICAgICAgeC5zcGxpdCgiOiIpWzBdOiBldmFsdWF0ZV9saXRlcmFsKHguc3BsaXQoIjoiKVsxXS5zdHJpcCgpLCBOb25lKQogICAgICAgIGZvciB4IGluIHByb3BzCiAgICAgICAgaWYgeC5zdHJpcCgpCiAgICB9CgoKZGVmIGdldF9tZWRpYShzcGVjKToKICAgIHNwZWMsIHByb3BzID0gcGFyc2VfbWVkaWFfc3BlYyhzcGVjKQogICAgYXNzZXJ0ICgKICAgICAgICBuIDo9IHNwZWMuY291bnQoIjoiKQogICAgKSA+PSAxLCBmIm1lZGlhIHNwZWMgc2hvdWxkIGluY2x1ZGUgb25lICc6JywgaGFzOiB7bn0iCiAgICBtYXRjaCB0dXBsZShzcGVjLnNwbGl0KCI6IiwgMSkpOgogICAgICAgIGNhc2UgKCJpbWciLCBwYXRoKToKICAgICAgICAgICAgaWYgcGF0aFswXSA9PSAiQCI6CiAgICAgICAgICAgICAgICByZXR1cm4gTWVkaWFJbWFnZShwYXRoWzE6XSwgcHJvcHMpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gSW1hZ2UocGF0aCwgcHJvcHMpCiAgICAgICAgY2FzZSB3cm9uZzoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIlVucmVjb2duaXNlZCBtZWRpYSB7c3BlYyFyfSIpCgpkZWYgZ2V0X2ltYWdlKHNwZWMpOgogICAgaWYgbm90IHNwZWMuc3RhcnRzd2l0aCgnaW1nOicpOgogICAgICAgIHNwZWMgPSAnaW1nOicgKyBzcGVjCiAgICByZXR1cm4gZ2V0X21lZGlhKHNwZWMpCgpjbGFzcyBSZXNvdXJjZToKICAgIHBhc3MKCgpjbGFzcyBJbWFnZShSZXNvdXJjZSk6CiAgICBAY2FjaGVkX3Byb3BlcnR5CiAgICBkZWYgaW1hZ2Uoc2VsZik6CiAgICAgICAgaW1hZ2UgPSBQSUwuSW1hZ2Uub3BlbihzZWxmLmZ1bGxfcGF0aCkKICAgICAgICBpdywgaWggPSBpbWFnZS5zaXplCiAgICAgICAgd2lkdGgsIGhlaWdodCA9IHNlbGYucHJvcHMuZ2V0KCJ3aWR0aCIpLCBzZWxmLnByb3BzLmdldCgiaGVpZ2h0IikKICAgICAgICBpZiB3aWR0aCA9PSBoZWlnaHQgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuIGltYWdlCiAgICAgICAgZWxpZiB3aWR0aCBpcyBOb25lOgogICAgICAgICAgICB3aWR0aCA9IGhlaWdodCAvIGloICogaXcKICAgICAgICBlbGlmIGhlaWdodCBpcyBOb25lOgogICAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGl3ICogaWgKICAgICAgICByZXR1cm4gaW1hZ2UucmVzaXplKChpbnQod2lkdGgpLCBpbnQoaGVpZ2h0KSkpCgogICAgQGNhY2hlZF9wcm9wZXJ0eQogICAgZGVmIHRrKHNlbGYpOgogICAgICAgIHJldHVybiBQSUwuSW1hZ2VUay5QaG90b0ltYWdlKHNlbGYuaW1hZ2UpCgogICAgZGVmIGdldChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi50awoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXRoLCBwcm9wcyk6CiAgICAgICAgaWYgbm90ICIuIiBpbiBwYXRoOgogICAgICAgICAgICBwYXRoICs9ICIucG5nIgogICAgICAgIHNlbGYucGF0aCA9IHBhdGgKICAgICAgICBzZWxmLmZ1bGxfcGF0aCA9IHBhdGgKICAgICAgICBzZWxmLnByb3BzID0gcHJvcHMKCgpjbGFzcyBNZWRpYUltYWdlKEltYWdlKToKICAgIEBjYWNoZWRfcHJvcGVydHkKICAgIGRlZiBpbWFnZShzZWxmKToKICAgICAgICBpZiBNRURJQV9ESVIgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJNZWRpYSBkaXJlY3Rvcnkgbm90IHNldCIpCiAgICAgICAgaW1hZ2UgPSBQSUwuSW1hZ2Uub3BlbihzZWxmLmZ1bGxfcGF0aCkKICAgICAgICBpdywgaWggPSBpbWFnZS5zaXplCiAgICAgICAgd2lkdGgsIGhlaWdodCA9IHNlbGYucHJvcHMuZ2V0KCJ3aWR0aCIpLCBzZWxmLnByb3BzLmdldCgiaGVpZ2h0IikKICAgICAgICBpZiB3aWR0aCA9PSBoZWlnaHQgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuIGltYWdlCiAgICAgICAgZWxpZiB3aWR0aCBpcyBOb25lOgogICAgICAgICAgICB3aWR0aCA9IGhlaWdodCAvIGloICogaXcKICAgICAgICBlbGlmIGhlaWdodCBpcyBOb25lOgogICAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGl3ICogaWgKICAgICAgICByZXR1cm4gaW1hZ2UucmVzaXplKChpbnQod2lkdGgpLCBpbnQoaGVpZ2h0KSkpCgogICAgQHByb3BlcnR5CiAgICBkZWYgZnVsbF9wYXRoKHNlbGYpOgogICAgICAgIHJldHVybiBNRURJQV9ESVIgLyAiaW1nIiAvIHNlbGYucGF0aAoKICAgIEBjYWNoZWRfcHJvcGVydHkKICAgIGRlZiB0ayhzZWxmKToKICAgICAgICByZXR1cm4gUElMLkltYWdlVGsuUGhvdG9JbWFnZShzZWxmLmltYWdlKQoKICAgIGRlZiBnZXQoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYudGsKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGF0aCwgcHJvcHMpOgogICAgICAgIGlmIG5vdCAiLiIgaW4gcGF0aDoKICAgICAgICAgICAgcGF0aCArPSAiLnBuZyIKICAgICAgICBzZWxmLnBhdGggPSBwYXRoCiAgICAgICAgc2VsZi5wcm9wcyA9IHByb3BzCg",
					"AQAAAAAAAAABAAAAsgEAAAAAAACyAQAAAAAAAAAAAAAAAPC/"
				],
				[
					36,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAD4CAAAAAAAAQAIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPgIAAAAAAAA+AgAAAAAAAAAAAAAAAPC/"
				],
				[
					37,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAAD8CAAAAAAAAQAIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAPwIAAAAAAAA/AgAAAAAAAAAAAAAAAPC/"
				],
				[
					40,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAXgsAAAAAAABeCwAAZnJvbSBmdW5jdG9vbHMgaW1wb3J0IGNhY2hlZF9wcm9wZXJ0eQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCmltcG9ydCBQSUwuSW1hZ2UKaW1wb3J0IFBJTC5JbWFnZVRrCgpNRURJQV9ESVIgPSBOb25lCgoKZGVmIHBhcnNlX21lZGlhX3NwZWMoc3BlYyk6CiAgICBpZiAieyIgaW4gc3BlYzoKICAgICAgICBhc3NlcnQgIn0iIGluIHNwZWMsIGYiVW50ZXJtaW5hdGVkIHNwZWMge3NwZWN9IgogICAgICAgIGIgPSBzcGVjLmluZGV4KCJ7IikKICAgICAgICBlID0gc3BlYy5pbmRleCgifSIpCiAgICAgICAgcmV0dXJuIHNwZWNbOmJdLCBwYXJzZV9tZWRpYV9zcGVjX3Byb3BzKHNwZWNbYiArIDEgOiBlXSkKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIHNwZWMsIHt9CgoKZGVmIHBhcnNlX21lZGlhX3NwZWNfcHJvcHMocHJvcHMpOgogICAgZnJvbSAudGVtcGxhdGUgaW1wb3J0IGV2YWx1YXRlX2xpdGVyYWwKCiAgICBwcm9wcyA9IHByb3BzLnNwbGl0KCI7IikKICAgIHJldHVybiB7CiAgICAgICAgeC5zcGxpdCgiOiIpWzBdOiBldmFsdWF0ZV9saXRlcmFsKHguc3BsaXQoIjoiKVsxXS5zdHJpcCgpLCBOb25lKVsxXQogICAgICAgIGZvciB4IGluIHByb3BzCiAgICAgICAgaWYgeC5zdHJpcCgpCiAgICB9CgoKZGVmIGdldF9tZWRpYShzcGVjKToKICAgIHNwZWMsIHByb3BzID0gcGFyc2VfbWVkaWFfc3BlYyhzcGVjKQogICAgYXNzZXJ0ICgKICAgICAgICBuIDo9IHNwZWMuY291bnQoIjoiKQogICAgKSA+PSAxLCBmIm1lZGlhIHNwZWMgc2hvdWxkIGluY2x1ZGUgb25lICc6JywgaGFzOiB7bn0iCiAgICBtYXRjaCB0dXBsZShzcGVjLnNwbGl0KCI6IiwgMSkpOgogICAgICAgIGNhc2UgKCJpbWciLCBwYXRoKToKICAgICAgICAgICAgaWYgcGF0aFswXSA9PSAiQCI6CiAgICAgICAgICAgICAgICByZXR1cm4gTWVkaWFJbWFnZShwYXRoWzE6XSwgcHJvcHMpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gSW1hZ2UocGF0aCwgcHJvcHMpCiAgICAgICAgY2FzZSB3cm9uZzoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIlVucmVjb2duaXNlZCBtZWRpYSB7c3BlYyFyfSIpCgoKZGVmIGdldF9pbWFnZShzcGVjKToKICAgIGlmIG5vdCBzcGVjLnN0YXJ0c3dpdGgoImltZzoiKToKICAgICAgICBzcGVjID0gImltZzoiICsgc3BlYwogICAgcmV0dXJuIGdldF9tZWRpYShzcGVjKQoKCmNsYXNzIFJlc291cmNlOgogICAgcGFzcwoKCmNsYXNzIEltYWdlKFJlc291cmNlKToKICAgIEBjYWNoZWRfcHJvcGVydHkKICAgIGRlZiBpbWFnZShzZWxmKToKICAgICAgICBpbWFnZSA9IFBJTC5JbWFnZS5vcGVuKHNlbGYuZnVsbF9wYXRoKQogICAgICAgIGl3LCBpaCA9IGltYWdlLnNpemUKICAgICAgICB3aWR0aCwgaGVpZ2h0ID0gc2VsZi5wcm9wcy5nZXQoIndpZHRoIiksIHNlbGYucHJvcHMuZ2V0KCJoZWlnaHQiKQogICAgICAgIGlmIHdpZHRoID09IGhlaWdodCA9PSBOb25lOgogICAgICAgICAgICByZXR1cm4gaW1hZ2UKICAgICAgICBlbGlmIHdpZHRoIGlzIE5vbmU6CiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0IC8gaWggKiBpdwogICAgICAgIGVsaWYgaGVpZ2h0IGlzIE5vbmU6CiAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gaXcgKiBpaAogICAgICAgIHJldHVybiBpbWFnZS5yZXNpemUoKGludCh3aWR0aCksIGludChoZWlnaHQpKSkKCiAgICBAY2FjaGVkX3Byb3BlcnR5CiAgICBkZWYgdGsoc2VsZik6CiAgICAgICAgcmV0dXJuIFBJTC5JbWFnZVRrLlBob3RvSW1hZ2Uoc2VsZi5pbWFnZSkKCiAgICBkZWYgZ2V0KHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnRrCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhdGgsIHByb3BzKToKICAgICAgICBpZiBub3QgIi4iIGluIHBhdGg6CiAgICAgICAgICAgIHBhdGggKz0gIi5wbmciCiAgICAgICAgc2VsZi5wYXRoID0gcGF0aAogICAgICAgIHNlbGYuZnVsbF9wYXRoID0gcGF0aAogICAgICAgIHNlbGYucHJvcHMgPSBwcm9wcwoKCmNsYXNzIE1lZGlhSW1hZ2UoSW1hZ2UpOgogICAgQGNhY2hlZF9wcm9wZXJ0eQogICAgZGVmIGltYWdlKHNlbGYpOgogICAgICAgIGlmIE1FRElBX0RJUiBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIk1lZGlhIGRpcmVjdG9yeSBub3Qgc2V0IikKICAgICAgICBpbWFnZSA9IFBJTC5JbWFnZS5vcGVuKHNlbGYuZnVsbF9wYXRoKQogICAgICAgIGl3LCBpaCA9IGltYWdlLnNpemUKICAgICAgICB3aWR0aCwgaGVpZ2h0ID0gc2VsZi5wcm9wcy5nZXQoIndpZHRoIiksIHNlbGYucHJvcHMuZ2V0KCJoZWlnaHQiKQogICAgICAgIGlmIHdpZHRoID09IGhlaWdodCA9PSBOb25lOgogICAgICAgICAgICByZXR1cm4gaW1hZ2UKICAgICAgICBlbGlmIHdpZHRoIGlzIE5vbmU6CiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0IC8gaWggKiBpdwogICAgICAgIGVsaWYgaGVpZ2h0IGlzIE5vbmU6CiAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gaXcgKiBpaAogICAgICAgIHJldHVybiBpbWFnZS5yZXNpemUoKGludCh3aWR0aCksIGludChoZWlnaHQpKSkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBmdWxsX3BhdGgoc2VsZik6CiAgICAgICAgcmV0dXJuIE1FRElBX0RJUiAvICJpbWciIC8gc2VsZi5wYXRoCgogICAgQGNhY2hlZF9wcm9wZXJ0eQogICAgZGVmIHRrKHNlbGYpOgogICAgICAgIHJldHVybiBQSUwuSW1hZ2VUay5QaG90b0ltYWdlKHNlbGYuaW1hZ2UpCgogICAgZGVmIGdldChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi50awoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXRoLCBwcm9wcyk6CiAgICAgICAgaWYgbm90ICIuIiBpbiBwYXRoOgogICAgICAgICAgICBwYXRoICs9ICIucG5nIgogICAgICAgIHNlbGYucGF0aCA9IHBhdGgKICAgICAgICBzZWxmLnByb3BzID0gcHJvcHMK",
					"AQAAAAAAAAABAAAAQAIAAAAAAABAAgAAAAAAAAAAAAAAAPC/"
				],
				[
					44,
					1,
					"reindent",
					null,
					"AQAAAMsBAAAAAAAAzwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAywEAAAAAAADLAQAAAAAAAAAAAAAAoHpA"
				],
				[
					45,
					1,
					"insert",
					{
						"characters": "print"
					},
					"BQAAAM8BAAAAAAAA0AEAAAAAAAAAAAAA0AEAAAAAAADRAQAAAAAAAAAAAADRAQAAAAAAANIBAAAAAAAAAAAAANIBAAAAAAAA0wEAAAAAAAAAAAAA0wEAAAAAAADUAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzwEAAAAAAADPAQAAAAAAAAAAAAAAAPC/"
				],
				[
					46,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAANQBAAAAAAAA1gEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1AEAAAAAAADUAQAAAAAAAAAAAAAAAPC/"
				],
				[
					48,
					1,
					"insert",
					{
						"characters": "props"
					},
					"BQAAANUBAAAAAAAA1gEAAAAAAAAAAAAA1gEAAAAAAADXAQAAAAAAAAAAAADXAQAAAAAAANgBAAAAAAAAAAAAANgBAAAAAAAA2QEAAAAAAAAAAAAA2QEAAAAAAADaAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1QEAAAAAAADVAQAAAAAAAAAAAAAAAPC/"
				],
				[
					51,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAbwsAAAAAAABuCwAAZnJvbSBmdW5jdG9vbHMgaW1wb3J0IGNhY2hlZF9wcm9wZXJ0eQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCmltcG9ydCBQSUwuSW1hZ2UKaW1wb3J0IFBJTC5JbWFnZVRrCgpNRURJQV9ESVIgPSBOb25lCgoKZGVmIHBhcnNlX21lZGlhX3NwZWMoc3BlYyk6CiAgICBpZiAieyIgaW4gc3BlYzoKICAgICAgICBhc3NlcnQgIn0iIGluIHNwZWMsIGYiVW50ZXJtaW5hdGVkIHNwZWMge3NwZWN9IgogICAgICAgIGIgPSBzcGVjLmluZGV4KCJ7IikKICAgICAgICBlID0gc3BlYy5pbmRleCgifSIpCiAgICAgICAgcmV0dXJuIHNwZWNbOmJdLCBwYXJzZV9tZWRpYV9zcGVjX3Byb3BzKHNwZWNbYiArIDEgOiBlXSkKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIHNwZWMsIHt9CgoKZGVmIHBhcnNlX21lZGlhX3NwZWNfcHJvcHMocHJvcHMpOgogICAgZnJvbSAudGVtcGxhdGUgaW1wb3J0IGV2YWx1YXRlX2xpdGVyYWwKICAgIHByaW50KHByb3BzKQogICAgcHJvcHMgPSBwcm9wcy5zcGxpdCgiOyIpCiAgICByZXR1cm4gewogICAgICAgIHguc3BsaXQoIjoiKVswXTogZXZhbHVhdGVfbGl0ZXJhbCh4LnNwbGl0KCI6IilbMV0uc3RyaXAoKSwgTm9uZSlbMV0KICAgICAgICBmb3IgeCBpbiBwcm9wcwogICAgICAgIGlmIHguc3RyaXAoKQogICAgfQoKCmRlZiBnZXRfbWVkaWEoc3BlYyk6CiAgICBzcGVjLCBwcm9wcyA9IHBhcnNlX21lZGlhX3NwZWMoc3BlYykKICAgIGFzc2VydCAoCiAgICAgICAgbiA6PSBzcGVjLmNvdW50KCI6IikKICAgICkgPj0gMSwgZiJtZWRpYSBzcGVjIHNob3VsZCBpbmNsdWRlIG9uZSAnOicsIGhhczoge259IgogICAgbWF0Y2ggdHVwbGUoc3BlYy5zcGxpdCgiOiIsIDEpKToKICAgICAgICBjYXNlICgiaW1nIiwgcGF0aCk6CiAgICAgICAgICAgIGlmIHBhdGhbMF0gPT0gIkAiOgogICAgICAgICAgICAgICAgcmV0dXJuIE1lZGlhSW1hZ2UocGF0aFsxOl0sIHByb3BzKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmV0dXJuIEltYWdlKHBhdGgsIHByb3BzKQogICAgICAgIGNhc2Ugd3Jvbmc6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJVbnJlY29nbmlzZWQgbWVkaWEge3NwZWMhcn0iKQoKCmRlZiBnZXRfaW1hZ2Uoc3BlYyk6CiAgICBpZiBub3Qgc3BlYy5zdGFydHN3aXRoKCJpbWc6Iik6CiAgICAgICAgc3BlYyA9ICJpbWc6IiArIHNwZWMKICAgIHJldHVybiBnZXRfbWVkaWEoc3BlYykKCgpjbGFzcyBSZXNvdXJjZToKICAgIHBhc3MKCgpjbGFzcyBJbWFnZShSZXNvdXJjZSk6CiAgICBAY2FjaGVkX3Byb3BlcnR5CiAgICBkZWYgaW1hZ2Uoc2VsZik6CiAgICAgICAgaW1hZ2UgPSBQSUwuSW1hZ2Uub3BlbihzZWxmLmZ1bGxfcGF0aCkKICAgICAgICBpdywgaWggPSBpbWFnZS5zaXplCiAgICAgICAgd2lkdGgsIGhlaWdodCA9IHNlbGYucHJvcHMuZ2V0KCJ3aWR0aCIpLCBzZWxmLnByb3BzLmdldCgiaGVpZ2h0IikKICAgICAgICBpZiB3aWR0aCA9PSBoZWlnaHQgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuIGltYWdlCiAgICAgICAgZWxpZiB3aWR0aCBpcyBOb25lOgogICAgICAgICAgICB3aWR0aCA9IGhlaWdodCAvIGloICogaXcKICAgICAgICBlbGlmIGhlaWdodCBpcyBOb25lOgogICAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGl3ICogaWgKICAgICAgICByZXR1cm4gaW1hZ2UucmVzaXplKChpbnQod2lkdGgpLCBpbnQoaGVpZ2h0KSkpCgogICAgQGNhY2hlZF9wcm9wZXJ0eQogICAgZGVmIHRrKHNlbGYpOgogICAgICAgIHJldHVybiBQSUwuSW1hZ2VUay5QaG90b0ltYWdlKHNlbGYuaW1hZ2UpCgogICAgZGVmIGdldChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi50awoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXRoLCBwcm9wcyk6CiAgICAgICAgaWYgbm90ICIuIiBpbiBwYXRoOgogICAgICAgICAgICBwYXRoICs9ICIucG5nIgogICAgICAgIHNlbGYucGF0aCA9IHBhdGgKICAgICAgICBzZWxmLmZ1bGxfcGF0aCA9IHBhdGgKICAgICAgICBzZWxmLnByb3BzID0gcHJvcHMKCgpjbGFzcyBNZWRpYUltYWdlKEltYWdlKToKICAgIEBjYWNoZWRfcHJvcGVydHkKICAgIGRlZiBpbWFnZShzZWxmKToKICAgICAgICBpZiBNRURJQV9ESVIgaXMgTm9uZToKICAgICAgICAgICAgcmFpc2UgUnVudGltZUVycm9yKCJNZWRpYSBkaXJlY3Rvcnkgbm90IHNldCIpCiAgICAgICAgaW1hZ2UgPSBQSUwuSW1hZ2Uub3BlbihzZWxmLmZ1bGxfcGF0aCkKICAgICAgICBpdywgaWggPSBpbWFnZS5zaXplCiAgICAgICAgd2lkdGgsIGhlaWdodCA9IHNlbGYucHJvcHMuZ2V0KCJ3aWR0aCIpLCBzZWxmLnByb3BzLmdldCgiaGVpZ2h0IikKICAgICAgICBpZiB3aWR0aCA9PSBoZWlnaHQgPT0gTm9uZToKICAgICAgICAgICAgcmV0dXJuIGltYWdlCiAgICAgICAgZWxpZiB3aWR0aCBpcyBOb25lOgogICAgICAgICAgICB3aWR0aCA9IGhlaWdodCAvIGloICogaXcKICAgICAgICBlbGlmIGhlaWdodCBpcyBOb25lOgogICAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGl3ICogaWgKICAgICAgICByZXR1cm4gaW1hZ2UucmVzaXplKChpbnQod2lkdGgpLCBpbnQoaGVpZ2h0KSkpCgogICAgQHByb3BlcnR5CiAgICBkZWYgZnVsbF9wYXRoKHNlbGYpOgogICAgICAgIHJldHVybiBNRURJQV9ESVIgLyAiaW1nIiAvIHNlbGYucGF0aAoKICAgIEBjYWNoZWRfcHJvcGVydHkKICAgIGRlZiB0ayhzZWxmKToKICAgICAgICByZXR1cm4gUElMLkltYWdlVGsuUGhvdG9JbWFnZShzZWxmLmltYWdlKQoKICAgIGRlZiBnZXQoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYudGsKCiAgICBkZWYgX19pbml0X18oc2VsZiwgcGF0aCwgcHJvcHMpOgogICAgICAgIGlmIG5vdCAiLiIgaW4gcGF0aDoKICAgICAgICAgICAgcGF0aCArPSAiLnBuZyIKICAgICAgICBzZWxmLnBhdGggPSBwYXRoCiAgICAgICAgc2VsZi5wcm9wcyA9IHByb3BzCg",
					"AQAAAAAAAAABAAAA2gEAAAAAAADaAQAAAAAAAAAAAAAAAPC/"
				],
				[
					53,
					1,
					"left_delete",
					null,
					"AQAAAMwBAAAAAAAAzAEAAAAAAAARAAAAICAgIHByaW50KHByb3BzKQo",
					"AQAAAAAAAAABAAAAzAEAAAAAAADdAQAAAAAAAAAAAAAAAPC/"
				],
				[
					56,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAXgsAAAAAAABeCwAAZnJvbSBmdW5jdG9vbHMgaW1wb3J0IGNhY2hlZF9wcm9wZXJ0eQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCmltcG9ydCBQSUwuSW1hZ2UKaW1wb3J0IFBJTC5JbWFnZVRrCgpNRURJQV9ESVIgPSBOb25lCgoKZGVmIHBhcnNlX21lZGlhX3NwZWMoc3BlYyk6CiAgICBpZiAieyIgaW4gc3BlYzoKICAgICAgICBhc3NlcnQgIn0iIGluIHNwZWMsIGYiVW50ZXJtaW5hdGVkIHNwZWMge3NwZWN9IgogICAgICAgIGIgPSBzcGVjLmluZGV4KCJ7IikKICAgICAgICBlID0gc3BlYy5pbmRleCgifSIpCiAgICAgICAgcmV0dXJuIHNwZWNbOmJdLCBwYXJzZV9tZWRpYV9zcGVjX3Byb3BzKHNwZWNbYiArIDEgOiBlXSkKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuIHNwZWMsIHt9CgoKZGVmIHBhcnNlX21lZGlhX3NwZWNfcHJvcHMocHJvcHMpOgogICAgZnJvbSAudGVtcGxhdGUgaW1wb3J0IGV2YWx1YXRlX2xpdGVyYWwKCiAgICBwcm9wcyA9IHByb3BzLnNwbGl0KCI7IikKICAgIHJldHVybiB7CiAgICAgICAgeC5zcGxpdCgiOiIpWzBdOiBldmFsdWF0ZV9saXRlcmFsKHguc3BsaXQoIjoiKVsxXS5zdHJpcCgpLCBOb25lKVsxXQogICAgICAgIGZvciB4IGluIHByb3BzCiAgICAgICAgaWYgeC5zdHJpcCgpCiAgICB9CgoKZGVmIGdldF9tZWRpYShzcGVjKToKICAgIHNwZWMsIHByb3BzID0gcGFyc2VfbWVkaWFfc3BlYyhzcGVjKQogICAgYXNzZXJ0ICgKICAgICAgICBuIDo9IHNwZWMuY291bnQoIjoiKQogICAgKSA+PSAxLCBmIm1lZGlhIHNwZWMgc2hvdWxkIGluY2x1ZGUgb25lICc6JywgaGFzOiB7bn0iCiAgICBtYXRjaCB0dXBsZShzcGVjLnNwbGl0KCI6IiwgMSkpOgogICAgICAgIGNhc2UgKCJpbWciLCBwYXRoKToKICAgICAgICAgICAgaWYgcGF0aFswXSA9PSAiQCI6CiAgICAgICAgICAgICAgICByZXR1cm4gTWVkaWFJbWFnZShwYXRoWzE6XSwgcHJvcHMpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gSW1hZ2UocGF0aCwgcHJvcHMpCiAgICAgICAgY2FzZSB3cm9uZzoKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIlVucmVjb2duaXNlZCBtZWRpYSB7c3BlYyFyfSIpCgoKZGVmIGdldF9pbWFnZShzcGVjKToKICAgIGlmIG5vdCBzcGVjLnN0YXJ0c3dpdGgoImltZzoiKToKICAgICAgICBzcGVjID0gImltZzoiICsgc3BlYwogICAgcmV0dXJuIGdldF9tZWRpYShzcGVjKQoKCmNsYXNzIFJlc291cmNlOgogICAgcGFzcwoKCmNsYXNzIEltYWdlKFJlc291cmNlKToKICAgIEBjYWNoZWRfcHJvcGVydHkKICAgIGRlZiBpbWFnZShzZWxmKToKICAgICAgICBpbWFnZSA9IFBJTC5JbWFnZS5vcGVuKHNlbGYuZnVsbF9wYXRoKQogICAgICAgIGl3LCBpaCA9IGltYWdlLnNpemUKICAgICAgICB3aWR0aCwgaGVpZ2h0ID0gc2VsZi5wcm9wcy5nZXQoIndpZHRoIiksIHNlbGYucHJvcHMuZ2V0KCJoZWlnaHQiKQogICAgICAgIGlmIHdpZHRoID09IGhlaWdodCA9PSBOb25lOgogICAgICAgICAgICByZXR1cm4gaW1hZ2UKICAgICAgICBlbGlmIHdpZHRoIGlzIE5vbmU6CiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0IC8gaWggKiBpdwogICAgICAgIGVsaWYgaGVpZ2h0IGlzIE5vbmU6CiAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gaXcgKiBpaAogICAgICAgIHJldHVybiBpbWFnZS5yZXNpemUoKGludCh3aWR0aCksIGludChoZWlnaHQpKSkKCiAgICBAY2FjaGVkX3Byb3BlcnR5CiAgICBkZWYgdGsoc2VsZik6CiAgICAgICAgcmV0dXJuIFBJTC5JbWFnZVRrLlBob3RvSW1hZ2Uoc2VsZi5pbWFnZSkKCiAgICBkZWYgZ2V0KHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnRrCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhdGgsIHByb3BzKToKICAgICAgICBpZiBub3QgIi4iIGluIHBhdGg6CiAgICAgICAgICAgIHBhdGggKz0gIi5wbmciCiAgICAgICAgc2VsZi5wYXRoID0gcGF0aAogICAgICAgIHNlbGYuZnVsbF9wYXRoID0gcGF0aAogICAgICAgIHNlbGYucHJvcHMgPSBwcm9wcwoKCmNsYXNzIE1lZGlhSW1hZ2UoSW1hZ2UpOgogICAgQGNhY2hlZF9wcm9wZXJ0eQogICAgZGVmIGltYWdlKHNlbGYpOgogICAgICAgIGlmIE1FRElBX0RJUiBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIk1lZGlhIGRpcmVjdG9yeSBub3Qgc2V0IikKICAgICAgICBpbWFnZSA9IFBJTC5JbWFnZS5vcGVuKHNlbGYuZnVsbF9wYXRoKQogICAgICAgIGl3LCBpaCA9IGltYWdlLnNpemUKICAgICAgICB3aWR0aCwgaGVpZ2h0ID0gc2VsZi5wcm9wcy5nZXQoIndpZHRoIiksIHNlbGYucHJvcHMuZ2V0KCJoZWlnaHQiKQogICAgICAgIGlmIHdpZHRoID09IGhlaWdodCA9PSBOb25lOgogICAgICAgICAgICByZXR1cm4gaW1hZ2UKICAgICAgICBlbGlmIHdpZHRoIGlzIE5vbmU6CiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0IC8gaWggKiBpdwogICAgICAgIGVsaWYgaGVpZ2h0IGlzIE5vbmU6CiAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gaXcgKiBpaAogICAgICAgIHJldHVybiBpbWFnZS5yZXNpemUoKGludCh3aWR0aCksIGludChoZWlnaHQpKSkKCiAgICBAcHJvcGVydHkKICAgIGRlZiBmdWxsX3BhdGgoc2VsZik6CiAgICAgICAgcmV0dXJuIE1FRElBX0RJUiAvICJpbWciIC8gc2VsZi5wYXRoCgogICAgQGNhY2hlZF9wcm9wZXJ0eQogICAgZGVmIHRrKHNlbGYpOgogICAgICAgIHJldHVybiBQSUwuSW1hZ2VUay5QaG90b0ltYWdlKHNlbGYuaW1hZ2UpCgogICAgZGVmIGdldChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi50awoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXRoLCBwcm9wcyk6CiAgICAgICAgaWYgbm90ICIuIiBpbiBwYXRoOgogICAgICAgICAgICBwYXRoICs9ICIucG5nIgogICAgICAgIHNlbGYucGF0aCA9IHBhdGgKICAgICAgICBzZWxmLnByb3BzID0gcHJvcHMK",
					"AQAAAAAAAAABAAAAzAEAAAAAAADMAQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/taktk/menu.py",
			"settings":
			{
				"buffer_size": 6117,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					8,
					1,
					"insert",
					{
						"characters": "\nself.create"
					},
					"DQAAAN8DAAAAAAAA4AMAAAAAAAAAAAAA4AMAAAAAAADoAwAAAAAAAAAAAADoAwAAAAAAAOkDAAAAAAAAAAAAAOkDAAAAAAAA6gMAAAAAAAAAAAAA6gMAAAAAAADrAwAAAAAAAAAAAADrAwAAAAAAAOwDAAAAAAAAAAAAAOwDAAAAAAAA7QMAAAAAAAAAAAAA7QMAAAAAAADuAwAAAAAAAAAAAADuAwAAAAAAAO8DAAAAAAAAAAAAAO8DAAAAAAAA8AMAAAAAAAAAAAAA8AMAAAAAAADxAwAAAAAAAAAAAADxAwAAAAAAAPIDAAAAAAAAAAAAAPIDAAAAAAAA8wMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3wMAAAAAAADfAwAAAAAAAAAAAAAAAPC/"
				],
				[
					9,
					1,
					"insert",
					{
						"characters": "d"
					},
					"AQAAAPMDAAAAAAAA9AMAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8wMAAAAAAADzAwAAAAAAAAAAAAAAAPC/"
				],
				[
					10,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAPQDAAAAAAAA9QMAAAAAAAAAAAAA9QMAAAAAAAD2AwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9AMAAAAAAAD0AwAAAAAAAAAAAAAAAPC/"
				],
				[
					11,
					1,
					"insert",
					{
						"characters": " False"
					},
					"BgAAAPYDAAAAAAAA9wMAAAAAAAAAAAAA9wMAAAAAAAD4AwAAAAAAAAAAAAD4AwAAAAAAAPkDAAAAAAAAAAAAAPkDAAAAAAAA+gMAAAAAAAAAAAAA+gMAAAAAAAD7AwAAAAAAAAAAAAD7AwAAAAAAAPwDAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9gMAAAAAAAD2AwAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAqBcAAAAAAACoFwAAIiIiQ29udGFpbiBoZWxwZXIgY2xhc3MgZm9yIG1lbnUgbWFuYWdlbWVudC4iIiIKZnJvbSBsb2dnaW5nIGltcG9ydCBnZXRMb2dnZXIKCmZyb20gdGtpbnRlciBpbXBvcnQgTWVudSBhcyB0a01lbnUsIFRvcGxldmVsCmZyb20gLiBpbXBvcnQgZGljdGlvbmFyeSwgd3JpdGVhYmxlCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgT3B0aW9uYWwsIEFueQoKbG9nID0gZ2V0TG9nZ2VyKF9fbmFtZV9fKQpNZW51U3RydWN0dXJlID0gZGljdFtzdHIsIENhbGxhYmxlIHwgc3RyIHwgZGljdF0KCgpjbGFzcyBNZW51KHdyaXRlYWJsZS5TdWJzY3JpYmVyKToKICAgICIiIkNyZWF0ZSBhIG1lbnUgc3RydWN0dXJlIHRvIGJlIHNob3duIGFzIHBvcHVwIG9yIGJpbmRlZCB0byBhIHRvcGxldmVsLiIiIgoKICAgIG1lbnUgPSBOb25lCiAgICBtZW51X3N0cnVjdHVyZSA9IE5vbmUKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBzdHJ1Y3R1cmU6IE1lbnVTdHJ1Y3R1cmUsCiAgICAgICAgdHJhbnNsYXRpb25zOiBzdHIgPSAibWVudSIsCiAgICApOgogICAgICAgICIiIgogICAgICAgIENyZWF0ZSB0aGUgbWVudSBmcm9tIHN0cnVjdHVyZSB1c2luZyB0cmFuc2xhdGlvbiBoZWFkaW5nLgoKICAgICAgICA6cGFyYW0gc3RydWN0dXJlOiBBIGRpY3Rpb25hcnkgY29udGFpbmluZyBtZW51IHN0cnVjdHVyZSwgdmlldyBkb2NzLgogICAgICAgIDpwYXJhbSB0cmFuc2xhdGlvbnM6IFRoZSB0cmFuc2xhdGlvbiBoZWFkaW5nIHRvIGxvYWQgdHJhbnNsYXRpb25zIGZyb20uCiAgICAgICAgIiIiCiAgICAgICAgd3JpdGVhYmxlLlN1YnNjcmliZXIuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLnN1YnNjcmliZV90byhkaWN0aW9uYXJ5LkRpY3Rpb25hcnkuc3Vic2NyaWJlYWJsZSwgc2VsZi51cGRhdGUpCiAgICAgICAgc2VsZi5zdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmUKICAgICAgICBzZWxmLnRyYW5zbGF0aW9ucyA9IHRyYW5zbGF0aW9ucwogICAgICAgIHNlbGYuY3JlYXRlZCA9IEZhbHNlCgogICAgZGVmIGNyZWF0ZShzZWxmKSAtPiB0a01lbnU6CiAgICAgICAgIiIiQ3JlYXRlIHRoZSB0a2ludGVyLk1lbnUgaW5zdGFuY2UuIiIiCiAgICAgICAgbWVudWJhciA9IHRrTWVudSgpCiAgICAgICAgTWVudS5idWlsZF9zdWJtZW51cyhtZW51YmFyLCBzZWxmLl9ldmFsX3N0cnVjdHVyZSgpKQogICAgICAgIHNlbGYubWVudSA9IG1lbnViYXIKICAgICAgICBzZWxmLm1lbnVfc3RydWN0dXJlID0gc2VsZi5fZXZhbF9zdHJ1Y3R1cmUoKQogICAgICAgIHJldHVybiBtZW51YmFyCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgYnVpbGRfc3VibWVudXMoY2xzLCBtZW51OiB0a01lbnUsIHN0cnVjdHVyZTogTWVudVN0cnVjdHVyZSk6CiAgICAgICAgIiIiUmVjdXJzaXZlbHkgYnVpbGQgdGhlIGNvcnJlc3BvbmRpbmcgc3RydWN0dXJlIGludG8gdGhlIG1lbnUuIiIiCiAgICAgICAgZnJvbSAuZGljdGlvbmFyeSBpbXBvcnQgVHJhbnNsYXRpb24KICAgICAgICBmcm9tIC53cml0ZWFibGUgaW1wb3J0IFdyaXRlYWJsZQoKICAgICAgICBmb3IgbGFiZWwsIGNvbnRlbnRzIGluIHN0cnVjdHVyZS5pdGVtcygpOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBpZHgsIG5hbWUgPSBsYWJlbAogICAgICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UobmFtZSwgKFdyaXRlYWJsZSwgVHJhbnNsYXRpb24pKToKICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLmdldCgpCiAgICAgICAgICAgIGlmIGNhbGxhYmxlKGNvbnRlbnRzKTogICMgaXQgaXMgYSBjb21tYW5kCiAgICAgICAgICAgICAgICBtZW51LmFkZF9jb21tYW5kKGxhYmVsPW5hbWUsIGNvbW1hbmQ9Y29udGVudHMsIHVuZGVybGluZT1pZHgpCiAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZShjb250ZW50cywgZGljdCk6ICAjIGEgc3VibWVudQogICAgICAgICAgICAgICAgc3VibWVudSA9IHRrTWVudShtZW51KQogICAgICAgICAgICAgICAgbWVudS5hZGRfY2FzY2FkZShtZW51PXN1Ym1lbnUsIGxhYmVsPW5hbWUsIHVuZGVybGluZT1pZHgpCiAgICAgICAgICAgICAgICBjbHMuYnVpbGRfc3VibWVudXMoc3VibWVudSwgY29udGVudHMpCiAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZShjb250ZW50cywgV3JpdGVhYmxlKToKICAgICAgICAgICAgICAgIHZhbCA9IGNvbnRlbnRzLmdldCgpCiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKHZhbCwgYm9vbCk6CiAgICAgICAgICAgICAgICAgICAgbWVudS5hZGRfY2hlY2tidXR0b24oCiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPW5hbWUsIHZhcmlhYmxlPWNvbnRlbnRzLmJvb2xlYW52YXIsIHVuZGVybGluZT1pZHgKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVsaWYgbmFtZSA9PSAiIXNlcCI6CiAgICAgICAgICAgICAgICBtZW51LmFkZF9zZXBhcmF0b3IoKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICAgICBmIndyb25nIG1lbnUgZGljdCBmaWVsZDoge2xhYmVsIXJ9Ontjb250ZW50cyFyfSIsCiAgICAgICAgICAgICAgICApCgogICAgZGVmIHBvc3Qoc2VsZiwgeHBvczogaW50IHwgdHVwbGVbaW50XSwgeXBvczogT3B0aW9uYWxbaW50XSA9IE5vbmUpOgogICAgICAgICIiIgogICAgICAgIFBvcHVwIHRoZSBtZW51IGF0IHNwZWNpZmllZCBsb2NhdGlvbi4KCiAgICAgICAgZWl0aGVyOgogICAgICAgIC0gbXlfbWVudS5wb3N0KCh4LCB5KSkKICAgICAgICAtIG15X21lbnUucG9zdCh4LCB5KQogICAgICAgICIiIgogICAgICAgIGlmIGlzaW5zdGFuY2UoeHBvcywgdHVwbGUpOgogICAgICAgICAgICB4cG9zLCB5cG9zID0geHBvcwogICAgICAgIGlmIHNlbGYubWVudV9zdHJ1Y3R1cmUgIT0gc2VsZi5fZXZhbF9zdHJ1Y3R1cmUoKToKICAgICAgICAgICAgc2VsZi5jcmVhdGUoKQogICAgICAgIHNlbGYubWVudS5wb3N0KHhwb3MsIHlwb3MpCgogICAgZGVmIHRvcGxldmVsKHNlbGYsIHJvb3Q6IFRvcGxldmVsKSAtPiBUb3BsZXZlbDoKICAgICAgICAiIiJTZXQgdGhlIG1lbnUgYXMgdGhlIHRvcGxldmVsJ3MgbWVudS4iIiIKICAgICAgICBpZiBzZWxmLm1lbnVfc3RydWN0dXJlICE9IHNlbGYuX2V2YWxfc3RydWN0dXJlKCk6CiAgICAgICAgICAgIHNlbGYuY3JlYXRlKCkKICAgICAgICByb290WyJtZW51Il0gPSBzZWxmLm1lbnUKICAgICAgICByZXR1cm4gcm9vdAoKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBpdGVtOiBzdHIgfCB0dXBsZVtzdHJdKToKICAgICAgICAiIiIKICAgICAgICBHZXQgYSBtZW51IHN1YiBpdGVtLgoKICAgICAgICBUaGUgaXRlbSBtYXkgYmUgYSB0dXBsZSBvZiBtZW51IGxhYmVscyBvciB0aGUgcGF0aCB0byBtZW51IGxhYmVsCiAgICAgICAgc2VwYXJhdGVkIGJ5IHNsYXNoZXMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVtLCBzdHIpOgogICAgICAgICAgICBwYXJ0cyA9IGl0ZW0uc3BsaXQoIi8iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHBhcnRzID0gdHVwbGUoaXRlbSkKICAgICAgICBvYmogPSBzZWxmLnN0cnVjdHVyZQogICAgICAgIGZvciB4IGluIHBhcnRzOgogICAgICAgICAgICBvYmogPSBvYmpbeF0KICAgICAgICByZXR1cm4gb2JqCgogICAgZGVmIF9fc2V0aXRlbV9fKHNlbGYsIGl0ZW06IHN0ciB8IHR1cGxlW3N0cl0sIHZhbDogQW55KToKICAgICAgICAiIiIKICAgICAgICBTZXQgYSBtZW51IHN1YiBpdGVtLgoKICAgICAgICBUaGUgaXRlbSBtYXkgYmUgYSB0dXBsZSBvZiBtZW51IGxhYmVscyBvciB0aGUgcGF0aCB0byBtZW51IGxhYmVsCiAgICAgICAgc2VwYXJhdGVkIGJ5IHNsYXNoZXMuCiAgICAgICAgIiIiCiAgICAgICAgaWYgaXNpbnN0YW5jZShpdGVtLCBzdHIpOgogICAgICAgICAgICBwYXJ0cyA9IGl0ZW0uc3BsaXQoIi8iKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHBhcnRzID0gdHVwbGUoaXRlbSkKICAgICAgICBvYmogPSBzZWxmLnN0cnVjdHVyZQogICAgICAgICpwYXRoLCBpdGVtID0gcGFydHMKICAgICAgICBmb3IgeCBpbiBwYXRoOgogICAgICAgICAgICBpZiB4IGluIG9iajoKICAgICAgICAgICAgICAgIG9iaiA9IG9ialt4XQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgbm8gPSB7fQogICAgICAgICAgICAgICAgb2JqW3hdID0gbm8KICAgICAgICAgICAgICAgIG9iaiA9IG5vCiAgICAgICAgb2JqW2l0ZW1dID0gdmFsCiAgICAgICAgc2VsZi51cGRhdGUoKQogICAgICAgIHJldHVybiB2YWwKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgICIiIlVwZGF0ZSB0aGUgbWVudSBvYmplY3QuIiIiCiAgICAgICAgc2VsZi5tZW51LmRlbGV0ZSgwLCAiZW5kIikKICAgICAgICBzZWxmLmJ1aWxkX3N1Ym1lbnVzKHNlbGYubWVudSwgc2VsZi5fZXZhbF9zdHJ1Y3R1cmUoKSkKCiAgICBkZWYgX2V2YWxfc3RydWN0dXJlKHNlbGYpOgogICAgICAgIGRlZiBidWlsZF9zdWIoYWxpYXMsIHN0cnVjdHVyZSk6CiAgICAgICAgICAgIGZyb20gYnVpbHRpbnMgaW1wb3J0IF8KCiAgICAgICAgICAgIHJldCA9IHt9CiAgICAgICAgICAgIGZvciBjaGlsZF9uYW1lLCBjaGlsZF9jb250ZW50cyBpbiBzdHJ1Y3R1cmUuaXRlbXMoKToKICAgICAgICAgICAgICAgIG1lbnVfdHJhbnMgPSBjaGlsZF9uYW1lCiAgICAgICAgICAgICAgICBpZiBjaGlsZF9uYW1lLnN0YXJ0c3dpdGgoIkAiKTogICMgYWxpYXMgdHJhbnNsYXRpb24KICAgICAgICAgICAgICAgICAgICBtZW51X3RyYW5zID0gY2hpbGRfbmFtZVsxOl0KICAgICAgICAgICAgICAgICAgICBhYnNvbHV0ZSA9IG1lbnVfdHJhbnMuc3RhcnRzd2l0aCgiLyIpCiAgICAgICAgICAgICAgICAgICAgaWYgYWJzb2x1dGU6CiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVfdHJhbnMgPSBtZW51X3RyYW5zWzE6XQogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgYmFzZW5hbWUgPSAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51X3RyYW5zIGlmIGFic29sdXRlIGVsc2UgZiJ7YWxpYXN9LnttZW51X3RyYW5zfSIKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gXyhmIntiYXNlbmFtZX0uX19sYWJlbF9fIikKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IE5hbWVFcnJvcjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSAiTm90IEZvdW5kIgogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IF8oYmFzZW5hbWUpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICJOb3QgZm91bmQiCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIG5hbWUgPSBjaGlsZF9uYW1lCiAgICAgICAgICAgICAgICBpZiAiJiIgaW4gbmFtZToKICAgICAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5pbmRleCgiJiIpLCBuYW1lLnJlcGxhY2UoIiYiLCAiIikKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IChOb25lLCBuYW1lKQogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShjaGlsZF9jb250ZW50cywgZGljdCk6CiAgICAgICAgICAgICAgICAgICAgcmV0W25hbWVdID0gYnVpbGRfc3ViKAogICAgICAgICAgICAgICAgICAgICAgICBhbGlhcyArIGYiLnttZW51X3RyYW5zfSIsIGNoaWxkX2NvbnRlbnRzCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByZXRbbmFtZV0gPSBjaGlsZF9jb250ZW50cwogICAgICAgICAgICByZXR1cm4gcmV0CgogICAgICAgIHJldHVybiBidWlsZF9zdWIoc2VsZi50cmFuc2xhdGlvbnMsIHNlbGYuc3RydWN0dXJlKQo",
					"AQAAAAAAAAABAAAA/AMAAAAAAAD8AwAAAAAAAAAAAAAAAPC/"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": "\nse;f/"
					},
					"BwAAAPYEAAAAAAAA9wQAAAAAAAAAAAAA9wQAAAAAAAD/BAAAAAAAAAAAAAD/BAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAQUAAAAAAAAAAAAAAQUAAAAAAAACBQAAAAAAAAAAAAACBQAAAAAAAAMFAAAAAAAAAAAAAAMFAAAAAAAABAUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9gQAAAAAAAD2BAAAAAAAAAAAAAAAAPC/"
				],
				[
					25,
					3,
					"left_delete",
					null,
					"AwAAAAMFAAAAAAAAAwUAAAAAAAABAAAALwIFAAAAAAAAAgUAAAAAAAABAAAAZgEFAAAAAAAAAQUAAAAAAAABAAAAOw",
					"AQAAAAAAAAABAAAABAUAAAAAAAAEBQAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					1,
					"insert",
					{
						"characters": "lf.cre"
					},
					"BgAAAAEFAAAAAAAAAgUAAAAAAAAAAAAAAgUAAAAAAAADBQAAAAAAAAAAAAADBQAAAAAAAAQFAAAAAAAAAAAAAAQFAAAAAAAABQUAAAAAAAAAAAAABQUAAAAAAAAGBQAAAAAAAAAAAAAGBQAAAAAAAAcFAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAQUAAAAAAAABBQAAAAAAAAAAAAAAAPC/"
				],
				[
					28,
					1,
					"insert_dimensions",
					null,
					"AgAAAAQFAAAAAAAABAUAAAAAAAADAAAAY3JlBAUAAAAAAAALBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABwUAAAAAAAAHBQAAAAAAAAAAAAAAAPC/"
				],
				[
					29,
					1,
					"insert",
					{
						"characters": "  ="
					},
					"AwAAAAsFAAAAAAAADAUAAAAAAAAAAAAADAUAAAAAAAANBQAAAAAAAAAAAAANBQAAAAAAAA4FAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAACwUAAAAAAAALBQAAAAAAAAAAAAAAAPC/"
				],
				[
					30,
					1,
					"insert",
					{
						"characters": " True"
					},
					"BQAAAA4FAAAAAAAADwUAAAAAAAAAAAAADwUAAAAAAAAQBQAAAAAAAAAAAAAQBQAAAAAAABEFAAAAAAAAAAAAABEFAAAAAAAAEgUAAAAAAAAAAAAAEgUAAAAAAAATBQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADgUAAAAAAAAOBQAAAAAAAAAAAAAAAPC/"
				],
				[
					33,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAxBcAAAAAAADFFwAAIiIiQ29udGFpbiBoZWxwZXIgY2xhc3MgZm9yIG1lbnUgbWFuYWdlbWVudC4iIiIKZnJvbSBsb2dnaW5nIGltcG9ydCBnZXRMb2dnZXIKCmZyb20gdGtpbnRlciBpbXBvcnQgTWVudSBhcyB0a01lbnUsIFRvcGxldmVsCmZyb20gLiBpbXBvcnQgZGljdGlvbmFyeSwgd3JpdGVhYmxlCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgT3B0aW9uYWwsIEFueQoKbG9nID0gZ2V0TG9nZ2VyKF9fbmFtZV9fKQpNZW51U3RydWN0dXJlID0gZGljdFtzdHIsIENhbGxhYmxlIHwgc3RyIHwgZGljdF0KCgpjbGFzcyBNZW51KHdyaXRlYWJsZS5TdWJzY3JpYmVyKToKICAgICIiIkNyZWF0ZSBhIG1lbnUgc3RydWN0dXJlIHRvIGJlIHNob3duIGFzIHBvcHVwIG9yIGJpbmRlZCB0byBhIHRvcGxldmVsLiIiIgoKICAgIG1lbnUgPSBOb25lCiAgICBtZW51X3N0cnVjdHVyZSA9IE5vbmUKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBzdHJ1Y3R1cmU6IE1lbnVTdHJ1Y3R1cmUsCiAgICAgICAgdHJhbnNsYXRpb25zOiBzdHIgPSAibWVudSIsCiAgICApOgogICAgICAgICIiIgogICAgICAgIENyZWF0ZSB0aGUgbWVudSBmcm9tIHN0cnVjdHVyZSB1c2luZyB0cmFuc2xhdGlvbiBoZWFkaW5nLgoKICAgICAgICA6cGFyYW0gc3RydWN0dXJlOiBBIGRpY3Rpb25hcnkgY29udGFpbmluZyBtZW51IHN0cnVjdHVyZSwgdmlldyBkb2NzLgogICAgICAgIDpwYXJhbSB0cmFuc2xhdGlvbnM6IFRoZSB0cmFuc2xhdGlvbiBoZWFkaW5nIHRvIGxvYWQgdHJhbnNsYXRpb25zIGZyb20uCiAgICAgICAgIiIiCiAgICAgICAgd3JpdGVhYmxlLlN1YnNjcmliZXIuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLnN1YnNjcmliZV90byhkaWN0aW9uYXJ5LkRpY3Rpb25hcnkuc3Vic2NyaWJlYWJsZSwgc2VsZi51cGRhdGUpCiAgICAgICAgc2VsZi5zdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmUKICAgICAgICBzZWxmLnRyYW5zbGF0aW9ucyA9IHRyYW5zbGF0aW9ucwogICAgICAgIHNlbGYuY3JlYXRlZCA9IEZhbHNlCgogICAgZGVmIGNyZWF0ZShzZWxmKSAtPiB0a01lbnU6CiAgICAgICAgIiIiQ3JlYXRlIHRoZSB0a2ludGVyLk1lbnUgaW5zdGFuY2UuIiIiCiAgICAgICAgbWVudWJhciA9IHRrTWVudSgpCiAgICAgICAgTWVudS5idWlsZF9zdWJtZW51cyhtZW51YmFyLCBzZWxmLl9ldmFsX3N0cnVjdHVyZSgpKQogICAgICAgIHNlbGYubWVudSA9IG1lbnViYXIKICAgICAgICBzZWxmLm1lbnVfc3RydWN0dXJlID0gc2VsZi5fZXZhbF9zdHJ1Y3R1cmUoKQogICAgICAgIHNlbGYuY3JlYXRlZCAgPSBUcnVlCiAgICAgICAgcmV0dXJuIG1lbnViYXIKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBidWlsZF9zdWJtZW51cyhjbHMsIG1lbnU6IHRrTWVudSwgc3RydWN0dXJlOiBNZW51U3RydWN0dXJlKToKICAgICAgICAiIiJSZWN1cnNpdmVseSBidWlsZCB0aGUgY29ycmVzcG9uZGluZyBzdHJ1Y3R1cmUgaW50byB0aGUgbWVudS4iIiIKICAgICAgICBmcm9tIC5kaWN0aW9uYXJ5IGltcG9ydCBUcmFuc2xhdGlvbgogICAgICAgIGZyb20gLndyaXRlYWJsZSBpbXBvcnQgV3JpdGVhYmxlCgogICAgICAgIGZvciBsYWJlbCwgY29udGVudHMgaW4gc3RydWN0dXJlLml0ZW1zKCk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGlkeCwgbmFtZSA9IGxhYmVsCiAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShuYW1lLCAoV3JpdGVhYmxlLCBUcmFuc2xhdGlvbikpOgogICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuZ2V0KCkKICAgICAgICAgICAgaWYgY2FsbGFibGUoY29udGVudHMpOiAgIyBpdCBpcyBhIGNvbW1hbmQKICAgICAgICAgICAgICAgIG1lbnUuYWRkX2NvbW1hbmQobGFiZWw9bmFtZSwgY29tbWFuZD1jb250ZW50cywgdW5kZXJsaW5lPWlkeCkKICAgICAgICAgICAgZWxpZiBpc2luc3RhbmNlKGNvbnRlbnRzLCBkaWN0KTogICMgYSBzdWJtZW51CiAgICAgICAgICAgICAgICBzdWJtZW51ID0gdGtNZW51KG1lbnUpCiAgICAgICAgICAgICAgICBtZW51LmFkZF9jYXNjYWRlKG1lbnU9c3VibWVudSwgbGFiZWw9bmFtZSwgdW5kZXJsaW5lPWlkeCkKICAgICAgICAgICAgICAgIGNscy5idWlsZF9zdWJtZW51cyhzdWJtZW51LCBjb250ZW50cykKICAgICAgICAgICAgZWxpZiBpc2luc3RhbmNlKGNvbnRlbnRzLCBXcml0ZWFibGUpOgogICAgICAgICAgICAgICAgdmFsID0gY29udGVudHMuZ2V0KCkKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UodmFsLCBib29sKToKICAgICAgICAgICAgICAgICAgICBtZW51LmFkZF9jaGVja2J1dHRvbigKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9bmFtZSwgdmFyaWFibGU9Y29udGVudHMuYm9vbGVhbnZhciwgdW5kZXJsaW5lPWlkeAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZWxpZiBuYW1lID09ICIhc2VwIjoKICAgICAgICAgICAgICAgIG1lbnUuYWRkX3NlcGFyYXRvcigpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgICAgIGYid3JvbmcgbWVudSBkaWN0IGZpZWxkOiB7bGFiZWwhcn06e2NvbnRlbnRzIXJ9IiwKICAgICAgICAgICAgICAgICkKCiAgICBkZWYgcG9zdChzZWxmLCB4cG9zOiBpbnQgfCB0dXBsZVtpbnRdLCB5cG9zOiBPcHRpb25hbFtpbnRdID0gTm9uZSk6CiAgICAgICAgIiIiCiAgICAgICAgUG9wdXAgdGhlIG1lbnUgYXQgc3BlY2lmaWVkIGxvY2F0aW9uLgoKICAgICAgICBlaXRoZXI6CiAgICAgICAgLSBteV9tZW51LnBvc3QoKHgsIHkpKQogICAgICAgIC0gbXlfbWVudS5wb3N0KHgsIHkpCiAgICAgICAgIiIiCiAgICAgICAgaWYgaXNpbnN0YW5jZSh4cG9zLCB0dXBsZSk6CiAgICAgICAgICAgIHhwb3MsIHlwb3MgPSB4cG9zCiAgICAgICAgaWYgc2VsZi5tZW51X3N0cnVjdHVyZSAhPSBzZWxmLl9ldmFsX3N0cnVjdHVyZSgpOgogICAgICAgICAgICBzZWxmLmNyZWF0ZSgpCiAgICAgICAgc2VsZi5tZW51LnBvc3QoeHBvcywgeXBvcykKCiAgICBkZWYgdG9wbGV2ZWwoc2VsZiwgcm9vdDogVG9wbGV2ZWwpIC0+IFRvcGxldmVsOgogICAgICAgICIiIlNldCB0aGUgbWVudSBhcyB0aGUgdG9wbGV2ZWwncyBtZW51LiIiIgogICAgICAgIGlmIHNlbGYubWVudV9zdHJ1Y3R1cmUgIT0gc2VsZi5fZXZhbF9zdHJ1Y3R1cmUoKToKICAgICAgICAgICAgc2VsZi5jcmVhdGUoKQogICAgICAgIHJvb3RbIm1lbnUiXSA9IHNlbGYubWVudQogICAgICAgIHJldHVybiByb290CgogICAgZGVmIF9fZ2V0aXRlbV9fKHNlbGYsIGl0ZW06IHN0ciB8IHR1cGxlW3N0cl0pOgogICAgICAgICIiIgogICAgICAgIEdldCBhIG1lbnUgc3ViIGl0ZW0uCgogICAgICAgIFRoZSBpdGVtIG1heSBiZSBhIHR1cGxlIG9mIG1lbnUgbGFiZWxzIG9yIHRoZSBwYXRoIHRvIG1lbnUgbGFiZWwKICAgICAgICBzZXBhcmF0ZWQgYnkgc2xhc2hlcy4KICAgICAgICAiIiIKICAgICAgICBpZiBpc2luc3RhbmNlKGl0ZW0sIHN0cik6CiAgICAgICAgICAgIHBhcnRzID0gaXRlbS5zcGxpdCgiLyIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcGFydHMgPSB0dXBsZShpdGVtKQogICAgICAgIG9iaiA9IHNlbGYuc3RydWN0dXJlCiAgICAgICAgZm9yIHggaW4gcGFydHM6CiAgICAgICAgICAgIG9iaiA9IG9ialt4XQogICAgICAgIHJldHVybiBvYmoKCiAgICBkZWYgX19zZXRpdGVtX18oc2VsZiwgaXRlbTogc3RyIHwgdHVwbGVbc3RyXSwgdmFsOiBBbnkpOgogICAgICAgICIiIgogICAgICAgIFNldCBhIG1lbnUgc3ViIGl0ZW0uCgogICAgICAgIFRoZSBpdGVtIG1heSBiZSBhIHR1cGxlIG9mIG1lbnUgbGFiZWxzIG9yIHRoZSBwYXRoIHRvIG1lbnUgbGFiZWwKICAgICAgICBzZXBhcmF0ZWQgYnkgc2xhc2hlcy4KICAgICAgICAiIiIKICAgICAgICBpZiBpc2luc3RhbmNlKGl0ZW0sIHN0cik6CiAgICAgICAgICAgIHBhcnRzID0gaXRlbS5zcGxpdCgiLyIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcGFydHMgPSB0dXBsZShpdGVtKQogICAgICAgIG9iaiA9IHNlbGYuc3RydWN0dXJlCiAgICAgICAgKnBhdGgsIGl0ZW0gPSBwYXJ0cwogICAgICAgIGZvciB4IGluIHBhdGg6CiAgICAgICAgICAgIGlmIHggaW4gb2JqOgogICAgICAgICAgICAgICAgb2JqID0gb2JqW3hdCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBubyA9IHt9CiAgICAgICAgICAgICAgICBvYmpbeF0gPSBubwogICAgICAgICAgICAgICAgb2JqID0gbm8KICAgICAgICBvYmpbaXRlbV0gPSB2YWwKICAgICAgICBzZWxmLnVwZGF0ZSgpCiAgICAgICAgcmV0dXJuIHZhbAoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgIiIiVXBkYXRlIHRoZSBtZW51IG9iamVjdC4iIiIKICAgICAgICBzZWxmLm1lbnUuZGVsZXRlKDAsICJlbmQiKQogICAgICAgIHNlbGYuYnVpbGRfc3VibWVudXMoc2VsZi5tZW51LCBzZWxmLl9ldmFsX3N0cnVjdHVyZSgpKQoKICAgIGRlZiBfZXZhbF9zdHJ1Y3R1cmUoc2VsZik6CiAgICAgICAgZGVmIGJ1aWxkX3N1YihhbGlhcywgc3RydWN0dXJlKToKICAgICAgICAgICAgZnJvbSBidWlsdGlucyBpbXBvcnQgXwoKICAgICAgICAgICAgcmV0ID0ge30KICAgICAgICAgICAgZm9yIGNoaWxkX25hbWUsIGNoaWxkX2NvbnRlbnRzIGluIHN0cnVjdHVyZS5pdGVtcygpOgogICAgICAgICAgICAgICAgbWVudV90cmFucyA9IGNoaWxkX25hbWUKICAgICAgICAgICAgICAgIGlmIGNoaWxkX25hbWUuc3RhcnRzd2l0aCgiQCIpOiAgIyBhbGlhcyB0cmFuc2xhdGlvbgogICAgICAgICAgICAgICAgICAgIG1lbnVfdHJhbnMgPSBjaGlsZF9uYW1lWzE6XQogICAgICAgICAgICAgICAgICAgIGFic29sdXRlID0gbWVudV90cmFucy5zdGFydHN3aXRoKCIvIikKICAgICAgICAgICAgICAgICAgICBpZiBhYnNvbHV0ZToKICAgICAgICAgICAgICAgICAgICAgICAgbWVudV90cmFucyA9IG1lbnVfdHJhbnNbMTpdCiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBiYXNlbmFtZSA9ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVfdHJhbnMgaWYgYWJzb2x1dGUgZWxzZSBmInthbGlhc30ue21lbnVfdHJhbnN9IgogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBfKGYie2Jhc2VuYW1lfS5fX2xhYmVsX18iKQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgTmFtZUVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9ICJOb3QgRm91bmQiCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gXyhiYXNlbmFtZSkKICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gIk5vdCBmb3VuZCIKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGNoaWxkX25hbWUKICAgICAgICAgICAgICAgIGlmICImIiBpbiBuYW1lOgogICAgICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLmluZGV4KCImIiksIG5hbWUucmVwbGFjZSgiJiIsICIiKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBuYW1lID0gKE5vbmUsIG5hbWUpCiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGNoaWxkX2NvbnRlbnRzLCBkaWN0KToKICAgICAgICAgICAgICAgICAgICByZXRbbmFtZV0gPSBidWlsZF9zdWIoCiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWFzICsgZiIue21lbnVfdHJhbnN9IiwgY2hpbGRfY29udGVudHMKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHJldFtuYW1lXSA9IGNoaWxkX2NvbnRlbnRzCiAgICAgICAgICAgIHJldHVybiByZXQKCiAgICAgICAgcmV0dXJuIGJ1aWxkX3N1YihzZWxmLnRyYW5zbGF0aW9ucywgc2VsZi5zdHJ1Y3R1cmUpCg",
					"AQAAAAAAAAABAAAAEwUAAAAAAAATBQAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"insert",
					{
						"characters": "\nif"
					},
					"BAAAAEERAAAAAAAAQhEAAAAAAAAAAAAAQhEAAAAAAABKEQAAAAAAAAAAAABKEQAAAAAAAEsRAAAAAAAAAAAAAEsRAAAAAAAATBEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQREAAAAAAABBEQAAAAAAAAAAAAAAAPC/"
				],
				[
					39,
					1,
					"insert",
					{
						"characters": " self.cre"
					},
					"CQAAAEwRAAAAAAAATREAAAAAAAAAAAAATREAAAAAAABOEQAAAAAAAAAAAABOEQAAAAAAAE8RAAAAAAAAAAAAAE8RAAAAAAAAUBEAAAAAAAAAAAAAUBEAAAAAAABREQAAAAAAAAAAAABREQAAAAAAAFIRAAAAAAAAAAAAAFIRAAAAAAAAUxEAAAAAAAAAAAAAUxEAAAAAAABUEQAAAAAAAAAAAABUEQAAAAAAAFURAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATBEAAAAAAABMEQAAAAAAAAAAAAAAAPC/"
				],
				[
					40,
					1,
					"insert_dimensions",
					null,
					"AgAAAFIRAAAAAAAAUhEAAAAAAAADAAAAY3JlUhEAAAAAAABZEQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAVREAAAAAAABVEQAAAAAAAAAAAAAAAPC/"
				],
				[
					41,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAAFkRAAAAAAAAWhEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWREAAAAAAABZEQAAAAAAAAAAAAAAAPC/"
				],
				[
					44,
					1,
					"indent",
					null,
					"AgAAAFsRAAAAAAAAXxEAAAAAAAAAAAAAghEAAAAAAACGEQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcxEAAAAAAACWEQAAAAAAAAAAAAAAAGJA"
				],
				[
					47,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA5RcAAAAAAADlFwAAIiIiQ29udGFpbiBoZWxwZXIgY2xhc3MgZm9yIG1lbnUgbWFuYWdlbWVudC4iIiIKZnJvbSBsb2dnaW5nIGltcG9ydCBnZXRMb2dnZXIKCmZyb20gdGtpbnRlciBpbXBvcnQgTWVudSBhcyB0a01lbnUsIFRvcGxldmVsCmZyb20gLiBpbXBvcnQgZGljdGlvbmFyeSwgd3JpdGVhYmxlCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgT3B0aW9uYWwsIEFueQoKbG9nID0gZ2V0TG9nZ2VyKF9fbmFtZV9fKQpNZW51U3RydWN0dXJlID0gZGljdFtzdHIsIENhbGxhYmxlIHwgc3RyIHwgZGljdF0KCgpjbGFzcyBNZW51KHdyaXRlYWJsZS5TdWJzY3JpYmVyKToKICAgICIiIkNyZWF0ZSBhIG1lbnUgc3RydWN0dXJlIHRvIGJlIHNob3duIGFzIHBvcHVwIG9yIGJpbmRlZCB0byBhIHRvcGxldmVsLiIiIgoKICAgIG1lbnUgPSBOb25lCiAgICBtZW51X3N0cnVjdHVyZSA9IE5vbmUKCiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBzdHJ1Y3R1cmU6IE1lbnVTdHJ1Y3R1cmUsCiAgICAgICAgdHJhbnNsYXRpb25zOiBzdHIgPSAibWVudSIsCiAgICApOgogICAgICAgICIiIgogICAgICAgIENyZWF0ZSB0aGUgbWVudSBmcm9tIHN0cnVjdHVyZSB1c2luZyB0cmFuc2xhdGlvbiBoZWFkaW5nLgoKICAgICAgICA6cGFyYW0gc3RydWN0dXJlOiBBIGRpY3Rpb25hcnkgY29udGFpbmluZyBtZW51IHN0cnVjdHVyZSwgdmlldyBkb2NzLgogICAgICAgIDpwYXJhbSB0cmFuc2xhdGlvbnM6IFRoZSB0cmFuc2xhdGlvbiBoZWFkaW5nIHRvIGxvYWQgdHJhbnNsYXRpb25zIGZyb20uCiAgICAgICAgIiIiCiAgICAgICAgd3JpdGVhYmxlLlN1YnNjcmliZXIuX19pbml0X18oc2VsZikKICAgICAgICBzZWxmLnN1YnNjcmliZV90byhkaWN0aW9uYXJ5LkRpY3Rpb25hcnkuc3Vic2NyaWJlYWJsZSwgc2VsZi51cGRhdGUpCiAgICAgICAgc2VsZi5zdHJ1Y3R1cmUgPSBzdHJ1Y3R1cmUKICAgICAgICBzZWxmLnRyYW5zbGF0aW9ucyA9IHRyYW5zbGF0aW9ucwogICAgICAgIHNlbGYuY3JlYXRlZCA9IEZhbHNlCgogICAgZGVmIGNyZWF0ZShzZWxmKSAtPiB0a01lbnU6CiAgICAgICAgIiIiQ3JlYXRlIHRoZSB0a2ludGVyLk1lbnUgaW5zdGFuY2UuIiIiCiAgICAgICAgbWVudWJhciA9IHRrTWVudSgpCiAgICAgICAgTWVudS5idWlsZF9zdWJtZW51cyhtZW51YmFyLCBzZWxmLl9ldmFsX3N0cnVjdHVyZSgpKQogICAgICAgIHNlbGYubWVudSA9IG1lbnViYXIKICAgICAgICBzZWxmLm1lbnVfc3RydWN0dXJlID0gc2VsZi5fZXZhbF9zdHJ1Y3R1cmUoKQogICAgICAgIHNlbGYuY3JlYXRlZCA9IFRydWUKICAgICAgICByZXR1cm4gbWVudWJhcgoKICAgIEBjbGFzc21ldGhvZAogICAgZGVmIGJ1aWxkX3N1Ym1lbnVzKGNscywgbWVudTogdGtNZW51LCBzdHJ1Y3R1cmU6IE1lbnVTdHJ1Y3R1cmUpOgogICAgICAgICIiIlJlY3Vyc2l2ZWx5IGJ1aWxkIHRoZSBjb3JyZXNwb25kaW5nIHN0cnVjdHVyZSBpbnRvIHRoZSBtZW51LiIiIgogICAgICAgIGZyb20gLmRpY3Rpb25hcnkgaW1wb3J0IFRyYW5zbGF0aW9uCiAgICAgICAgZnJvbSAud3JpdGVhYmxlIGltcG9ydCBXcml0ZWFibGUKCiAgICAgICAgZm9yIGxhYmVsLCBjb250ZW50cyBpbiBzdHJ1Y3R1cmUuaXRlbXMoKToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaWR4LCBuYW1lID0gbGFiZWwKICAgICAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG5hbWUsIChXcml0ZWFibGUsIFRyYW5zbGF0aW9uKSk6CiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5nZXQoKQogICAgICAgICAgICBpZiBjYWxsYWJsZShjb250ZW50cyk6ICAjIGl0IGlzIGEgY29tbWFuZAogICAgICAgICAgICAgICAgbWVudS5hZGRfY29tbWFuZChsYWJlbD1uYW1lLCBjb21tYW5kPWNvbnRlbnRzLCB1bmRlcmxpbmU9aWR4KQogICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoY29udGVudHMsIGRpY3QpOiAgIyBhIHN1Ym1lbnUKICAgICAgICAgICAgICAgIHN1Ym1lbnUgPSB0a01lbnUobWVudSkKICAgICAgICAgICAgICAgIG1lbnUuYWRkX2Nhc2NhZGUobWVudT1zdWJtZW51LCBsYWJlbD1uYW1lLCB1bmRlcmxpbmU9aWR4KQogICAgICAgICAgICAgICAgY2xzLmJ1aWxkX3N1Ym1lbnVzKHN1Ym1lbnUsIGNvbnRlbnRzKQogICAgICAgICAgICBlbGlmIGlzaW5zdGFuY2UoY29udGVudHMsIFdyaXRlYWJsZSk6CiAgICAgICAgICAgICAgICB2YWwgPSBjb250ZW50cy5nZXQoKQogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh2YWwsIGJvb2wpOgogICAgICAgICAgICAgICAgICAgIG1lbnUuYWRkX2NoZWNrYnV0dG9uKAogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1uYW1lLCB2YXJpYWJsZT1jb250ZW50cy5ib29sZWFudmFyLCB1bmRlcmxpbmU9aWR4CiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICBlbGlmIG5hbWUgPT0gIiFzZXAiOgogICAgICAgICAgICAgICAgbWVudS5hZGRfc2VwYXJhdG9yKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoCiAgICAgICAgICAgICAgICAgICAgZiJ3cm9uZyBtZW51IGRpY3QgZmllbGQ6IHtsYWJlbCFyfTp7Y29udGVudHMhcn0iLAogICAgICAgICAgICAgICAgKQoKICAgIGRlZiBwb3N0KHNlbGYsIHhwb3M6IGludCB8IHR1cGxlW2ludF0sIHlwb3M6IE9wdGlvbmFsW2ludF0gPSBOb25lKToKICAgICAgICAiIiIKICAgICAgICBQb3B1cCB0aGUgbWVudSBhdCBzcGVjaWZpZWQgbG9jYXRpb24uCgogICAgICAgIGVpdGhlcjoKICAgICAgICAtIG15X21lbnUucG9zdCgoeCwgeSkpCiAgICAgICAgLSBteV9tZW51LnBvc3QoeCwgeSkKICAgICAgICAiIiIKICAgICAgICBpZiBpc2luc3RhbmNlKHhwb3MsIHR1cGxlKToKICAgICAgICAgICAgeHBvcywgeXBvcyA9IHhwb3MKICAgICAgICBpZiBzZWxmLm1lbnVfc3RydWN0dXJlICE9IHNlbGYuX2V2YWxfc3RydWN0dXJlKCk6CiAgICAgICAgICAgIHNlbGYuY3JlYXRlKCkKICAgICAgICBzZWxmLm1lbnUucG9zdCh4cG9zLCB5cG9zKQoKICAgIGRlZiB0b3BsZXZlbChzZWxmLCByb290OiBUb3BsZXZlbCkgLT4gVG9wbGV2ZWw6CiAgICAgICAgIiIiU2V0IHRoZSBtZW51IGFzIHRoZSB0b3BsZXZlbCdzIG1lbnUuIiIiCiAgICAgICAgaWYgc2VsZi5tZW51X3N0cnVjdHVyZSAhPSBzZWxmLl9ldmFsX3N0cnVjdHVyZSgpOgogICAgICAgICAgICBzZWxmLmNyZWF0ZSgpCiAgICAgICAgcm9vdFsibWVudSJdID0gc2VsZi5tZW51CiAgICAgICAgcmV0dXJuIHJvb3QKCiAgICBkZWYgX19nZXRpdGVtX18oc2VsZiwgaXRlbTogc3RyIHwgdHVwbGVbc3RyXSk6CiAgICAgICAgIiIiCiAgICAgICAgR2V0IGEgbWVudSBzdWIgaXRlbS4KCiAgICAgICAgVGhlIGl0ZW0gbWF5IGJlIGEgdHVwbGUgb2YgbWVudSBsYWJlbHMgb3IgdGhlIHBhdGggdG8gbWVudSBsYWJlbAogICAgICAgIHNlcGFyYXRlZCBieSBzbGFzaGVzLgogICAgICAgICIiIgogICAgICAgIGlmIGlzaW5zdGFuY2UoaXRlbSwgc3RyKToKICAgICAgICAgICAgcGFydHMgPSBpdGVtLnNwbGl0KCIvIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwYXJ0cyA9IHR1cGxlKGl0ZW0pCiAgICAgICAgb2JqID0gc2VsZi5zdHJ1Y3R1cmUKICAgICAgICBmb3IgeCBpbiBwYXJ0czoKICAgICAgICAgICAgb2JqID0gb2JqW3hdCiAgICAgICAgcmV0dXJuIG9iagoKICAgIGRlZiBfX3NldGl0ZW1fXyhzZWxmLCBpdGVtOiBzdHIgfCB0dXBsZVtzdHJdLCB2YWw6IEFueSk6CiAgICAgICAgIiIiCiAgICAgICAgU2V0IGEgbWVudSBzdWIgaXRlbS4KCiAgICAgICAgVGhlIGl0ZW0gbWF5IGJlIGEgdHVwbGUgb2YgbWVudSBsYWJlbHMgb3IgdGhlIHBhdGggdG8gbWVudSBsYWJlbAogICAgICAgIHNlcGFyYXRlZCBieSBzbGFzaGVzLgogICAgICAgICIiIgogICAgICAgIGlmIGlzaW5zdGFuY2UoaXRlbSwgc3RyKToKICAgICAgICAgICAgcGFydHMgPSBpdGVtLnNwbGl0KCIvIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwYXJ0cyA9IHR1cGxlKGl0ZW0pCiAgICAgICAgb2JqID0gc2VsZi5zdHJ1Y3R1cmUKICAgICAgICAqcGF0aCwgaXRlbSA9IHBhcnRzCiAgICAgICAgZm9yIHggaW4gcGF0aDoKICAgICAgICAgICAgaWYgeCBpbiBvYmo6CiAgICAgICAgICAgICAgICBvYmogPSBvYmpbeF0KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG5vID0ge30KICAgICAgICAgICAgICAgIG9ialt4XSA9IG5vCiAgICAgICAgICAgICAgICBvYmogPSBubwogICAgICAgIG9ialtpdGVtXSA9IHZhbAogICAgICAgIHNlbGYudXBkYXRlKCkKICAgICAgICByZXR1cm4gdmFsCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICAiIiJVcGRhdGUgdGhlIG1lbnUgb2JqZWN0LiIiIgogICAgICAgIGlmIHNlbGYuY3JlYXRlZDoKICAgICAgICAgICAgc2VsZi5tZW51LmRlbGV0ZSgwLCAiZW5kIikKICAgICAgICAgICAgc2VsZi5idWlsZF9zdWJtZW51cyhzZWxmLm1lbnUsIHNlbGYuX2V2YWxfc3RydWN0dXJlKCkpCgogICAgZGVmIF9ldmFsX3N0cnVjdHVyZShzZWxmKToKICAgICAgICBkZWYgYnVpbGRfc3ViKGFsaWFzLCBzdHJ1Y3R1cmUpOgogICAgICAgICAgICBmcm9tIGJ1aWx0aW5zIGltcG9ydCBfCgogICAgICAgICAgICByZXQgPSB7fQogICAgICAgICAgICBmb3IgY2hpbGRfbmFtZSwgY2hpbGRfY29udGVudHMgaW4gc3RydWN0dXJlLml0ZW1zKCk6CiAgICAgICAgICAgICAgICBtZW51X3RyYW5zID0gY2hpbGRfbmFtZQogICAgICAgICAgICAgICAgaWYgY2hpbGRfbmFtZS5zdGFydHN3aXRoKCJAIik6ICAjIGFsaWFzIHRyYW5zbGF0aW9uCiAgICAgICAgICAgICAgICAgICAgbWVudV90cmFucyA9IGNoaWxkX25hbWVbMTpdCiAgICAgICAgICAgICAgICAgICAgYWJzb2x1dGUgPSBtZW51X3RyYW5zLnN0YXJ0c3dpdGgoIi8iKQogICAgICAgICAgICAgICAgICAgIGlmIGFic29sdXRlOgogICAgICAgICAgICAgICAgICAgICAgICBtZW51X3RyYW5zID0gbWVudV90cmFuc1sxOl0KICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VuYW1lID0gKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudV90cmFucyBpZiBhYnNvbHV0ZSBlbHNlIGYie2FsaWFzfS57bWVudV90cmFuc30iCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IF8oZiJ7YmFzZW5hbWV9Ll9fbGFiZWxfXyIpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBOYW1lRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lID0gIk5vdCBGb3VuZCIKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBfKGJhc2VuYW1lKQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSAiTm90IGZvdW5kIgogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBuYW1lID0gY2hpbGRfbmFtZQogICAgICAgICAgICAgICAgaWYgIiYiIGluIG5hbWU6CiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuaW5kZXgoIiYiKSwgbmFtZS5yZXBsYWNlKCImIiwgIiIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIG5hbWUgPSAoTm9uZSwgbmFtZSkKICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2UoY2hpbGRfY29udGVudHMsIGRpY3QpOgogICAgICAgICAgICAgICAgICAgIHJldFtuYW1lXSA9IGJ1aWxkX3N1YigKICAgICAgICAgICAgICAgICAgICAgICAgYWxpYXMgKyBmIi57bWVudV90cmFuc30iLCBjaGlsZF9jb250ZW50cwogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcmV0W25hbWVdID0gY2hpbGRfY29udGVudHMKICAgICAgICAgICAgcmV0dXJuIHJldAoKICAgICAgICByZXR1cm4gYnVpbGRfc3ViKHNlbGYudHJhbnNsYXRpb25zLCBzZWxmLnN0cnVjdHVyZSkK",
					"AQAAAAAAAAABAAAAdxEAAAAAAACeEQAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "examples/todoapp/todoapp/pages/todos.py",
			"settings":
			{
				"buffer_size": 3452,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					13,
					1,
					"left_delete",
					null,
					"AQAAAOkAAAAAAAAA6QAAAAAAAAASAAAATmFtZXNwYWNlV3JpdGVhYmxl",
					"AQAAAAAAAAABAAAA6QAAAAAAAAD7AAAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"insert",
					{
						"characters": "Sub"
					},
					"AwAAAOkAAAAAAAAA6gAAAAAAAAAAAAAA6gAAAAAAAADrAAAAAAAAAAAAAADrAAAAAAAAAOwAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6QAAAAAAAADpAAAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"insert_dimensions",
					null,
					"AgAAAOkAAAAAAAAA6QAAAAAAAAADAAAAU3Vi6QAAAAAAAADzAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7AAAAAAAAADsAAAAAAAAAAAAAAAAAPC/"
				],
				[
					18,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAADQ4AAAAAAADiDQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCgoKY2xhc3MgVG9kb1BhZ2UoQ29tcG9uZW50KToKICAgIHIiIiIKICAgIFxmcmFtZSBwYWRkaW5nPTIwCiAgICAgICAgXGZyYW1lIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICAgICBcZW50cnkgd2lkdGg9ODAgcG9zOmdyaWQ9MCwwIHRleHQ9e3tlbnRyeX19IHBvczpzdGlja3k9J25zdycgYmluZDpLZXktUmV0dXJuPXthZGRfdG9kb30KICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PScrJyBjb21tYW5kPXthZGRfdG9kb30gcG9zOmdyaWQ9MSwwIHBvczpzdGlja3k9J25zZScKICAgICAgICBcZnJhbWUgcG9zOmdyaWQ9MCwxIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgICAgICFlbnVtIHRvZG9zOihpZHgsIHRvZG8pCiAgICAgICAgICAgICAgICBcbGFiZWwgYm9vdHN0eWxlPXsnaW5mbycgaWYgdG9kby5kb25lIGVsc2UgJ2Rhbmdlcid9IHRleHQ9e3N0cihpZHggKyAxKSArICcpICcgKyB0b2RvLmRlc2N9IHBvczpncmlkPXsoMCwgaWR4KX0gcG9zOnh3ZWlnaHQ9MTAgcG9zOnN0aWNreT0nbnN3ZScgYmluZDoxPXt0b2dnbGVyKHRvZG8udXVpZCl9IGJpbmQ6Mz17cG9wdXBfbWVudSh0b2RvLnV1aWQpfQogICAgICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PXtfKCdwYWdlcy50b2Rvcy5tYXJrLWRvbmUnKSBpZiBub3QgdG9kby5kb25lIGVsc2UgXygncGFnZXMudG9kb3MubWFyay11bmRvbmUnKX0gY29tbWFuZD17dG9nZ2xlcih0b2RvLnV1aWQpfSBwb3M6Z3JpZD17KDEsIGlkeCl9IHBvczpzdGlja3k9J25zZScKICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD1bcGFnZXMudG9kb3MucmVtb3ZlXSBjb21tYW5kPXtwb3BwZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygyLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlciwgZW50cnkpOgogICAgICAgIHNlbGYudXNlciA9IHVzZXIKICAgICAgICBzZWxmLmVudHJ5ID0gZW50cnkKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICBkZWYgaW5pdChzZWxmKToKICAgICAgICBzZWxmWyJ0b2RvcyJdID0gVG9kby5mb3JfdXNlcihzZWxmLnVzZXIpCiAgICAgICAgTmFtZXNwYWNlV3JpdGVhYmxlKHNlbGYubmFtZXNwYWNlLCAiZW50cnkiKS5zdWJzY3JpYmUoCiAgICAgICAgICAgIHNlbGYudXBkYXRlX2VudHJ5CiAgICAgICAgKQoKICAgIGRlZiB1cGRhdGVfZW50cnkoc2VsZik6CiAgICAgICAgc3RvcmVbJ2VudHJ5J10gPSBzZWxmWyJlbnRyeSJdCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJvb3QuZGVzdHJveSgpCgogICAgZGVmIGFkZF90b2RvKHNlbGYsICpfKToKICAgICAgICBpZiBub3Qgc2VsZlsiZW50cnkiXS5zdHJpcCgpOgogICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgIkVtcHR5IGZpZWxkIiwKICAgICAgICAgICAgICAgICJQbGVhc2UsIGVudGVyIGFuIGl0ZW0iLAogICAgICAgICAgICAgICAgZHVyYXRpb249MTAwMCwKICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0id2FybmluZyIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InRvZG8tZW1wdHktbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAgKS5zaG93KCkKICAgICAgICBzZWxmWyJ1c2VyIl0uY3JlYXRlX3RvZG8oc2VsZlsiZW50cnkiXSkuc2F2ZSgpCiAgICAgICAgc2VsZlsiZW50cnkiXSA9ICIiCiAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgIGRlZiBwb3BwZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBUb2RvLmZyb21fdXVpZCh1dWlkKS5kZWxldGUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHRvZ2dsZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBvYmogPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICBvYmouZG9uZSA9IG5vdCBvYmouZG9uZQogICAgICAgICAgICBvYmouc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCgogICAgZGVmIHBvcHVwX21lbnUoc2VsZiwgdXVpZCk6CiAgICAgICAgbWVudSA9IE1lbnUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJAdG9nZ2xlIjogc2VsZi50b2dnbGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkByZW1vdmUiOiBzZWxmLnBvcHBlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAZWRpdCI6IHNlbGYuZWRpdGVyKHV1aWQpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2xhdGlvbnM9InBhZ2VzLnRvZG9zLm1lbnUiLAogICAgICAgICkKCiAgICAgICAgZGVmIGZ1bmMoZSk6CiAgICAgICAgICAgIG1lbnUucG9zdChlLnhfcm9vdCwgZS55X3Jvb3QpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGVkaXRlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZWRpdCgqXyk6CiAgICAgICAgICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrSW5wdXREaWFsb2cKCiAgICAgICAgICAgIHZhbHVlID0gQ1RrSW5wdXREaWFsb2coCiAgICAgICAgICAgICAgICB0ZXh0PSJFbnRlciB0aGUgbmV3IHZhbHVlIiwgdGl0bGU9IlRvZG9zIgogICAgICAgICAgICApLmdldF9pbnB1dCgpCiAgICAgICAgICAgIHRvZG8gPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICB0b2RvLmRlc2MgPSB2YWx1ZQogICAgICAgICAgICB0b2RvLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBlZGl0CgoKQGNhY2hlCmRlZiBkZWZhdWx0KF9zdG9yZSwgLyk6CiAgICBnbG9iYWwgc3RvcmUsIFNUT1JFLCB1c2VyCiAgICBTVE9SRSA9IF9zdG9yZQogICAgaWYgVXNlci5pc19sb2dpbigpOgogICAgICAgIHVzZXIgPSBVc2VyLmN1cnJlbnQoKQogICAgICAgIHN0b3JlID0gU1RPUkUuZm9yX3BhZ2UoX19uYW1lX18pLnBhcnRpdGlvbih1c2VyLm5hbWUsIHsKICAgICAgICAgICAgImVudHJ5IjogXygicGFnZXMudG9kb3MucGxhY2Vob2xkZXIiKSwKICAgICAgICB9KQogICAgICAgIHJldHVybiBUb2RvUGFnZSh1c2VyPXVzZXIsIGVudHJ5PXN0b3JlWydlbnRyeSddKQogICAgZWxzZToKICAgICAgICByYWlzZSBSZWRpcmVjdCgic2lnbkBzaWduaW4iKQo",
					"AQAAAAAAAAABAAAA8wAAAAAAAADzAAAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"insert",
					{
						"characters": "subs"
					},
					"BAAAAEUBAAAAAAAARgEAAAAAAAAAAAAARgEAAAAAAABHAQAAAAAAAAAAAABHAQAAAAAAAEgBAAAAAAAAAAAAAEgBAAAAAAAASQEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARQEAAAAAAABFAQAAAAAAAAAAAAAAgGNA"
				],
				[
					24,
					1,
					"insert_dimensions",
					null,
					"AgAAAEUBAAAAAAAARQEAAAAAAAAEAAAAc3Vic0UBAAAAAAAATwEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASQEAAAAAAABJAQAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					1,
					"left_delete",
					null,
					"AQAAAEUBAAAAAAAARQEAAAAAAAALAAAAU3Vic2NyaWJlcgo",
					"AQAAAAAAAAABAAAARQEAAAAAAABQAQAAAAAAAAAAAAAAAPC/"
				],
				[
					29,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAADQ4AAAAAAAAMDgAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgICAgIFxlbnRyeSB3aWR0aD04MCBwb3M6Z3JpZD0wLDAgdGV4dD17e2VudHJ5fX0gcG9zOnN0aWNreT0nbnN3JyBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0nbnNlJwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgIWVudW0gdG9kb3M6KGlkeCwgdG9kbykKICAgICAgICAgICAgICAgIFxsYWJlbCBib290c3R5bGU9eydpbmZvJyBpZiB0b2RvLmRvbmUgZWxzZSAnZGFuZ2VyJ30gdGV4dD17c3RyKGlkeCArIDEpICsgJykgJyArIHRvZG8uZGVzY30gcG9zOmdyaWQ9eygwLCBpZHgpfSBwb3M6eHdlaWdodD0xMCBwb3M6c3RpY2t5PSduc3dlJyBiaW5kOjE9e3RvZ2dsZXIodG9kby51dWlkKX0gYmluZDozPXtwb3B1cF9tZW51KHRvZG8udXVpZCl9CiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9e18oJ3BhZ2VzLnRvZG9zLm1hcmstZG9uZScpIGlmIG5vdCB0b2RvLmRvbmUgZWxzZSBfKCdwYWdlcy50b2Rvcy5tYXJrLXVuZG9uZScpfSBjb21tYW5kPXt0b2dnbGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMSwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PVtwYWdlcy50b2Rvcy5yZW1vdmVdIGNvbW1hbmQ9e3BvcHBlcih0b2RvLnV1aWQpfSBwb3M6Z3JpZD17KDIsIGlkeCl9IHBvczpzdGlja3k9J25zZScKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyLCBlbnRyeSk6CiAgICAgICAgc2VsZi51c2VyID0gdXNlcgogICAgICAgIHNlbGYuZW50cnkgPSBlbnRyeQogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBOYW1lc3BhY2VXcml0ZWFibGUoc2VsZi5uYW1lc3BhY2UsICJlbnRyeSIpLnN1YnNjcmliZSgKICAgICAgICAgICAgc2VsZi51cGRhdGVfZW50cnkKICAgICAgICApCgogICAgZGVmIHVwZGF0ZV9lbnRyeShzZWxmKToKICAgICAgICBzdG9yZVsiZW50cnkiXSA9IHNlbGZbImVudHJ5Il0KCiAgICBkZWYgY2xvc2Uoc2VsZik6CiAgICAgICAgcm9vdC5kZXN0cm95KCkKCiAgICBkZWYgYWRkX3RvZG8oc2VsZiwgKl8pOgogICAgICAgIGlmIG5vdCBzZWxmWyJlbnRyeSJdLnN0cmlwKCk6CiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb24oCiAgICAgICAgICAgICAgICAiRW1wdHkgZmllbGQiLAogICAgICAgICAgICAgICAgIlBsZWFzZSwgZW50ZXIgYW4gaXRlbSIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbj0xMDAwLAogICAgICAgICAgICAgICAgYm9vdHN0eWxlPSJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNvdXJjZT0idG9kby1lbXB0eS1ub3RpZmljYXRpb24iLAogICAgICAgICAgICApLnNob3coKQogICAgICAgIHNlbGZbInVzZXIiXS5jcmVhdGVfdG9kbyhzZWxmWyJlbnRyeSJdKS5zYXZlKCkKICAgICAgICBzZWxmWyJlbnRyeSJdID0gIiIKICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgZGVmIHBvcHBlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIFRvZG8uZnJvbV91dWlkKHV1aWQpLmRlbGV0ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdG9nZ2xlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIG9iaiA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIG9iai5kb25lID0gbm90IG9iai5kb25lCiAgICAgICAgICAgIG9iai5zYXZlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQogICAgICAgIHN1cGVyKCkudXBkYXRlKCkKCiAgICBkZWYgcG9wdXBfbWVudShzZWxmLCB1dWlkKToKICAgICAgICBtZW51ID0gTWVudSgKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIkB0b2dnbGUiOiBzZWxmLnRvZ2dsZXIodXVpZCksCiAgICAgICAgICAgICAgICAiQHJlbW92ZSI6IHNlbGYucG9wcGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkBlZGl0Ijogc2VsZi5lZGl0ZXIodXVpZCksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRyYW5zbGF0aW9ucz0icGFnZXMudG9kb3MubWVudSIsCiAgICAgICAgKQoKICAgICAgICBkZWYgZnVuYyhlKToKICAgICAgICAgICAgbWVudS5wb3N0KGUueF9yb290LCBlLnlfcm9vdCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgZWRpdGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBlZGl0KCpfKToKICAgICAgICAgICAgZnJvbSBjdXN0b210a2ludGVyIGltcG9ydCBDVGtJbnB1dERpYWxvZwoKICAgICAgICAgICAgdmFsdWUgPSBDVGtJbnB1dERpYWxvZygKICAgICAgICAgICAgICAgIHRleHQ9IkVudGVyIHRoZSBuZXcgdmFsdWUiLCB0aXRsZT0iVG9kb3MiCiAgICAgICAgICAgICkuZ2V0X2lucHV0KCkKICAgICAgICAgICAgdG9kbyA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIHRvZG8uZGVzYyA9IHZhbHVlCiAgICAgICAgICAgIHRvZG8uc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGVkaXQKCgpAY2FjaGUKZGVmIGRlZmF1bHQoX3N0b3JlLCAvKToKICAgIGdsb2JhbCBzdG9yZSwgU1RPUkUsIHVzZXIKICAgIFNUT1JFID0gX3N0b3JlCiAgICBpZiBVc2VyLmlzX2xvZ2luKCk6CiAgICAgICAgdXNlciA9IFVzZXIuY3VycmVudCgpCiAgICAgICAgc3RvcmUgPSBTVE9SRS5mb3JfcGFnZShfX25hbWVfXykucGFydGl0aW9uKAogICAgICAgICAgICB1c2VyLm5hbWUsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJlbnRyeSI6IF8oInBhZ2VzLnRvZG9zLnBsYWNlaG9sZGVyIiksCiAgICAgICAgICAgIH0sCiAgICAgICAgKQogICAgICAgIHJldHVybiBUb2RvUGFnZSh1c2VyPXVzZXIsIGVudHJ5PXN0b3JlWyJlbnRyeSJdKQogICAgZWxzZToKICAgICAgICByYWlzZSBSZWRpcmVjdCgic2lnbkBzaWduaW4iKQo",
					"AQAAAAAAAAABAAAARQEAAAAAAABFAQAAAAAAAAAAAAAAAPC/"
				],
				[
					38,
					1,
					"insert",
					{
						"characters": "\nsub"
					},
					"BAAAAEQBAAAAAAAARQEAAAAAAAAAAAAARQEAAAAAAABGAQAAAAAAAAAAAABGAQAAAAAAAEcBAAAAAAAAAAAAAEcBAAAAAAAASAEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARAEAAAAAAABEAQAAAAAAAAAAAAAAAPC/"
				],
				[
					39,
					1,
					"insert_dimensions",
					null,
					"AgAAAEUBAAAAAAAARQEAAAAAAAADAAAAc3ViRQEAAAAAAABPAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASAEAAAAAAABIAQAAAAAAAAAAAAAAAPC/"
				],
				[
					40,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAE8BAAAAAAAAUAEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATwEAAAAAAABPAQAAAAAAAAAAAAAAAPC/"
				],
				[
					41,
					1,
					"left_delete",
					null,
					"AQAAAE8BAAAAAAAATwEAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAUAEAAAAAAABQAQAAAAAAAAAAAAAAAPC/"
				],
				[
					44,
					1,
					"lower_case",
					null,
					"AQAAAEUBAAAAAAAATwEAAAAAAAAKAAAAU3Vic2NyaWJlcg",
					"AQAAAAAAAAABAAAARQEAAAAAAABPAQAAAAAAAAAAAAAAAPC/"
				],
				[
					46,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAE8BAAAAAAAAUAEAAAAAAAAAAAAAUAEAAAAAAABRAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATwEAAAAAAABPAQAAAAAAAAAAAAAAAPC/"
				],
				[
					47,
					1,
					"insert",
					{
						"characters": " S"
					},
					"AgAAAFEBAAAAAAAAUgEAAAAAAAAAAAAAUgEAAAAAAABTAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUQEAAAAAAABRAQAAAAAAAAAAAAAAAPC/"
				],
				[
					48,
					1,
					"insert_dimensions",
					null,
					"AgAAAFIBAAAAAAAAUgEAAAAAAAABAAAAU1IBAAAAAAAAXAEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUwEAAAAAAABTAQAAAAAAAAAAAAAAAPC/"
				],
				[
					49,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAFwBAAAAAAAAXgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXAEAAAAAAABcAQAAAAAAAAAAAAAAAPC/"
				],
				[
					53,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAJw4AAAAAAAAnDgAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgICAgIFxlbnRyeSB3aWR0aD04MCBwb3M6Z3JpZD0wLDAgdGV4dD17e2VudHJ5fX0gcG9zOnN0aWNreT0nbnN3JyBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0nbnNlJwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgIWVudW0gdG9kb3M6KGlkeCwgdG9kbykKICAgICAgICAgICAgICAgIFxsYWJlbCBib290c3R5bGU9eydpbmZvJyBpZiB0b2RvLmRvbmUgZWxzZSAnZGFuZ2VyJ30gdGV4dD17c3RyKGlkeCArIDEpICsgJykgJyArIHRvZG8uZGVzY30gcG9zOmdyaWQ9eygwLCBpZHgpfSBwb3M6eHdlaWdodD0xMCBwb3M6c3RpY2t5PSduc3dlJyBiaW5kOjE9e3RvZ2dsZXIodG9kby51dWlkKX0gYmluZDozPXtwb3B1cF9tZW51KHRvZG8udXVpZCl9CiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9e18oJ3BhZ2VzLnRvZG9zLm1hcmstZG9uZScpIGlmIG5vdCB0b2RvLmRvbmUgZWxzZSBfKCdwYWdlcy50b2Rvcy5tYXJrLXVuZG9uZScpfSBjb21tYW5kPXt0b2dnbGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMSwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PVtwYWdlcy50b2Rvcy5yZW1vdmVdIGNvbW1hbmQ9e3BvcHBlcih0b2RvLnV1aWQpfSBwb3M6Z3JpZD17KDIsIGlkeCl9IHBvczpzdGlja3k9J25zZScKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyLCBlbnRyeSk6CiAgICAgICAgc2VsZi51c2VyID0gdXNlcgogICAgICAgIHNlbGYuZW50cnkgPSBlbnRyeQogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBOYW1lc3BhY2VXcml0ZWFibGUoc2VsZi5uYW1lc3BhY2UsICJlbnRyeSIpLnN1YnNjcmliZSgKICAgICAgICAgICAgc2VsZi51cGRhdGVfZW50cnkKICAgICAgICApCgogICAgZGVmIHVwZGF0ZV9lbnRyeShzZWxmKToKICAgICAgICBzdG9yZVsiZW50cnkiXSA9IHNlbGZbImVudHJ5Il0KCiAgICBkZWYgY2xvc2Uoc2VsZik6CiAgICAgICAgcm9vdC5kZXN0cm95KCkKCiAgICBkZWYgYWRkX3RvZG8oc2VsZiwgKl8pOgogICAgICAgIGlmIG5vdCBzZWxmWyJlbnRyeSJdLnN0cmlwKCk6CiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb24oCiAgICAgICAgICAgICAgICAiRW1wdHkgZmllbGQiLAogICAgICAgICAgICAgICAgIlBsZWFzZSwgZW50ZXIgYW4gaXRlbSIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbj0xMDAwLAogICAgICAgICAgICAgICAgYm9vdHN0eWxlPSJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNvdXJjZT0idG9kby1lbXB0eS1ub3RpZmljYXRpb24iLAogICAgICAgICAgICApLnNob3coKQogICAgICAgIHNlbGZbInVzZXIiXS5jcmVhdGVfdG9kbyhzZWxmWyJlbnRyeSJdKS5zYXZlKCkKICAgICAgICBzZWxmWyJlbnRyeSJdID0gIiIKICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgZGVmIHBvcHBlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIFRvZG8uZnJvbV91dWlkKHV1aWQpLmRlbGV0ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdG9nZ2xlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIG9iaiA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIG9iai5kb25lID0gbm90IG9iai5kb25lCiAgICAgICAgICAgIG9iai5zYXZlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQogICAgICAgIHN1cGVyKCkudXBkYXRlKCkKCiAgICBkZWYgcG9wdXBfbWVudShzZWxmLCB1dWlkKToKICAgICAgICBtZW51ID0gTWVudSgKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIkB0b2dnbGUiOiBzZWxmLnRvZ2dsZXIodXVpZCksCiAgICAgICAgICAgICAgICAiQHJlbW92ZSI6IHNlbGYucG9wcGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkBlZGl0Ijogc2VsZi5lZGl0ZXIodXVpZCksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRyYW5zbGF0aW9ucz0icGFnZXMudG9kb3MubWVudSIsCiAgICAgICAgKQoKICAgICAgICBkZWYgZnVuYyhlKToKICAgICAgICAgICAgbWVudS5wb3N0KGUueF9yb290LCBlLnlfcm9vdCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgZWRpdGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBlZGl0KCpfKToKICAgICAgICAgICAgZnJvbSBjdXN0b210a2ludGVyIGltcG9ydCBDVGtJbnB1dERpYWxvZwoKICAgICAgICAgICAgdmFsdWUgPSBDVGtJbnB1dERpYWxvZygKICAgICAgICAgICAgICAgIHRleHQ9IkVudGVyIHRoZSBuZXcgdmFsdWUiLCB0aXRsZT0iVG9kb3MiCiAgICAgICAgICAgICkuZ2V0X2lucHV0KCkKICAgICAgICAgICAgdG9kbyA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIHRvZG8uZGVzYyA9IHZhbHVlCiAgICAgICAgICAgIHRvZG8uc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGVkaXQKCgpAY2FjaGUKZGVmIGRlZmF1bHQoX3N0b3JlLCAvKToKICAgIGdsb2JhbCBzdG9yZSwgU1RPUkUsIHVzZXIKICAgIFNUT1JFID0gX3N0b3JlCiAgICBpZiBVc2VyLmlzX2xvZ2luKCk6CiAgICAgICAgdXNlciA9IFVzZXIuY3VycmVudCgpCiAgICAgICAgc3RvcmUgPSBTVE9SRS5mb3JfcGFnZShfX25hbWVfXykucGFydGl0aW9uKAogICAgICAgICAgICB1c2VyLm5hbWUsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJlbnRyeSI6IF8oInBhZ2VzLnRvZG9zLnBsYWNlaG9sZGVyIiksCiAgICAgICAgICAgIH0sCiAgICAgICAgKQogICAgICAgIHJldHVybiBUb2RvUGFnZSh1c2VyPXVzZXIsIGVudHJ5PXN0b3JlWyJlbnRyeSJdKQogICAgZWxzZToKICAgICAgICByYWlzZSBSZWRpcmVjdCgic2lnbkBzaWduaW4iKQo",
					"AQAAAAAAAAABAAAAXQEAAAAAAABdAQAAAAAAAAAAAAAAAPC/"
				],
				[
					69,
					1,
					"left_delete",
					null,
					"AQAAAI4FAAAAAAAAjgUAAAAAAABnAAAAICAgICAgICBOYW1lc3BhY2VXcml0ZWFibGUoc2VsZi5uYW1lc3BhY2UsICJlbnRyeSIpLnN1YnNjcmliZSgKICAgICAgICAgICAgc2VsZi51cGRhdGVfZW50cnkKICAgICAgICApCg",
					"AQAAAAAAAAABAAAAjgUAAAAAAAD1BQAAAAAAAAAAAAAAAPC/"
				],
				[
					72,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAwA0AAAAAAADADQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgICAgIFxlbnRyeSB3aWR0aD04MCBwb3M6Z3JpZD0wLDAgdGV4dD17e2VudHJ5fX0gcG9zOnN0aWNreT0nbnN3JyBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0nbnNlJwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgIWVudW0gdG9kb3M6KGlkeCwgdG9kbykKICAgICAgICAgICAgICAgIFxsYWJlbCBib290c3R5bGU9eydpbmZvJyBpZiB0b2RvLmRvbmUgZWxzZSAnZGFuZ2VyJ30gdGV4dD17c3RyKGlkeCArIDEpICsgJykgJyArIHRvZG8uZGVzY30gcG9zOmdyaWQ9eygwLCBpZHgpfSBwb3M6eHdlaWdodD0xMCBwb3M6c3RpY2t5PSduc3dlJyBiaW5kOjE9e3RvZ2dsZXIodG9kby51dWlkKX0gYmluZDozPXtwb3B1cF9tZW51KHRvZG8udXVpZCl9CiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9e18oJ3BhZ2VzLnRvZG9zLm1hcmstZG9uZScpIGlmIG5vdCB0b2RvLmRvbmUgZWxzZSBfKCdwYWdlcy50b2Rvcy5tYXJrLXVuZG9uZScpfSBjb21tYW5kPXt0b2dnbGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMSwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PVtwYWdlcy50b2Rvcy5yZW1vdmVdIGNvbW1hbmQ9e3BvcHBlcih0b2RvLnV1aWQpfSBwb3M6Z3JpZD17KDIsIGlkeCl9IHBvczpzdGlja3k9J25zZScKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyLCBlbnRyeSk6CiAgICAgICAgc2VsZi51c2VyID0gdXNlcgogICAgICAgIHNlbGYuZW50cnkgPSBlbnRyeQogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKCiAgICBkZWYgdXBkYXRlX2VudHJ5KHNlbGYpOgogICAgICAgIHN0b3JlWyJlbnRyeSJdID0gc2VsZlsiZW50cnkiXQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICByb290LmRlc3Ryb3koKQoKICAgIGRlZiBhZGRfdG9kbyhzZWxmLCAqXyk6CiAgICAgICAgaWYgbm90IHNlbGZbImVudHJ5Il0uc3RyaXAoKToKICAgICAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgICAgICJFbXB0eSBmaWVsZCIsCiAgICAgICAgICAgICAgICAiUGxlYXNlLCBlbnRlciBhbiBpdGVtIiwKICAgICAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAsCiAgICAgICAgICAgICAgICBib290c3R5bGU9Indhcm5pbmciLAogICAgICAgICAgICAgICAgc291cmNlPSJ0b2RvLWVtcHR5LW5vdGlmaWNhdGlvbiIsCiAgICAgICAgICAgICkuc2hvdygpCiAgICAgICAgc2VsZlsidXNlciJdLmNyZWF0ZV90b2RvKHNlbGZbImVudHJ5Il0pLnNhdmUoKQogICAgICAgIHNlbGZbImVudHJ5Il0gPSAiIgogICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICBkZWYgcG9wcGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBmdW5jKCpfKToKICAgICAgICAgICAgVG9kby5mcm9tX3V1aWQodXVpZCkuZGVsZXRlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiB0b2dnbGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBmdW5jKCpfKToKICAgICAgICAgICAgb2JqID0gVG9kby5mcm9tX3V1aWQodXVpZCkKICAgICAgICAgICAgb2JqLmRvbmUgPSBub3Qgb2JqLmRvbmUKICAgICAgICAgICAgb2JqLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBzZWxmWyJ0b2RvcyJdID0gVG9kby5mb3JfdXNlcihzZWxmLnVzZXIpCiAgICAgICAgc3VwZXIoKS51cGRhdGUoKQoKICAgIGRlZiBwb3B1cF9tZW51KHNlbGYsIHV1aWQpOgogICAgICAgIG1lbnUgPSBNZW51KAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiQHRvZ2dsZSI6IHNlbGYudG9nZ2xlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAcmVtb3ZlIjogc2VsZi5wb3BwZXIodXVpZCksCiAgICAgICAgICAgICAgICAiQGVkaXQiOiBzZWxmLmVkaXRlcih1dWlkKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJhbnNsYXRpb25zPSJwYWdlcy50b2Rvcy5tZW51IiwKICAgICAgICApCgogICAgICAgIGRlZiBmdW5jKGUpOgogICAgICAgICAgICBtZW51LnBvc3QoZS54X3Jvb3QsIGUueV9yb290KQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiBlZGl0ZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGVkaXQoKl8pOgogICAgICAgICAgICBmcm9tIGN1c3RvbXRraW50ZXIgaW1wb3J0IENUa0lucHV0RGlhbG9nCgogICAgICAgICAgICB2YWx1ZSA9IENUa0lucHV0RGlhbG9nKAogICAgICAgICAgICAgICAgdGV4dD0iRW50ZXIgdGhlIG5ldyB2YWx1ZSIsIHRpdGxlPSJUb2RvcyIKICAgICAgICAgICAgKS5nZXRfaW5wdXQoKQogICAgICAgICAgICB0b2RvID0gVG9kby5mcm9tX3V1aWQodXVpZCkKICAgICAgICAgICAgdG9kby5kZXNjID0gdmFsdWUKICAgICAgICAgICAgdG9kby5zYXZlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZWRpdAoKCkBjYWNoZQpkZWYgZGVmYXVsdChfc3RvcmUsIC8pOgogICAgZ2xvYmFsIHN0b3JlLCBTVE9SRSwgdXNlcgogICAgU1RPUkUgPSBfc3RvcmUKICAgIGlmIFVzZXIuaXNfbG9naW4oKToKICAgICAgICB1c2VyID0gVXNlci5jdXJyZW50KCkKICAgICAgICBzdG9yZSA9IFNUT1JFLmZvcl9wYWdlKF9fbmFtZV9fKS5wYXJ0aXRpb24oCiAgICAgICAgICAgIHVzZXIubmFtZSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImVudHJ5IjogXygicGFnZXMudG9kb3MucGxhY2Vob2xkZXIiKSwKICAgICAgICAgICAgfSwKICAgICAgICApCiAgICAgICAgcmV0dXJuIFRvZG9QYWdlKHVzZXI9dXNlciwgZW50cnk9c3RvcmVbImVudHJ5Il0pCiAgICBlbHNlOgogICAgICAgIHJhaXNlIFJlZGlyZWN0KCJzaWduQHNpZ25pbiIpCg",
					"AQAAAAAAAAABAAAAjgUAAAAAAACOBQAAAAAAAAAAAAAAAPC/"
				],
				[
					85,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAC8BAAAAAAAAMAEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALwEAAAAAAAAvAQAAAAAAAAAAAAAAAAAA"
				],
				[
					88,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAwg0AAAAAAADBDQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKcwpzdG9yZSA9IFNUT1JFID0gTm9uZQpzdWJzY3JpYmVyID0gU3Vic2NyaWJlcigpCgoKY2xhc3MgVG9kb1BhZ2UoQ29tcG9uZW50KToKICAgIHIiIiIKICAgIFxmcmFtZSBwYWRkaW5nPTIwCiAgICAgICAgXGZyYW1lIHBvczpncmlkPTAsMCBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICAgICBcZW50cnkgd2lkdGg9ODAgcG9zOmdyaWQ9MCwwIHRleHQ9e3tlbnRyeX19IHBvczpzdGlja3k9J25zdycgYmluZDpLZXktUmV0dXJuPXthZGRfdG9kb30KICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PScrJyBjb21tYW5kPXthZGRfdG9kb30gcG9zOmdyaWQ9MSwwIHBvczpzdGlja3k9J25zZScKICAgICAgICBcZnJhbWUgcG9zOmdyaWQ9MCwxIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgICAgICFlbnVtIHRvZG9zOihpZHgsIHRvZG8pCiAgICAgICAgICAgICAgICBcbGFiZWwgYm9vdHN0eWxlPXsnaW5mbycgaWYgdG9kby5kb25lIGVsc2UgJ2Rhbmdlcid9IHRleHQ9e3N0cihpZHggKyAxKSArICcpICcgKyB0b2RvLmRlc2N9IHBvczpncmlkPXsoMCwgaWR4KX0gcG9zOnh3ZWlnaHQ9MTAgcG9zOnN0aWNreT0nbnN3ZScgYmluZDoxPXt0b2dnbGVyKHRvZG8udXVpZCl9IGJpbmQ6Mz17cG9wdXBfbWVudSh0b2RvLnV1aWQpfQogICAgICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PXtfKCdwYWdlcy50b2Rvcy5tYXJrLWRvbmUnKSBpZiBub3QgdG9kby5kb25lIGVsc2UgXygncGFnZXMudG9kb3MubWFyay11bmRvbmUnKX0gY29tbWFuZD17dG9nZ2xlcih0b2RvLnV1aWQpfSBwb3M6Z3JpZD17KDEsIGlkeCl9IHBvczpzdGlja3k9J25zZScKICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD1bcGFnZXMudG9kb3MucmVtb3ZlXSBjb21tYW5kPXtwb3BwZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygyLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlciwgZW50cnkpOgogICAgICAgIHNlbGYudXNlciA9IHVzZXIKICAgICAgICBzZWxmLmVudHJ5ID0gZW50cnkKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICBkZWYgaW5pdChzZWxmKToKICAgICAgICBzZWxmWyJ0b2RvcyJdID0gVG9kby5mb3JfdXNlcihzZWxmLnVzZXIpCgogICAgZGVmIHVwZGF0ZV9lbnRyeShzZWxmKToKICAgICAgICBzdG9yZVsiZW50cnkiXSA9IHNlbGZbImVudHJ5Il0KCiAgICBkZWYgY2xvc2Uoc2VsZik6CiAgICAgICAgcm9vdC5kZXN0cm95KCkKCiAgICBkZWYgYWRkX3RvZG8oc2VsZiwgKl8pOgogICAgICAgIGlmIG5vdCBzZWxmWyJlbnRyeSJdLnN0cmlwKCk6CiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb24oCiAgICAgICAgICAgICAgICAiRW1wdHkgZmllbGQiLAogICAgICAgICAgICAgICAgIlBsZWFzZSwgZW50ZXIgYW4gaXRlbSIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbj0xMDAwLAogICAgICAgICAgICAgICAgYm9vdHN0eWxlPSJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNvdXJjZT0idG9kby1lbXB0eS1ub3RpZmljYXRpb24iLAogICAgICAgICAgICApLnNob3coKQogICAgICAgIHNlbGZbInVzZXIiXS5jcmVhdGVfdG9kbyhzZWxmWyJlbnRyeSJdKS5zYXZlKCkKICAgICAgICBzZWxmWyJlbnRyeSJdID0gIiIKICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgZGVmIHBvcHBlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIFRvZG8uZnJvbV91dWlkKHV1aWQpLmRlbGV0ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdG9nZ2xlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIG9iaiA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIG9iai5kb25lID0gbm90IG9iai5kb25lCiAgICAgICAgICAgIG9iai5zYXZlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQogICAgICAgIHN1cGVyKCkudXBkYXRlKCkKCiAgICBkZWYgcG9wdXBfbWVudShzZWxmLCB1dWlkKToKICAgICAgICBtZW51ID0gTWVudSgKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIkB0b2dnbGUiOiBzZWxmLnRvZ2dsZXIodXVpZCksCiAgICAgICAgICAgICAgICAiQHJlbW92ZSI6IHNlbGYucG9wcGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkBlZGl0Ijogc2VsZi5lZGl0ZXIodXVpZCksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRyYW5zbGF0aW9ucz0icGFnZXMudG9kb3MubWVudSIsCiAgICAgICAgKQoKICAgICAgICBkZWYgZnVuYyhlKToKICAgICAgICAgICAgbWVudS5wb3N0KGUueF9yb290LCBlLnlfcm9vdCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgZWRpdGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBlZGl0KCpfKToKICAgICAgICAgICAgZnJvbSBjdXN0b210a2ludGVyIGltcG9ydCBDVGtJbnB1dERpYWxvZwoKICAgICAgICAgICAgdmFsdWUgPSBDVGtJbnB1dERpYWxvZygKICAgICAgICAgICAgICAgIHRleHQ9IkVudGVyIHRoZSBuZXcgdmFsdWUiLCB0aXRsZT0iVG9kb3MiCiAgICAgICAgICAgICkuZ2V0X2lucHV0KCkKICAgICAgICAgICAgdG9kbyA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIHRvZG8uZGVzYyA9IHZhbHVlCiAgICAgICAgICAgIHRvZG8uc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGVkaXQKCgpAY2FjaGUKZGVmIGRlZmF1bHQoX3N0b3JlLCAvKToKICAgIGdsb2JhbCBzdG9yZSwgU1RPUkUsIHVzZXIKICAgIFNUT1JFID0gX3N0b3JlCiAgICBpZiBVc2VyLmlzX2xvZ2luKCk6CiAgICAgICAgdXNlciA9IFVzZXIuY3VycmVudCgpCiAgICAgICAgc3RvcmUgPSBTVE9SRS5mb3JfcGFnZShfX25hbWVfXykucGFydGl0aW9uKAogICAgICAgICAgICB1c2VyLm5hbWUsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJlbnRyeSI6IF8oInBhZ2VzLnRvZG9zLnBsYWNlaG9sZGVyIiksCiAgICAgICAgICAgIH0sCiAgICAgICAgKQogICAgICAgIHJldHVybiBUb2RvUGFnZSh1c2VyPXVzZXIsIGVudHJ5PXN0b3JlWyJlbnRyeSJdKQogICAgZWxzZToKICAgICAgICByYWlzZSBSZWRpcmVjdCgic2lnbkBzaWduaW4iKQo",
					"AQAAAAAAAAABAAAAMAEAAAAAAAAwAQAAAAAAAAAAAAAAAPC/"
				],
				[
					91,
					4,
					"swap_line_down",
					null,
					"CAAAAEcBAAAAAAAASQEAAAAAAAAAAAAAMAEAAAAAAAAwAQAAAAAAAAIAAABzCmEBAAAAAAAAYwEAAAAAAAAAAAAARQEAAAAAAABFAQAAAAAAAAIAAABzCmIBAAAAAAAAZAEAAAAAAAAAAAAAXwEAAAAAAABfAQAAAAAAAAIAAABzCmMBAAAAAAAAZQEAAAAAAAAAAAAAYAEAAAAAAABgAQAAAAAAAAIAAABzCg",
					"AQAAAAAAAAABAAAAMAEAAAAAAAAyAQAAAAAAAAAAAAAAAPC/"
				],
				[
					94,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAxA0AAAAAAADCDQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpzCmNsYXNzIFRvZG9QYWdlKENvbXBvbmVudCk6CiAgICByIiIiCiAgICBcZnJhbWUgcGFkZGluZz0yMAogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PXt7ZW50cnl9fSBwb3M6c3RpY2t5PSduc3cnIGJpbmQ6S2V5LVJldHVybj17YWRkX3RvZG99CiAgICAgICAgICAgIFxidXR0b24gdGV4dD0nKycgY29tbWFuZD17YWRkX3RvZG99IHBvczpncmlkPTEsMCBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgXGZyYW1lIHBvczpncmlkPTAsMSBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICAgICAhZW51bSB0b2RvczooaWR4LCB0b2RvKQogICAgICAgICAgICAgICAgXGxhYmVsIGJvb3RzdHlsZT17J2luZm8nIGlmIHRvZG8uZG9uZSBlbHNlICdkYW5nZXInfSB0ZXh0PXtzdHIoaWR4ICsgMSkgKyAnKSAnICsgdG9kby5kZXNjfSBwb3M6Z3JpZD17KDAsIGlkeCl9IHBvczp4d2VpZ2h0PTEwIHBvczpzdGlja3k9J25zd2UnIGJpbmQ6MT17dG9nZ2xlcih0b2RvLnV1aWQpfSBiaW5kOjM9e3BvcHVwX21lbnUodG9kby51dWlkKX0KICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD17XygncGFnZXMudG9kb3MubWFyay1kb25lJykgaWYgbm90IHRvZG8uZG9uZSBlbHNlIF8oJ3BhZ2VzLnRvZG9zLm1hcmstdW5kb25lJyl9IGNvbW1hbmQ9e3RvZ2dsZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygxLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9W3BhZ2VzLnRvZG9zLnJlbW92ZV0gY29tbWFuZD17cG9wcGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMiwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXIsIGVudHJ5KToKICAgICAgICBzZWxmLnVzZXIgPSB1c2VyCiAgICAgICAgc2VsZi5lbnRyeSA9IGVudHJ5CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQoKICAgIGRlZiB1cGRhdGVfZW50cnkoc2VsZik6CiAgICAgICAgc3RvcmVbImVudHJ5Il0gPSBzZWxmWyJlbnRyeSJdCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJvb3QuZGVzdHJveSgpCgogICAgZGVmIGFkZF90b2RvKHNlbGYsICpfKToKICAgICAgICBpZiBub3Qgc2VsZlsiZW50cnkiXS5zdHJpcCgpOgogICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgIkVtcHR5IGZpZWxkIiwKICAgICAgICAgICAgICAgICJQbGVhc2UsIGVudGVyIGFuIGl0ZW0iLAogICAgICAgICAgICAgICAgZHVyYXRpb249MTAwMCwKICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0id2FybmluZyIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InRvZG8tZW1wdHktbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAgKS5zaG93KCkKICAgICAgICBzZWxmWyJ1c2VyIl0uY3JlYXRlX3RvZG8oc2VsZlsiZW50cnkiXSkuc2F2ZSgpCiAgICAgICAgc2VsZlsiZW50cnkiXSA9ICIiCiAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgIGRlZiBwb3BwZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBUb2RvLmZyb21fdXVpZCh1dWlkKS5kZWxldGUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHRvZ2dsZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBvYmogPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICBvYmouZG9uZSA9IG5vdCBvYmouZG9uZQogICAgICAgICAgICBvYmouc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCgogICAgZGVmIHBvcHVwX21lbnUoc2VsZiwgdXVpZCk6CiAgICAgICAgbWVudSA9IE1lbnUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJAdG9nZ2xlIjogc2VsZi50b2dnbGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkByZW1vdmUiOiBzZWxmLnBvcHBlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAZWRpdCI6IHNlbGYuZWRpdGVyKHV1aWQpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2xhdGlvbnM9InBhZ2VzLnRvZG9zLm1lbnUiLAogICAgICAgICkKCiAgICAgICAgZGVmIGZ1bmMoZSk6CiAgICAgICAgICAgIG1lbnUucG9zdChlLnhfcm9vdCwgZS55X3Jvb3QpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGVkaXRlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZWRpdCgqXyk6CiAgICAgICAgICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrSW5wdXREaWFsb2cKCiAgICAgICAgICAgIHZhbHVlID0gQ1RrSW5wdXREaWFsb2coCiAgICAgICAgICAgICAgICB0ZXh0PSJFbnRlciB0aGUgbmV3IHZhbHVlIiwgdGl0bGU9IlRvZG9zIgogICAgICAgICAgICApLmdldF9pbnB1dCgpCiAgICAgICAgICAgIHRvZG8gPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICB0b2RvLmRlc2MgPSB2YWx1ZQogICAgICAgICAgICB0b2RvLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBlZGl0CgoKQGNhY2hlCmRlZiBkZWZhdWx0KF9zdG9yZSwgLyk6CiAgICBnbG9iYWwgc3RvcmUsIFNUT1JFLCB1c2VyCiAgICBTVE9SRSA9IF9zdG9yZQogICAgaWYgVXNlci5pc19sb2dpbigpOgogICAgICAgIHVzZXIgPSBVc2VyLmN1cnJlbnQoKQogICAgICAgIHN0b3JlID0gU1RPUkUuZm9yX3BhZ2UoX19uYW1lX18pLnBhcnRpdGlvbigKICAgICAgICAgICAgdXNlci5uYW1lLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiZW50cnkiOiBfKCJwYWdlcy50b2Rvcy5wbGFjZWhvbGRlciIpLAogICAgICAgICAgICB9LAogICAgICAgICkKICAgICAgICByZXR1cm4gVG9kb1BhZ2UodXNlcj11c2VyLCBlbnRyeT1zdG9yZVsiZW50cnkiXSkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgUmVkaXJlY3QoInNpZ25Ac2lnbmluIikK",
					"AQAAAAAAAAABAAAAYQEAAAAAAABjAQAAAAAAAAAAAAAAAPC/"
				],
				[
					97,
					51,
					"swap_line_down",
					null,
					"ZgAAAGQBAAAAAAAAZgEAAAAAAAAAAAAAYQEAAAAAAABhAQAAAAAAAAIAAABzCmUBAAAAAAAAZwEAAAAAAAAAAAAAYgEAAAAAAABiAQAAAAAAAAIAAABzCoABAAAAAAAAggEAAAAAAAAAAAAAYwEAAAAAAABjAQAAAAAAAAIAAABzCokBAAAAAAAAiwEAAAAAAAAAAAAAfgEAAAAAAAB+AQAAAAAAAAIAAABzCp8BAAAAAAAAoQEAAAAAAAAAAAAAhwEAAAAAAACHAQAAAAAAAAIAAABzCs0BAAAAAAAAzwEAAAAAAAAAAAAAnQEAAAAAAACdAQAAAAAAAAIAAABzCjECAAAAAAAAMwIAAAAAAAAAAAAAywEAAAAAAADLAQAAAAAAAAIAAABzCn8CAAAAAAAAgQIAAAAAAAAAAAAALwIAAAAAAAAvAgAAAAAAAAIAAABzCq0CAAAAAAAArwIAAAAAAAAAAAAAfQIAAAAAAAB9AgAAAAAAAAIAAABzCtECAAAAAAAA0wIAAAAAAAAAAAAAqwIAAAAAAACrAgAAAAAAAAIAAABzCq0DAAAAAAAArwMAAAAAAAAAAAAAzwIAAAAAAADPAgAAAAAAAAIAAABzClwEAAAAAAAAXgQAAAAAAAAAAAAAqwMAAAAAAACrAwAAAAAAAAIAAABzCs8EAAAAAAAA0QQAAAAAAAAAAAAAWgQAAAAAAABaBAAAAAAAAAIAAABzCtcEAAAAAAAA2QQAAAAAAAAAAAAAzQQAAAAAAADNBAAAAAAAAAIAAABzCtgEAAAAAAAA2gQAAAAAAAAAAAAA1QQAAAAAAADVBAAAAAAAAAIAAABzCv0EAAAAAAAA/wQAAAAAAAAAAAAA1gQAAAAAAADWBAAAAAAAAAIAAABzChYFAAAAAAAAGAUAAAAAAAAAAAAA+wQAAAAAAAD7BAAAAAAAAAIAAABzCjEFAAAAAAAAMwUAAAAAAAAAAAAAFAUAAAAAAAAUBQAAAAAAAAIAAABzCkwFAAAAAAAATgUAAAAAAAAAAAAALwUAAAAAAAAvBQAAAAAAAAIAAABzCk0FAAAAAAAATwUAAAAAAAAAAAAASgUAAAAAAABKBQAAAAAAAAIAAABzCmEFAAAAAAAAYwUAAAAAAAAAAAAASwUAAAAAAABLBQAAAAAAAAIAAABzCpIFAAAAAAAAlAUAAAAAAAAAAAAAXwUAAAAAAABfBQAAAAAAAAIAAABzCpMFAAAAAAAAlQUAAAAAAAAAAAAAkAUAAAAAAACQBQAAAAAAAAIAAABzCq8FAAAAAAAAsQUAAAAAAAAAAAAAkQUAAAAAAACRBQAAAAAAAAIAAABzCtYFAAAAAAAA2AUAAAAAAAAAAAAArQUAAAAAAACtBQAAAAAAAAIAAABzCtcFAAAAAAAA2QUAAAAAAAAAAAAA1AUAAAAAAADUBQAAAAAAAAIAAABzCuwFAAAAAAAA7gUAAAAAAAAAAAAA1QUAAAAAAADVBQAAAAAAAAIAAABzCgMGAAAAAAAABQYAAAAAAAAAAAAA6gUAAAAAAADqBQAAAAAAAAIAAABzCgQGAAAAAAAABgYAAAAAAAAAAAAAAQYAAAAAAAABBgAAAAAAAAIAAABzCiAGAAAAAAAAIgYAAAAAAAAAAAAAAgYAAAAAAAACBgAAAAAAAAIAAABzCkYGAAAAAAAASAYAAAAAAAAAAAAAHgYAAAAAAAAeBgAAAAAAAAIAAABzCmcGAAAAAAAAaQYAAAAAAAAAAAAARAYAAAAAAABEBgAAAAAAAAIAAABzCoYGAAAAAAAAiAYAAAAAAAAAAAAAZQYAAAAAAABlBgAAAAAAAAIAAABzCq8GAAAAAAAAsQYAAAAAAAAAAAAAhAYAAAAAAACEBgAAAAAAAAIAAABzCs4GAAAAAAAA0AYAAAAAAAAAAAAArQYAAAAAAACtBgAAAAAAAAIAAABzCvMGAAAAAAAA9QYAAAAAAAAAAAAAzAYAAAAAAADMBgAAAAAAAAIAAABzCiUHAAAAAAAAJwcAAAAAAAAAAAAA8QYAAAAAAADxBgAAAAAAAAIAAABzCjoHAAAAAAAAPAcAAAAAAAAAAAAAIwcAAAAAAAAjBwAAAAAAAAIAAABzCnEHAAAAAAAAcwcAAAAAAAAAAAAAOAcAAAAAAAA4BwAAAAAAAAIAAABzCowHAAAAAAAAjgcAAAAAAAAAAAAAbwcAAAAAAABvBwAAAAAAAAIAAABzCqIHAAAAAAAApAcAAAAAAAAAAAAAigcAAAAAAACKBwAAAAAAAAIAAABzCqMHAAAAAAAApQcAAAAAAAAAAAAAoAcAAAAAAACgBwAAAAAAAAIAAABzCr8HAAAAAAAAwQcAAAAAAAAAAAAAoQcAAAAAAAChBwAAAAAAAAIAAABzCtUHAAAAAAAA1wcAAAAAAAAAAAAAvQcAAAAAAAC9BwAAAAAAAAIAAABzCv8HAAAAAAAAAQgAAAAAAAAAAAAA0wcAAAAAAADTBwAAAAAAAAIAAABzChkIAAAAAAAAGwgAAAAAAAAAAAAA/QcAAAAAAAD9BwAAAAAAAAIAAABzChoIAAAAAAAAHAgAAAAAAAAAAAAAFwgAAAAAAAAXCAAAAAAAAAIAAABzCi4IAAAAAAAAMAgAAAAAAAAAAAAAGAgAAAAAAAAYCAAAAAAAAAIAAABzCi8IAAAAAAAAMQgAAAAAAAAAAAAALAgAAAAAAAAsCAAAAAAAAAIAAABzCkwIAAAAAAAATggAAAAAAAAAAAAALQgAAAAAAAAtCAAAAAAAAAIAAABzCmIIAAAAAAAAZAgAAAAAAAAAAAAASggAAAAAAABKCAAAAAAAAAIAAABzCg",
					"AQAAAAAAAAABAAAAYQEAAAAAAABjAQAAAAAAAAAAAAAAAPC/"
				],
				[
					98,
					52,
					"swap_line_down",
					null,
					"aAAAAIkIAAAAAAAAiwgAAAAAAAAAAAAAYAgAAAAAAABgCAAAAAAAAAIAAABzCq0IAAAAAAAArwgAAAAAAAAAAAAAhwgAAAAAAACHCAAAAAAAAAIAAABzCsQIAAAAAAAAxggAAAAAAAAAAAAAqwgAAAAAAACrCAAAAAAAAAIAAABzCt4IAAAAAAAA4AgAAAAAAAAAAAAAwggAAAAAAADCCAAAAAAAAAIAAABzCt8IAAAAAAAA4QgAAAAAAAAAAAAA3AgAAAAAAADcCAAAAAAAAAIAAABzCvMIAAAAAAAA9QgAAAAAAAAAAAAA3QgAAAAAAADdCAAAAAAAAAIAAABzCvQIAAAAAAAA9ggAAAAAAAAAAAAA8QgAAAAAAADxCAAAAAAAAAIAAABzCgoJAAAAAAAADAkAAAAAAAAAAAAA8ggAAAAAAADyCAAAAAAAAAIAAABzCjsJAAAAAAAAPQkAAAAAAAAAAAAACAkAAAAAAAAICQAAAAAAAAIAAABzClQJAAAAAAAAVgkAAAAAAAAAAAAAOQkAAAAAAAA5CQAAAAAAAAIAAABzClUJAAAAAAAAVwkAAAAAAAAAAAAAUgkAAAAAAABSCQAAAAAAAAIAAABzCnUJAAAAAAAAdwkAAAAAAAAAAAAAUwkAAAAAAABTCQAAAAAAAAIAAABzCooJAAAAAAAAjAkAAAAAAAAAAAAAcwkAAAAAAABzCQAAAAAAAAIAAABzCpgJAAAAAAAAmgkAAAAAAAAAAAAAiAkAAAAAAACICQAAAAAAAAIAAABzCscJAAAAAAAAyQkAAAAAAAAAAAAAlgkAAAAAAACWCQAAAAAAAAIAAABzCvUJAAAAAAAA9wkAAAAAAAAAAAAAxQkAAAAAAADFCQAAAAAAAAIAAABzCiEKAAAAAAAAIwoAAAAAAAAAAAAA8wkAAAAAAADzCQAAAAAAAAIAAABzCjAKAAAAAAAAMgoAAAAAAAAAAAAAHwoAAAAAAAAfCgAAAAAAAAIAAABzCl0KAAAAAAAAXwoAAAAAAAAAAAAALgoAAAAAAAAuCgAAAAAAAAIAAABzCmcKAAAAAAAAaQoAAAAAAAAAAAAAWwoAAAAAAABbCgAAAAAAAAIAAABzCmgKAAAAAAAAagoAAAAAAAAAAAAAZQoAAAAAAABlCgAAAAAAAAIAAABzCn0KAAAAAAAAfwoAAAAAAAAAAAAAZgoAAAAAAABmCgAAAAAAAAIAAABzCqcKAAAAAAAAqQoAAAAAAAAAAAAAewoAAAAAAAB7CgAAAAAAAAIAAABzCqgKAAAAAAAAqgoAAAAAAAAAAAAApQoAAAAAAAClCgAAAAAAAAIAAABzCrwKAAAAAAAAvgoAAAAAAAAAAAAApgoAAAAAAACmCgAAAAAAAAIAAABzCr0KAAAAAAAAvwoAAAAAAAAAAAAAugoAAAAAAAC6CgAAAAAAAAIAAABzCtkKAAAAAAAA2woAAAAAAAAAAAAAuwoAAAAAAAC7CgAAAAAAAAIAAABzCu8KAAAAAAAA8QoAAAAAAAAAAAAA1woAAAAAAADXCgAAAAAAAAIAAABzCiQLAAAAAAAAJgsAAAAAAAAAAAAA7QoAAAAAAADtCgAAAAAAAAIAAABzCiULAAAAAAAAJwsAAAAAAAAAAAAAIgsAAAAAAAAiCwAAAAAAAAIAAABzCkkLAAAAAAAASwsAAAAAAAAAAAAAIwsAAAAAAAAjCwAAAAAAAAIAAABzCoMLAAAAAAAAhQsAAAAAAAAAAAAARwsAAAAAAABHCwAAAAAAAAIAAABzCp0LAAAAAAAAnwsAAAAAAAAAAAAAgQsAAAAAAACBCwAAAAAAAAIAAABzCsULAAAAAAAAxwsAAAAAAAAAAAAAmwsAAAAAAACbCwAAAAAAAAIAAABzCuMLAAAAAAAA5QsAAAAAAAAAAAAAwwsAAAAAAADDCwAAAAAAAAIAAABzCvsLAAAAAAAA/QsAAAAAAAAAAAAA4QsAAAAAAADhCwAAAAAAAAIAAABzChUMAAAAAAAAFwwAAAAAAAAAAAAA+QsAAAAAAAD5CwAAAAAAAAIAAABzChYMAAAAAAAAGAwAAAAAAAAAAAAAEwwAAAAAAAATDAAAAAAAAAIAAABzCioMAAAAAAAALAwAAAAAAAAAAAAAFAwAAAAAAAAUDAAAAAAAAAIAAABzCisMAAAAAAAALQwAAAAAAAAAAAAAKAwAAAAAAAAoDAAAAAAAAAIAAABzCiwMAAAAAAAALgwAAAAAAAAAAAAAKQwAAAAAAAApDAAAAAAAAAIAAABzCjMMAAAAAAAANQwAAAAAAAAAAAAAKgwAAAAAAAAqDAAAAAAAAAIAAABzCksMAAAAAAAATQwAAAAAAAAAAAAAMQwAAAAAAAAxDAAAAAAAAAIAAABzCmkMAAAAAAAAawwAAAAAAAAAAAAASQwAAAAAAABJDAAAAAAAAAIAAABzCnwMAAAAAAAAfgwAAAAAAAAAAAAAZwwAAAAAAABnDAAAAAAAAAIAAABzCpQMAAAAAAAAlgwAAAAAAAAAAAAAegwAAAAAAAB6DAAAAAAAAAIAAABzCrIMAAAAAAAAtAwAAAAAAAAAAAAAkgwAAAAAAACSDAAAAAAAAAIAAABzCuYMAAAAAAAA6AwAAAAAAAAAAAAAsAwAAAAAAACwDAAAAAAAAAIAAABzCv0MAAAAAAAA/wwAAAAAAAAAAAAA5AwAAAAAAADkDAAAAAAAAAIAAABzCgsNAAAAAAAADQ0AAAAAAAAAAAAA+wwAAAAAAAD7DAAAAAAAAAIAAABzCkINAAAAAAAARA0AAAAAAAAAAAAACQ0AAAAAAAAJDQAAAAAAAAIAAABzClENAAAAAAAAUw0AAAAAAAAAAAAAQA0AAAAAAABADQAAAAAAAAIAAABzCg",
					"AQAAAAAAAAABAAAAYAgAAAAAAABiCAAAAAAAAAAAAAAAAPC/"
				],
				[
					99,
					12,
					"swap_line_up",
					null,
					"GAAAAE8NAAAAAAAATw0AAAAAAAACAAAAcwpADQAAAAAAAEINAAAAAAAAAAAAAEANAAAAAAAAQA0AAAAAAAACAAAAcwoJDQAAAAAAAAsNAAAAAAAAAAAAAAkNAAAAAAAACQ0AAAAAAAACAAAAcwr7DAAAAAAAAP0MAAAAAAAAAAAAAPsMAAAAAAAA+wwAAAAAAAACAAAAcwrkDAAAAAAAAOYMAAAAAAAAAAAAAOQMAAAAAAAA5AwAAAAAAAACAAAAcwqwDAAAAAAAALIMAAAAAAAAAAAAALAMAAAAAAAAsAwAAAAAAAACAAAAcwqSDAAAAAAAAJQMAAAAAAAAAAAAAJIMAAAAAAAAkgwAAAAAAAACAAAAcwp6DAAAAAAAAHwMAAAAAAAAAAAAAHoMAAAAAAAAegwAAAAAAAACAAAAcwpnDAAAAAAAAGkMAAAAAAAAAAAAAGcMAAAAAAAAZwwAAAAAAAACAAAAcwpJDAAAAAAAAEsMAAAAAAAAAAAAAEkMAAAAAAAASQwAAAAAAAACAAAAcwoxDAAAAAAAADMMAAAAAAAAAAAAADEMAAAAAAAAMQwAAAAAAAACAAAAcwoqDAAAAAAAACwMAAAAAAAAAAAAACoMAAAAAAAAKgwAAAAAAAACAAAAcwopDAAAAAAAACsMAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAATw0AAAAAAABRDQAAAAAAAAAAAAAAAPC/"
				],
				[
					102,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAxA0AAAAAAADEDQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgoKCmNsYXNzIFRvZG9QYWdlKENvbXBvbmVudCk6CiAgICByIiIiCiAgICBcZnJhbWUgcGFkZGluZz0yMAogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PXt7ZW50cnl9fSBwb3M6c3RpY2t5PSduc3cnIGJpbmQ6S2V5LVJldHVybj17YWRkX3RvZG99CiAgICAgICAgICAgIFxidXR0b24gdGV4dD0nKycgY29tbWFuZD17YWRkX3RvZG99IHBvczpncmlkPTEsMCBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgXGZyYW1lIHBvczpncmlkPTAsMSBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICAgICAhZW51bSB0b2RvczooaWR4LCB0b2RvKQogICAgICAgICAgICAgICAgXGxhYmVsIGJvb3RzdHlsZT17J2luZm8nIGlmIHRvZG8uZG9uZSBlbHNlICdkYW5nZXInfSB0ZXh0PXtzdHIoaWR4ICsgMSkgKyAnKSAnICsgdG9kby5kZXNjfSBwb3M6Z3JpZD17KDAsIGlkeCl9IHBvczp4d2VpZ2h0PTEwIHBvczpzdGlja3k9J25zd2UnIGJpbmQ6MT17dG9nZ2xlcih0b2RvLnV1aWQpfSBiaW5kOjM9e3BvcHVwX21lbnUodG9kby51dWlkKX0KICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD17XygncGFnZXMudG9kb3MubWFyay1kb25lJykgaWYgbm90IHRvZG8uZG9uZSBlbHNlIF8oJ3BhZ2VzLnRvZG9zLm1hcmstdW5kb25lJyl9IGNvbW1hbmQ9e3RvZ2dsZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygxLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9W3BhZ2VzLnRvZG9zLnJlbW92ZV0gY29tbWFuZD17cG9wcGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMiwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXIsIGVudHJ5KToKICAgICAgICBzZWxmLnVzZXIgPSB1c2VyCiAgICAgICAgc2VsZi5lbnRyeSA9IGVudHJ5CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQoKICAgIGRlZiB1cGRhdGVfZW50cnkoc2VsZik6CiAgICAgICAgc3RvcmVbImVudHJ5Il0gPSBzZWxmWyJlbnRyeSJdCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJvb3QuZGVzdHJveSgpCgogICAgZGVmIGFkZF90b2RvKHNlbGYsICpfKToKICAgICAgICBpZiBub3Qgc2VsZlsiZW50cnkiXS5zdHJpcCgpOgogICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgIkVtcHR5IGZpZWxkIiwKICAgICAgICAgICAgICAgICJQbGVhc2UsIGVudGVyIGFuIGl0ZW0iLAogICAgICAgICAgICAgICAgZHVyYXRpb249MTAwMCwKICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0id2FybmluZyIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InRvZG8tZW1wdHktbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAgKS5zaG93KCkKICAgICAgICBzZWxmWyJ1c2VyIl0uY3JlYXRlX3RvZG8oc2VsZlsiZW50cnkiXSkuc2F2ZSgpCiAgICAgICAgc2VsZlsiZW50cnkiXSA9ICIiCiAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgIGRlZiBwb3BwZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBUb2RvLmZyb21fdXVpZCh1dWlkKS5kZWxldGUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHRvZ2dsZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBvYmogPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICBvYmouZG9uZSA9IG5vdCBvYmouZG9uZQogICAgICAgICAgICBvYmouc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCgogICAgZGVmIHBvcHVwX21lbnUoc2VsZiwgdXVpZCk6CiAgICAgICAgbWVudSA9IE1lbnUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJAdG9nZ2xlIjogc2VsZi50b2dnbGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkByZW1vdmUiOiBzZWxmLnBvcHBlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAZWRpdCI6IHNlbGYuZWRpdGVyKHV1aWQpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2xhdGlvbnM9InBhZ2VzLnRvZG9zLm1lbnUiLAogICAgICAgICkKCiAgICAgICAgZGVmIGZ1bmMoZSk6CiAgICAgICAgICAgIG1lbnUucG9zdChlLnhfcm9vdCwgZS55X3Jvb3QpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGVkaXRlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZWRpdCgqXyk6CiAgICAgICAgICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrSW5wdXREaWFsb2cKCiAgICAgICAgICAgIHZhbHVlID0gQ1RrSW5wdXREaWFsb2coCiAgICAgICAgICAgICAgICB0ZXh0PSJFbnRlciB0aGUgbmV3IHZhbHVlIiwgdGl0bGU9IlRvZG9zIgogICAgICAgICAgICApLmdldF9pbnB1dCgpCiAgICAgICAgICAgIHRvZG8gPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICB0b2RvLmRlc2MgPSB2YWx1ZQogICAgICAgICAgICB0b2RvLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBlZGl0CgpzCgpAY2FjaGUKZGVmIGRlZmF1bHQoX3N0b3JlLCAvKToKICAgIGdsb2JhbCBzdG9yZSwgU1RPUkUsIHVzZXIKICAgIFNUT1JFID0gX3N0b3JlCiAgICBpZiBVc2VyLmlzX2xvZ2luKCk6CiAgICAgICAgdXNlciA9IFVzZXIuY3VycmVudCgpCiAgICAgICAgc3RvcmUgPSBTVE9SRS5mb3JfcGFnZShfX25hbWVfXykucGFydGl0aW9uKAogICAgICAgICAgICB1c2VyLm5hbWUsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJlbnRyeSI6IF8oInBhZ2VzLnRvZG9zLnBsYWNlaG9sZGVyIiksCiAgICAgICAgICAgIH0sCiAgICAgICAgKQogICAgICAgIHJldHVybiBUb2RvUGFnZSh1c2VyPXVzZXIsIGVudHJ5PXN0b3JlWyJlbnRyeSJdKQogICAgZWxzZToKICAgICAgICByYWlzZSBSZWRpcmVjdCgic2lnbkBzaWduaW4iKQo",
					"AQAAAAAAAAABAAAAKQwAAAAAAAArDAAAAAAAAAAAAAAAAPC/"
				],
				[
					106,
					2,
					"left_delete",
					null,
					"AgAAACgMAAAAAAAAKAwAAAAAAAACAAAAcwonDAAAAAAAACcMAAAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAAKAwAAAAAAAAqDAAAAAAAAAAAAAAAAPC/"
				],
				[
					109,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAwA0AAAAAAADBDQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOmdyaWQ9MCwwIHBvczpzdGlja3k9J25zZXcnCiAgICAgICAgICAgIFxlbnRyeSB3aWR0aD04MCBwb3M6Z3JpZD0wLDAgdGV4dD17e2VudHJ5fX0gcG9zOnN0aWNreT0nbnN3JyBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0nbnNlJwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgIWVudW0gdG9kb3M6KGlkeCwgdG9kbykKICAgICAgICAgICAgICAgIFxsYWJlbCBib290c3R5bGU9eydpbmZvJyBpZiB0b2RvLmRvbmUgZWxzZSAnZGFuZ2VyJ30gdGV4dD17c3RyKGlkeCArIDEpICsgJykgJyArIHRvZG8uZGVzY30gcG9zOmdyaWQ9eygwLCBpZHgpfSBwb3M6eHdlaWdodD0xMCBwb3M6c3RpY2t5PSduc3dlJyBiaW5kOjE9e3RvZ2dsZXIodG9kby51dWlkKX0gYmluZDozPXtwb3B1cF9tZW51KHRvZG8udXVpZCl9CiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9e18oJ3BhZ2VzLnRvZG9zLm1hcmstZG9uZScpIGlmIG5vdCB0b2RvLmRvbmUgZWxzZSBfKCdwYWdlcy50b2Rvcy5tYXJrLXVuZG9uZScpfSBjb21tYW5kPXt0b2dnbGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMSwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PVtwYWdlcy50b2Rvcy5yZW1vdmVdIGNvbW1hbmQ9e3BvcHBlcih0b2RvLnV1aWQpfSBwb3M6Z3JpZD17KDIsIGlkeCl9IHBvczpzdGlja3k9J25zZScKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyLCBlbnRyeSk6CiAgICAgICAgc2VsZi51c2VyID0gdXNlcgogICAgICAgIHNlbGYuZW50cnkgPSBlbnRyeQogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKCiAgICBkZWYgdXBkYXRlX2VudHJ5KHNlbGYpOgogICAgICAgIHN0b3JlWyJlbnRyeSJdID0gc2VsZlsiZW50cnkiXQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICByb290LmRlc3Ryb3koKQoKICAgIGRlZiBhZGRfdG9kbyhzZWxmLCAqXyk6CiAgICAgICAgaWYgbm90IHNlbGZbImVudHJ5Il0uc3RyaXAoKToKICAgICAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgICAgICJFbXB0eSBmaWVsZCIsCiAgICAgICAgICAgICAgICAiUGxlYXNlLCBlbnRlciBhbiBpdGVtIiwKICAgICAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAsCiAgICAgICAgICAgICAgICBib290c3R5bGU9Indhcm5pbmciLAogICAgICAgICAgICAgICAgc291cmNlPSJ0b2RvLWVtcHR5LW5vdGlmaWNhdGlvbiIsCiAgICAgICAgICAgICkuc2hvdygpCiAgICAgICAgc2VsZlsidXNlciJdLmNyZWF0ZV90b2RvKHNlbGZbImVudHJ5Il0pLnNhdmUoKQogICAgICAgIHNlbGZbImVudHJ5Il0gPSAiIgogICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICBkZWYgcG9wcGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBmdW5jKCpfKToKICAgICAgICAgICAgVG9kby5mcm9tX3V1aWQodXVpZCkuZGVsZXRlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiB0b2dnbGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBmdW5jKCpfKToKICAgICAgICAgICAgb2JqID0gVG9kby5mcm9tX3V1aWQodXVpZCkKICAgICAgICAgICAgb2JqLmRvbmUgPSBub3Qgb2JqLmRvbmUKICAgICAgICAgICAgb2JqLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBzZWxmWyJ0b2RvcyJdID0gVG9kby5mb3JfdXNlcihzZWxmLnVzZXIpCiAgICAgICAgc3VwZXIoKS51cGRhdGUoKQoKICAgIGRlZiBwb3B1cF9tZW51KHNlbGYsIHV1aWQpOgogICAgICAgIG1lbnUgPSBNZW51KAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiQHRvZ2dsZSI6IHNlbGYudG9nZ2xlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAcmVtb3ZlIjogc2VsZi5wb3BwZXIodXVpZCksCiAgICAgICAgICAgICAgICAiQGVkaXQiOiBzZWxmLmVkaXRlcih1dWlkKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJhbnNsYXRpb25zPSJwYWdlcy50b2Rvcy5tZW51IiwKICAgICAgICApCgogICAgICAgIGRlZiBmdW5jKGUpOgogICAgICAgICAgICBtZW51LnBvc3QoZS54X3Jvb3QsIGUueV9yb290KQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiBlZGl0ZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGVkaXQoKl8pOgogICAgICAgICAgICBmcm9tIGN1c3RvbXRraW50ZXIgaW1wb3J0IENUa0lucHV0RGlhbG9nCgogICAgICAgICAgICB2YWx1ZSA9IENUa0lucHV0RGlhbG9nKAogICAgICAgICAgICAgICAgdGV4dD0iRW50ZXIgdGhlIG5ldyB2YWx1ZSIsIHRpdGxlPSJUb2RvcyIKICAgICAgICAgICAgKS5nZXRfaW5wdXQoKQogICAgICAgICAgICB0b2RvID0gVG9kby5mcm9tX3V1aWQodXVpZCkKICAgICAgICAgICAgdG9kby5kZXNjID0gdmFsdWUKICAgICAgICAgICAgdG9kby5zYXZlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZWRpdAoKCgpAY2FjaGUKZGVmIGRlZmF1bHQoX3N0b3JlLCAvKToKICAgIGdsb2JhbCBzdG9yZSwgU1RPUkUsIHVzZXIKICAgIFNUT1JFID0gX3N0b3JlCiAgICBpZiBVc2VyLmlzX2xvZ2luKCk6CiAgICAgICAgdXNlciA9IFVzZXIuY3VycmVudCgpCiAgICAgICAgc3RvcmUgPSBTVE9SRS5mb3JfcGFnZShfX25hbWVfXykucGFydGl0aW9uKAogICAgICAgICAgICB1c2VyLm5hbWUsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJlbnRyeSI6IF8oInBhZ2VzLnRvZG9zLnBsYWNlaG9sZGVyIiksCiAgICAgICAgICAgIH0sCiAgICAgICAgKQogICAgICAgIHJldHVybiBUb2RvUGFnZSh1c2VyPXVzZXIsIGVudHJ5PXN0b3JlWyJlbnRyeSJdKQogICAgZWxzZToKICAgICAgICByYWlzZSBSZWRpcmVjdCgic2lnbkBzaWduaW4iKQo",
					"AQAAAAAAAAABAAAAJwwAAAAAAAAnDAAAAAAAAAAAAAAAAPC/"
				],
				[
					117,
					1,
					"left_delete",
					null,
					"AQAAAK4BAAAAAAAArgEAAAAAAAAaAAAAZ3JpZD0wLDAgcG9zOnN0aWNreT0nbnNldyc",
					"AQAAAAAAAAABAAAArgEAAAAAAADIAQAAAAAAAAAAAAAAAPC/"
				],
				[
					118,
					1,
					"insert",
					{
						"characters": "pack"
					},
					"BAAAAK4BAAAAAAAArwEAAAAAAAAAAAAArwEAAAAAAACwAQAAAAAAAAAAAACwAQAAAAAAALEBAAAAAAAAAAAAALEBAAAAAAAAsgEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArgEAAAAAAACuAQAAAAAAAAAAAAAAAPC/"
				],
				[
					121,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAqg0AAAAAAACqDQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PXt7ZW50cnl9fSBwb3M6c3RpY2t5PSduc3cnIGJpbmQ6S2V5LVJldHVybj17YWRkX3RvZG99CiAgICAgICAgICAgIFxidXR0b24gdGV4dD0nKycgY29tbWFuZD17YWRkX3RvZG99IHBvczpncmlkPTEsMCBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgXGZyYW1lIHBvczpncmlkPTAsMSBwb3M6c3RpY2t5PSduc2V3JwogICAgICAgICAgICAhZW51bSB0b2RvczooaWR4LCB0b2RvKQogICAgICAgICAgICAgICAgXGxhYmVsIGJvb3RzdHlsZT17J2luZm8nIGlmIHRvZG8uZG9uZSBlbHNlICdkYW5nZXInfSB0ZXh0PXtzdHIoaWR4ICsgMSkgKyAnKSAnICsgdG9kby5kZXNjfSBwb3M6Z3JpZD17KDAsIGlkeCl9IHBvczp4d2VpZ2h0PTEwIHBvczpzdGlja3k9J25zd2UnIGJpbmQ6MT17dG9nZ2xlcih0b2RvLnV1aWQpfSBiaW5kOjM9e3BvcHVwX21lbnUodG9kby51dWlkKX0KICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD17XygncGFnZXMudG9kb3MubWFyay1kb25lJykgaWYgbm90IHRvZG8uZG9uZSBlbHNlIF8oJ3BhZ2VzLnRvZG9zLm1hcmstdW5kb25lJyl9IGNvbW1hbmQ9e3RvZ2dsZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygxLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9W3BhZ2VzLnRvZG9zLnJlbW92ZV0gY29tbWFuZD17cG9wcGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMiwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXIsIGVudHJ5KToKICAgICAgICBzZWxmLnVzZXIgPSB1c2VyCiAgICAgICAgc2VsZi5lbnRyeSA9IGVudHJ5CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQoKICAgIGRlZiB1cGRhdGVfZW50cnkoc2VsZik6CiAgICAgICAgc3RvcmVbImVudHJ5Il0gPSBzZWxmWyJlbnRyeSJdCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJvb3QuZGVzdHJveSgpCgogICAgZGVmIGFkZF90b2RvKHNlbGYsICpfKToKICAgICAgICBpZiBub3Qgc2VsZlsiZW50cnkiXS5zdHJpcCgpOgogICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgIkVtcHR5IGZpZWxkIiwKICAgICAgICAgICAgICAgICJQbGVhc2UsIGVudGVyIGFuIGl0ZW0iLAogICAgICAgICAgICAgICAgZHVyYXRpb249MTAwMCwKICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0id2FybmluZyIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InRvZG8tZW1wdHktbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAgKS5zaG93KCkKICAgICAgICBzZWxmWyJ1c2VyIl0uY3JlYXRlX3RvZG8oc2VsZlsiZW50cnkiXSkuc2F2ZSgpCiAgICAgICAgc2VsZlsiZW50cnkiXSA9ICIiCiAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgIGRlZiBwb3BwZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBUb2RvLmZyb21fdXVpZCh1dWlkKS5kZWxldGUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHRvZ2dsZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBvYmogPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICBvYmouZG9uZSA9IG5vdCBvYmouZG9uZQogICAgICAgICAgICBvYmouc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCgogICAgZGVmIHBvcHVwX21lbnUoc2VsZiwgdXVpZCk6CiAgICAgICAgbWVudSA9IE1lbnUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJAdG9nZ2xlIjogc2VsZi50b2dnbGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkByZW1vdmUiOiBzZWxmLnBvcHBlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAZWRpdCI6IHNlbGYuZWRpdGVyKHV1aWQpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2xhdGlvbnM9InBhZ2VzLnRvZG9zLm1lbnUiLAogICAgICAgICkKCiAgICAgICAgZGVmIGZ1bmMoZSk6CiAgICAgICAgICAgIG1lbnUucG9zdChlLnhfcm9vdCwgZS55X3Jvb3QpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGVkaXRlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZWRpdCgqXyk6CiAgICAgICAgICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrSW5wdXREaWFsb2cKCiAgICAgICAgICAgIHZhbHVlID0gQ1RrSW5wdXREaWFsb2coCiAgICAgICAgICAgICAgICB0ZXh0PSJFbnRlciB0aGUgbmV3IHZhbHVlIiwgdGl0bGU9IlRvZG9zIgogICAgICAgICAgICApLmdldF9pbnB1dCgpCiAgICAgICAgICAgIHRvZG8gPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICB0b2RvLmRlc2MgPSB2YWx1ZQogICAgICAgICAgICB0b2RvLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBlZGl0CgoKQGNhY2hlCmRlZiBkZWZhdWx0KF9zdG9yZSwgLyk6CiAgICBnbG9iYWwgc3RvcmUsIFNUT1JFLCB1c2VyCiAgICBTVE9SRSA9IF9zdG9yZQogICAgaWYgVXNlci5pc19sb2dpbigpOgogICAgICAgIHVzZXIgPSBVc2VyLmN1cnJlbnQoKQogICAgICAgIHN0b3JlID0gU1RPUkUuZm9yX3BhZ2UoX19uYW1lX18pLnBhcnRpdGlvbigKICAgICAgICAgICAgdXNlci5uYW1lLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiZW50cnkiOiBfKCJwYWdlcy50b2Rvcy5wbGFjZWhvbGRlciIpLAogICAgICAgICAgICB9LAogICAgICAgICkKICAgICAgICByZXR1cm4gVG9kb1BhZ2UodXNlcj11c2VyLCBlbnRyeT1zdG9yZVsiZW50cnkiXSkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgUmVkaXJlY3QoInNpZ25Ac2lnbmluIikK",
					"AQAAAAAAAAABAAAAsgEAAAAAAACyAQAAAAAAAAAAAAAAAPC/"
				],
				[
					125,
					2,
					"left_delete",
					null,
					"AgAAAOkBAAAAAAAA6QEAAAAAAAABAAAAfegBAAAAAAAA6AEAAAAAAAABAAAAfQ",
					"AQAAAAAAAAABAAAA6gEAAAAAAADqAQAAAAAAAAAAAAAAAPC/"
				],
				[
					128,
					2,
					"left_delete",
					null,
					"AgAAAOIBAAAAAAAA4gEAAAAAAAABAAAAe+EBAAAAAAAA4QEAAAAAAAABAAAAew",
					"AQAAAAAAAAABAAAA4wEAAAAAAADjAQAAAAAAAAAAAAAAAPC/"
				],
				[
					129,
					1,
					"insert",
					{
						"characters": "$"
					},
					"AQAAAOEBAAAAAAAA4gEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4QEAAAAAAADhAQAAAAAAAAAAAAAAAPC/"
				],
				[
					135,
					1,
					"left_delete",
					null,
					"AQAAAOwBAAAAAAAA7AEAAAAAAAAMAAAAc3RpY2t5PSduc3cn",
					"AQAAAAAAAAABAAAA7AEAAAAAAAD4AQAAAAAAAAAAAAAAAPC/"
				],
				[
					136,
					1,
					"insert",
					{
						"characters": "pack"
					},
					"BAAAAOwBAAAAAAAA7QEAAAAAAAAAAAAA7QEAAAAAAADuAQAAAAAAAAAAAADuAQAAAAAAAO8BAAAAAAAAAAAAAO8BAAAAAAAA8AEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA7AEAAAAAAADsAQAAAAAAAAAAAAAAAPC/"
				],
				[
					139,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAnw0AAAAAAACfDQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PSRlbnRyeSBwb3M6cGFjayBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6Z3JpZD0xLDAgcG9zOnN0aWNreT0nbnNlJwogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgIWVudW0gdG9kb3M6KGlkeCwgdG9kbykKICAgICAgICAgICAgICAgIFxsYWJlbCBib290c3R5bGU9eydpbmZvJyBpZiB0b2RvLmRvbmUgZWxzZSAnZGFuZ2VyJ30gdGV4dD17c3RyKGlkeCArIDEpICsgJykgJyArIHRvZG8uZGVzY30gcG9zOmdyaWQ9eygwLCBpZHgpfSBwb3M6eHdlaWdodD0xMCBwb3M6c3RpY2t5PSduc3dlJyBiaW5kOjE9e3RvZ2dsZXIodG9kby51dWlkKX0gYmluZDozPXtwb3B1cF9tZW51KHRvZG8udXVpZCl9CiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9e18oJ3BhZ2VzLnRvZG9zLm1hcmstZG9uZScpIGlmIG5vdCB0b2RvLmRvbmUgZWxzZSBfKCdwYWdlcy50b2Rvcy5tYXJrLXVuZG9uZScpfSBjb21tYW5kPXt0b2dnbGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMSwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PVtwYWdlcy50b2Rvcy5yZW1vdmVdIGNvbW1hbmQ9e3BvcHBlcih0b2RvLnV1aWQpfSBwb3M6Z3JpZD17KDIsIGlkeCl9IHBvczpzdGlja3k9J25zZScKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyLCBlbnRyeSk6CiAgICAgICAgc2VsZi51c2VyID0gdXNlcgogICAgICAgIHNlbGYuZW50cnkgPSBlbnRyeQogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKCiAgICBkZWYgdXBkYXRlX2VudHJ5KHNlbGYpOgogICAgICAgIHN0b3JlWyJlbnRyeSJdID0gc2VsZlsiZW50cnkiXQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICByb290LmRlc3Ryb3koKQoKICAgIGRlZiBhZGRfdG9kbyhzZWxmLCAqXyk6CiAgICAgICAgaWYgbm90IHNlbGZbImVudHJ5Il0uc3RyaXAoKToKICAgICAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgICAgICJFbXB0eSBmaWVsZCIsCiAgICAgICAgICAgICAgICAiUGxlYXNlLCBlbnRlciBhbiBpdGVtIiwKICAgICAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAsCiAgICAgICAgICAgICAgICBib290c3R5bGU9Indhcm5pbmciLAogICAgICAgICAgICAgICAgc291cmNlPSJ0b2RvLWVtcHR5LW5vdGlmaWNhdGlvbiIsCiAgICAgICAgICAgICkuc2hvdygpCiAgICAgICAgc2VsZlsidXNlciJdLmNyZWF0ZV90b2RvKHNlbGZbImVudHJ5Il0pLnNhdmUoKQogICAgICAgIHNlbGZbImVudHJ5Il0gPSAiIgogICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICBkZWYgcG9wcGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBmdW5jKCpfKToKICAgICAgICAgICAgVG9kby5mcm9tX3V1aWQodXVpZCkuZGVsZXRlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiB0b2dnbGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBmdW5jKCpfKToKICAgICAgICAgICAgb2JqID0gVG9kby5mcm9tX3V1aWQodXVpZCkKICAgICAgICAgICAgb2JqLmRvbmUgPSBub3Qgb2JqLmRvbmUKICAgICAgICAgICAgb2JqLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBzZWxmWyJ0b2RvcyJdID0gVG9kby5mb3JfdXNlcihzZWxmLnVzZXIpCiAgICAgICAgc3VwZXIoKS51cGRhdGUoKQoKICAgIGRlZiBwb3B1cF9tZW51KHNlbGYsIHV1aWQpOgogICAgICAgIG1lbnUgPSBNZW51KAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiQHRvZ2dsZSI6IHNlbGYudG9nZ2xlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAcmVtb3ZlIjogc2VsZi5wb3BwZXIodXVpZCksCiAgICAgICAgICAgICAgICAiQGVkaXQiOiBzZWxmLmVkaXRlcih1dWlkKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJhbnNsYXRpb25zPSJwYWdlcy50b2Rvcy5tZW51IiwKICAgICAgICApCgogICAgICAgIGRlZiBmdW5jKGUpOgogICAgICAgICAgICBtZW51LnBvc3QoZS54X3Jvb3QsIGUueV9yb290KQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiBlZGl0ZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGVkaXQoKl8pOgogICAgICAgICAgICBmcm9tIGN1c3RvbXRraW50ZXIgaW1wb3J0IENUa0lucHV0RGlhbG9nCgogICAgICAgICAgICB2YWx1ZSA9IENUa0lucHV0RGlhbG9nKAogICAgICAgICAgICAgICAgdGV4dD0iRW50ZXIgdGhlIG5ldyB2YWx1ZSIsIHRpdGxlPSJUb2RvcyIKICAgICAgICAgICAgKS5nZXRfaW5wdXQoKQogICAgICAgICAgICB0b2RvID0gVG9kby5mcm9tX3V1aWQodXVpZCkKICAgICAgICAgICAgdG9kby5kZXNjID0gdmFsdWUKICAgICAgICAgICAgdG9kby5zYXZlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZWRpdAoKCkBjYWNoZQpkZWYgZGVmYXVsdChfc3RvcmUsIC8pOgogICAgZ2xvYmFsIHN0b3JlLCBTVE9SRSwgdXNlcgogICAgU1RPUkUgPSBfc3RvcmUKICAgIGlmIFVzZXIuaXNfbG9naW4oKToKICAgICAgICB1c2VyID0gVXNlci5jdXJyZW50KCkKICAgICAgICBzdG9yZSA9IFNUT1JFLmZvcl9wYWdlKF9fbmFtZV9fKS5wYXJ0aXRpb24oCiAgICAgICAgICAgIHVzZXIubmFtZSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImVudHJ5IjogXygicGFnZXMudG9kb3MucGxhY2Vob2xkZXIiKSwKICAgICAgICAgICAgfSwKICAgICAgICApCiAgICAgICAgcmV0dXJuIFRvZG9QYWdlKHVzZXI9dXNlciwgZW50cnk9c3RvcmVbImVudHJ5Il0pCiAgICBlbHNlOgogICAgICAgIHJhaXNlIFJlZGlyZWN0KCJzaWduQHNpZ25pbiIpCg",
					"AQAAAAAAAAABAAAA8AEAAAAAAADwAQAAAAAAAAAAAAAAAPC/"
				],
				[
					146,
					1,
					"left_delete",
					null,
					"AQAAAEACAAAAAAAAQAIAAAAAAAAZAAAAZ3JpZD0xLDAgcG9zOnN0aWNreT0nbnNlJw",
					"AQAAAAAAAAABAAAAWQIAAAAAAABAAgAAAAAAAAAAAAAAAPC/"
				],
				[
					147,
					1,
					"insert",
					{
						"characters": "pack"
					},
					"BAAAAEACAAAAAAAAQQIAAAAAAAAAAAAAQQIAAAAAAABCAgAAAAAAAAAAAABCAgAAAAAAAEMCAAAAAAAAAAAAAEMCAAAAAAAARAIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAQAIAAAAAAABAAgAAAAAAAAAAAAAAAPC/"
				],
				[
					150,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAig0AAAAAAACKDQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PSRlbnRyeSBwb3M6cGFjayBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6cGFjawogICAgICAgIFxmcmFtZSBwb3M6Z3JpZD0wLDEgcG9zOnN0aWNreT0nbnNldycKICAgICAgICAgICAgIWVudW0gdG9kb3M6KGlkeCwgdG9kbykKICAgICAgICAgICAgICAgIFxsYWJlbCBib290c3R5bGU9eydpbmZvJyBpZiB0b2RvLmRvbmUgZWxzZSAnZGFuZ2VyJ30gdGV4dD17c3RyKGlkeCArIDEpICsgJykgJyArIHRvZG8uZGVzY30gcG9zOmdyaWQ9eygwLCBpZHgpfSBwb3M6eHdlaWdodD0xMCBwb3M6c3RpY2t5PSduc3dlJyBiaW5kOjE9e3RvZ2dsZXIodG9kby51dWlkKX0gYmluZDozPXtwb3B1cF9tZW51KHRvZG8udXVpZCl9CiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9e18oJ3BhZ2VzLnRvZG9zLm1hcmstZG9uZScpIGlmIG5vdCB0b2RvLmRvbmUgZWxzZSBfKCdwYWdlcy50b2Rvcy5tYXJrLXVuZG9uZScpfSBjb21tYW5kPXt0b2dnbGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMSwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PVtwYWdlcy50b2Rvcy5yZW1vdmVdIGNvbW1hbmQ9e3BvcHBlcih0b2RvLnV1aWQpfSBwb3M6Z3JpZD17KDIsIGlkeCl9IHBvczpzdGlja3k9J25zZScKICAgICIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1c2VyLCBlbnRyeSk6CiAgICAgICAgc2VsZi51c2VyID0gdXNlcgogICAgICAgIHNlbGYuZW50cnkgPSBlbnRyeQogICAgICAgIHN1cGVyKCkuX19pbml0X18oKQoKICAgIGRlZiBpbml0KHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKCiAgICBkZWYgdXBkYXRlX2VudHJ5KHNlbGYpOgogICAgICAgIHN0b3JlWyJlbnRyeSJdID0gc2VsZlsiZW50cnkiXQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICByb290LmRlc3Ryb3koKQoKICAgIGRlZiBhZGRfdG9kbyhzZWxmLCAqXyk6CiAgICAgICAgaWYgbm90IHNlbGZbImVudHJ5Il0uc3RyaXAoKToKICAgICAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbigKICAgICAgICAgICAgICAgICJFbXB0eSBmaWVsZCIsCiAgICAgICAgICAgICAgICAiUGxlYXNlLCBlbnRlciBhbiBpdGVtIiwKICAgICAgICAgICAgICAgIGR1cmF0aW9uPTEwMDAsCiAgICAgICAgICAgICAgICBib290c3R5bGU9Indhcm5pbmciLAogICAgICAgICAgICAgICAgc291cmNlPSJ0b2RvLWVtcHR5LW5vdGlmaWNhdGlvbiIsCiAgICAgICAgICAgICkuc2hvdygpCiAgICAgICAgc2VsZlsidXNlciJdLmNyZWF0ZV90b2RvKHNlbGZbImVudHJ5Il0pLnNhdmUoKQogICAgICAgIHNlbGZbImVudHJ5Il0gPSAiIgogICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICBkZWYgcG9wcGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBmdW5jKCpfKToKICAgICAgICAgICAgVG9kby5mcm9tX3V1aWQodXVpZCkuZGVsZXRlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiB0b2dnbGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBmdW5jKCpfKToKICAgICAgICAgICAgb2JqID0gVG9kby5mcm9tX3V1aWQodXVpZCkKICAgICAgICAgICAgb2JqLmRvbmUgPSBub3Qgb2JqLmRvbmUKICAgICAgICAgICAgb2JqLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHVwZGF0ZShzZWxmKToKICAgICAgICBzZWxmWyJ0b2RvcyJdID0gVG9kby5mb3JfdXNlcihzZWxmLnVzZXIpCiAgICAgICAgc3VwZXIoKS51cGRhdGUoKQoKICAgIGRlZiBwb3B1cF9tZW51KHNlbGYsIHV1aWQpOgogICAgICAgIG1lbnUgPSBNZW51KAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiQHRvZ2dsZSI6IHNlbGYudG9nZ2xlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAcmVtb3ZlIjogc2VsZi5wb3BwZXIodXVpZCksCiAgICAgICAgICAgICAgICAiQGVkaXQiOiBzZWxmLmVkaXRlcih1dWlkKSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJhbnNsYXRpb25zPSJwYWdlcy50b2Rvcy5tZW51IiwKICAgICAgICApCgogICAgICAgIGRlZiBmdW5jKGUpOgogICAgICAgICAgICBtZW51LnBvc3QoZS54X3Jvb3QsIGUueV9yb290KQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiBlZGl0ZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGVkaXQoKl8pOgogICAgICAgICAgICBmcm9tIGN1c3RvbXRraW50ZXIgaW1wb3J0IENUa0lucHV0RGlhbG9nCgogICAgICAgICAgICB2YWx1ZSA9IENUa0lucHV0RGlhbG9nKAogICAgICAgICAgICAgICAgdGV4dD0iRW50ZXIgdGhlIG5ldyB2YWx1ZSIsIHRpdGxlPSJUb2RvcyIKICAgICAgICAgICAgKS5nZXRfaW5wdXQoKQogICAgICAgICAgICB0b2RvID0gVG9kby5mcm9tX3V1aWQodXVpZCkKICAgICAgICAgICAgdG9kby5kZXNjID0gdmFsdWUKICAgICAgICAgICAgdG9kby5zYXZlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZWRpdAoKCkBjYWNoZQpkZWYgZGVmYXVsdChfc3RvcmUsIC8pOgogICAgZ2xvYmFsIHN0b3JlLCBTVE9SRSwgdXNlcgogICAgU1RPUkUgPSBfc3RvcmUKICAgIGlmIFVzZXIuaXNfbG9naW4oKToKICAgICAgICB1c2VyID0gVXNlci5jdXJyZW50KCkKICAgICAgICBzdG9yZSA9IFNUT1JFLmZvcl9wYWdlKF9fbmFtZV9fKS5wYXJ0aXRpb24oCiAgICAgICAgICAgIHVzZXIubmFtZSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImVudHJ5IjogXygicGFnZXMudG9kb3MucGxhY2Vob2xkZXIiKSwKICAgICAgICAgICAgfSwKICAgICAgICApCiAgICAgICAgcmV0dXJuIFRvZG9QYWdlKHVzZXI9dXNlciwgZW50cnk9c3RvcmVbImVudHJ5Il0pCiAgICBlbHNlOgogICAgICAgIHJhaXNlIFJlZGlyZWN0KCJzaWduQHNpZ25pbiIpCg",
					"AQAAAAAAAAABAAAARAIAAAAAAABEAgAAAAAAAAAAAAAAAPC/"
				],
				[
					154,
					1,
					"left_delete",
					null,
					"AQAAAFgCAAAAAAAAWAIAAAAAAAAaAAAAZ3JpZD0wLDEgcG9zOnN0aWNreT0nbnNldyc",
					"AQAAAAAAAAABAAAAcgIAAAAAAABYAgAAAAAAAAAAAAAAAPC/"
				],
				[
					155,
					1,
					"insert",
					{
						"characters": "pack"
					},
					"BAAAAFgCAAAAAAAAWQIAAAAAAAAAAAAAWQIAAAAAAABaAgAAAAAAAAAAAABaAgAAAAAAAFsCAAAAAAAAAAAAAFsCAAAAAAAAXAIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAWAIAAAAAAABYAgAAAAAAAAAAAAAAAPC/"
				],
				[
					158,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAdA0AAAAAAAB0DQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PSRlbnRyeSBwb3M6cGFjayBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6cGFjawogICAgICAgIFxmcmFtZSBwb3M6cGFjawogICAgICAgICAgICAhZW51bSB0b2RvczooaWR4LCB0b2RvKQogICAgICAgICAgICAgICAgXGxhYmVsIGJvb3RzdHlsZT17J2luZm8nIGlmIHRvZG8uZG9uZSBlbHNlICdkYW5nZXInfSB0ZXh0PXtzdHIoaWR4ICsgMSkgKyAnKSAnICsgdG9kby5kZXNjfSBwb3M6Z3JpZD17KDAsIGlkeCl9IHBvczp4d2VpZ2h0PTEwIHBvczpzdGlja3k9J25zd2UnIGJpbmQ6MT17dG9nZ2xlcih0b2RvLnV1aWQpfSBiaW5kOjM9e3BvcHVwX21lbnUodG9kby51dWlkKX0KICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD17XygncGFnZXMudG9kb3MubWFyay1kb25lJykgaWYgbm90IHRvZG8uZG9uZSBlbHNlIF8oJ3BhZ2VzLnRvZG9zLm1hcmstdW5kb25lJyl9IGNvbW1hbmQ9e3RvZ2dsZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygxLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9W3BhZ2VzLnRvZG9zLnJlbW92ZV0gY29tbWFuZD17cG9wcGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMiwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXIsIGVudHJ5KToKICAgICAgICBzZWxmLnVzZXIgPSB1c2VyCiAgICAgICAgc2VsZi5lbnRyeSA9IGVudHJ5CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQoKICAgIGRlZiB1cGRhdGVfZW50cnkoc2VsZik6CiAgICAgICAgc3RvcmVbImVudHJ5Il0gPSBzZWxmWyJlbnRyeSJdCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJvb3QuZGVzdHJveSgpCgogICAgZGVmIGFkZF90b2RvKHNlbGYsICpfKToKICAgICAgICBpZiBub3Qgc2VsZlsiZW50cnkiXS5zdHJpcCgpOgogICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgIkVtcHR5IGZpZWxkIiwKICAgICAgICAgICAgICAgICJQbGVhc2UsIGVudGVyIGFuIGl0ZW0iLAogICAgICAgICAgICAgICAgZHVyYXRpb249MTAwMCwKICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0id2FybmluZyIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InRvZG8tZW1wdHktbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAgKS5zaG93KCkKICAgICAgICBzZWxmWyJ1c2VyIl0uY3JlYXRlX3RvZG8oc2VsZlsiZW50cnkiXSkuc2F2ZSgpCiAgICAgICAgc2VsZlsiZW50cnkiXSA9ICIiCiAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgIGRlZiBwb3BwZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBUb2RvLmZyb21fdXVpZCh1dWlkKS5kZWxldGUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHRvZ2dsZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBvYmogPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICBvYmouZG9uZSA9IG5vdCBvYmouZG9uZQogICAgICAgICAgICBvYmouc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCgogICAgZGVmIHBvcHVwX21lbnUoc2VsZiwgdXVpZCk6CiAgICAgICAgbWVudSA9IE1lbnUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJAdG9nZ2xlIjogc2VsZi50b2dnbGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkByZW1vdmUiOiBzZWxmLnBvcHBlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAZWRpdCI6IHNlbGYuZWRpdGVyKHV1aWQpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2xhdGlvbnM9InBhZ2VzLnRvZG9zLm1lbnUiLAogICAgICAgICkKCiAgICAgICAgZGVmIGZ1bmMoZSk6CiAgICAgICAgICAgIG1lbnUucG9zdChlLnhfcm9vdCwgZS55X3Jvb3QpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGVkaXRlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZWRpdCgqXyk6CiAgICAgICAgICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrSW5wdXREaWFsb2cKCiAgICAgICAgICAgIHZhbHVlID0gQ1RrSW5wdXREaWFsb2coCiAgICAgICAgICAgICAgICB0ZXh0PSJFbnRlciB0aGUgbmV3IHZhbHVlIiwgdGl0bGU9IlRvZG9zIgogICAgICAgICAgICApLmdldF9pbnB1dCgpCiAgICAgICAgICAgIHRvZG8gPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICB0b2RvLmRlc2MgPSB2YWx1ZQogICAgICAgICAgICB0b2RvLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBlZGl0CgoKQGNhY2hlCmRlZiBkZWZhdWx0KF9zdG9yZSwgLyk6CiAgICBnbG9iYWwgc3RvcmUsIFNUT1JFLCB1c2VyCiAgICBTVE9SRSA9IF9zdG9yZQogICAgaWYgVXNlci5pc19sb2dpbigpOgogICAgICAgIHVzZXIgPSBVc2VyLmN1cnJlbnQoKQogICAgICAgIHN0b3JlID0gU1RPUkUuZm9yX3BhZ2UoX19uYW1lX18pLnBhcnRpdGlvbigKICAgICAgICAgICAgdXNlci5uYW1lLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiZW50cnkiOiBfKCJwYWdlcy50b2Rvcy5wbGFjZWhvbGRlciIpLAogICAgICAgICAgICB9LAogICAgICAgICkKICAgICAgICByZXR1cm4gVG9kb1BhZ2UodXNlcj11c2VyLCBlbnRyeT1zdG9yZVsiZW50cnkiXSkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgUmVkaXJlY3QoInNpZ25Ac2lnbmluIikK",
					"AQAAAAAAAAABAAAAXAIAAAAAAABcAgAAAAAAAAAAAAAAAPC/"
				],
				[
					169,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAdA0AAAAAAAB0DQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PSRlbnRyeSBwb3M6cGFjayBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6cGFjawogICAgICAgIFxmcmFtZSBwb3M6cGFjawogICAgICAgICAgICAhZW51bSB0b2RvczooaWR4LCB0b2RvKQogICAgICAgICAgICAgICAgXGxhYmVsIGJvb3RzdHlsZT17J2luZm8nIGlmIHRvZG8uZG9uZSBlbHNlICdkYW5nZXInfSB0ZXh0PXtzdHIoaWR4ICsgMSkgKyAnKSAnICsgdG9kby5kZXNjfSBwb3M6Z3JpZD17KDAsIGlkeCl9IHBvczp4d2VpZ2h0PTEwIHBvczpzdGlja3k9J25zd2UnIGJpbmQ6MT17dG9nZ2xlcih0b2RvLnV1aWQpfSBiaW5kOjM9e3BvcHVwX21lbnUodG9kby51dWlkKX0KICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD17XygncGFnZXMudG9kb3MubWFyay1kb25lJykgaWYgbm90IHRvZG8uZG9uZSBlbHNlIF8oJ3BhZ2VzLnRvZG9zLm1hcmstdW5kb25lJyl9IGNvbW1hbmQ9e3RvZ2dsZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygxLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9W3BhZ2VzLnRvZG9zLnJlbW92ZV0gY29tbWFuZD17cG9wcGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMiwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXIsIGVudHJ5KToKICAgICAgICBzZWxmLnVzZXIgPSB1c2VyCiAgICAgICAgc2VsZi5lbnRyeSA9IGVudHJ5CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQoKICAgIGRlZiB1cGRhdGVfZW50cnkoc2VsZik6CiAgICAgICAgc3RvcmVbImVudHJ5Il0gPSBzZWxmWyJlbnRyeSJdCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJvb3QuZGVzdHJveSgpCgogICAgZGVmIGFkZF90b2RvKHNlbGYsICpfKToKICAgICAgICBpZiBub3Qgc2VsZlsiZW50cnkiXS5zdHJpcCgpOgogICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgIkVtcHR5IGZpZWxkIiwKICAgICAgICAgICAgICAgICJQbGVhc2UsIGVudGVyIGFuIGl0ZW0iLAogICAgICAgICAgICAgICAgZHVyYXRpb249MTAwMCwKICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0id2FybmluZyIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InRvZG8tZW1wdHktbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAgKS5zaG93KCkKICAgICAgICBzZWxmWyJ1c2VyIl0uY3JlYXRlX3RvZG8oc2VsZlsiZW50cnkiXSkuc2F2ZSgpCiAgICAgICAgc2VsZlsiZW50cnkiXSA9ICIiCiAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgIGRlZiBwb3BwZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBUb2RvLmZyb21fdXVpZCh1dWlkKS5kZWxldGUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHRvZ2dsZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBvYmogPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICBvYmouZG9uZSA9IG5vdCBvYmouZG9uZQogICAgICAgICAgICBvYmouc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCgogICAgZGVmIHBvcHVwX21lbnUoc2VsZiwgdXVpZCk6CiAgICAgICAgbWVudSA9IE1lbnUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJAdG9nZ2xlIjogc2VsZi50b2dnbGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkByZW1vdmUiOiBzZWxmLnBvcHBlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAZWRpdCI6IHNlbGYuZWRpdGVyKHV1aWQpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2xhdGlvbnM9InBhZ2VzLnRvZG9zLm1lbnUiLAogICAgICAgICkKCiAgICAgICAgZGVmIGZ1bmMoZSk6CiAgICAgICAgICAgIG1lbnUucG9zdChlLnhfcm9vdCwgZS55X3Jvb3QpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGVkaXRlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZWRpdCgqXyk6CiAgICAgICAgICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrSW5wdXREaWFsb2cKCiAgICAgICAgICAgIHZhbHVlID0gQ1RrSW5wdXREaWFsb2coCiAgICAgICAgICAgICAgICB0ZXh0PSJFbnRlciB0aGUgbmV3IHZhbHVlIiwgdGl0bGU9IlRvZG9zIgogICAgICAgICAgICApLmdldF9pbnB1dCgpCiAgICAgICAgICAgIHRvZG8gPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICB0b2RvLmRlc2MgPSB2YWx1ZQogICAgICAgICAgICB0b2RvLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBlZGl0CgoKQGNhY2hlCmRlZiBkZWZhdWx0KF9zdG9yZSwgLyk6CiAgICBnbG9iYWwgc3RvcmUsIFNUT1JFLCB1c2VyCiAgICBTVE9SRSA9IF9zdG9yZQogICAgaWYgVXNlci5pc19sb2dpbigpOgogICAgICAgIHVzZXIgPSBVc2VyLmN1cnJlbnQoKQogICAgICAgIHN0b3JlID0gU1RPUkUuZm9yX3BhZ2UoX19uYW1lX18pLnBhcnRpdGlvbigKICAgICAgICAgICAgdXNlci5uYW1lLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiZW50cnkiOiBfKCJwYWdlcy50b2Rvcy5wbGFjZWhvbGRlciIpLAogICAgICAgICAgICB9LAogICAgICAgICkKICAgICAgICByZXR1cm4gVG9kb1BhZ2UodXNlcj11c2VyLCBlbnRyeT1zdG9yZVsiZW50cnkiXSkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgUmVkaXJlY3QoInNpZ25Ac2lnbmluIikK",
					"AQAAAAAAAAABAAAAXQIAAAAAAAB/BAAAAAAAAAAAAAAAAPC/"
				],
				[
					184,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAdA0AAAAAAAB0DQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PSRlbnRyeSBwb3M6cGFjayBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6cGFjawogICAgICAgIFxmcmFtZSBwb3M6cGFjawogICAgICAgICAgICAhZW51bSB0b2RvczooaWR4LCB0b2RvKQogICAgICAgICAgICAgICAgXGxhYmVsIGJvb3RzdHlsZT17J2luZm8nIGlmIHRvZG8uZG9uZSBlbHNlICdkYW5nZXInfSB0ZXh0PXtzdHIoaWR4ICsgMSkgKyAnKSAnICsgdG9kby5kZXNjfSBwb3M6Z3JpZD17KDAsIGlkeCl9IHBvczp4d2VpZ2h0PTEwIHBvczpzdGlja3k9J25zd2UnIGJpbmQ6MT17dG9nZ2xlcih0b2RvLnV1aWQpfSBiaW5kOjM9e3BvcHVwX21lbnUodG9kby51dWlkKX0KICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD17XygncGFnZXMudG9kb3MubWFyay1kb25lJykgaWYgbm90IHRvZG8uZG9uZSBlbHNlIF8oJ3BhZ2VzLnRvZG9zLm1hcmstdW5kb25lJyl9IGNvbW1hbmQ9e3RvZ2dsZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygxLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9W3BhZ2VzLnRvZG9zLnJlbW92ZV0gY29tbWFuZD17cG9wcGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMiwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXIsIGVudHJ5KToKICAgICAgICBzZWxmLnVzZXIgPSB1c2VyCiAgICAgICAgc2VsZi5lbnRyeSA9IGVudHJ5CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQoKICAgIGRlZiB1cGRhdGVfZW50cnkoc2VsZik6CiAgICAgICAgc3RvcmVbImVudHJ5Il0gPSBzZWxmWyJlbnRyeSJdCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJvb3QuZGVzdHJveSgpCgogICAgZGVmIGFkZF90b2RvKHNlbGYsICpfKToKICAgICAgICBpZiBub3Qgc2VsZlsiZW50cnkiXS5zdHJpcCgpOgogICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgIkVtcHR5IGZpZWxkIiwKICAgICAgICAgICAgICAgICJQbGVhc2UsIGVudGVyIGFuIGl0ZW0iLAogICAgICAgICAgICAgICAgZHVyYXRpb249MTAwMCwKICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0id2FybmluZyIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InRvZG8tZW1wdHktbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAgKS5zaG93KCkKICAgICAgICBzZWxmWyJ1c2VyIl0uY3JlYXRlX3RvZG8oc2VsZlsiZW50cnkiXSkuc2F2ZSgpCiAgICAgICAgc2VsZlsiZW50cnkiXSA9ICIiCiAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgIGRlZiBwb3BwZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBUb2RvLmZyb21fdXVpZCh1dWlkKS5kZWxldGUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHRvZ2dsZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBvYmogPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICBvYmouZG9uZSA9IG5vdCBvYmouZG9uZQogICAgICAgICAgICBvYmouc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCgogICAgZGVmIHBvcHVwX21lbnUoc2VsZiwgdXVpZCk6CiAgICAgICAgbWVudSA9IE1lbnUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJAdG9nZ2xlIjogc2VsZi50b2dnbGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkByZW1vdmUiOiBzZWxmLnBvcHBlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAZWRpdCI6IHNlbGYuZWRpdGVyKHV1aWQpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2xhdGlvbnM9InBhZ2VzLnRvZG9zLm1lbnUiLAogICAgICAgICkKCiAgICAgICAgZGVmIGZ1bmMoZSk6CiAgICAgICAgICAgIG1lbnUucG9zdChlLnhfcm9vdCwgZS55X3Jvb3QpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGVkaXRlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZWRpdCgqXyk6CiAgICAgICAgICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrSW5wdXREaWFsb2cKCiAgICAgICAgICAgIHZhbHVlID0gQ1RrSW5wdXREaWFsb2coCiAgICAgICAgICAgICAgICB0ZXh0PSJFbnRlciB0aGUgbmV3IHZhbHVlIiwgdGl0bGU9IlRvZG9zIgogICAgICAgICAgICApLmdldF9pbnB1dCgpCiAgICAgICAgICAgIHRvZG8gPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICB0b2RvLmRlc2MgPSB2YWx1ZQogICAgICAgICAgICB0b2RvLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBlZGl0CgoKQGNhY2hlCmRlZiBkZWZhdWx0KF9zdG9yZSwgLyk6CiAgICBnbG9iYWwgc3RvcmUsIFNUT1JFLCB1c2VyCiAgICBTVE9SRSA9IF9zdG9yZQogICAgaWYgVXNlci5pc19sb2dpbigpOgogICAgICAgIHVzZXIgPSBVc2VyLmN1cnJlbnQoKQogICAgICAgIHN0b3JlID0gU1RPUkUuZm9yX3BhZ2UoX19uYW1lX18pLnBhcnRpdGlvbigKICAgICAgICAgICAgdXNlci5uYW1lLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiZW50cnkiOiBfKCJwYWdlcy50b2Rvcy5wbGFjZWhvbGRlciIpLAogICAgICAgICAgICB9LAogICAgICAgICkKICAgICAgICByZXR1cm4gVG9kb1BhZ2UodXNlcj11c2VyLCBlbnRyeT1zdG9yZVsiZW50cnkiXSkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgUmVkaXJlY3QoInNpZ25Ac2lnbmluIikK",
					"AQAAAAAAAAABAAAAmwEAAAAAAAB/BAAAAAAAAAAAAAAAAPC/"
				],
				[
					197,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAdA0AAAAAAAB0DQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PSRlbnRyeSBwb3M6cGFjayBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6cGFjawogICAgICAgIFxmcmFtZSBwb3M6cGFjawogICAgICAgICAgICAhZW51bSB0b2RvczooaWR4LCB0b2RvKQogICAgICAgICAgICAgICAgXGxhYmVsIGJvb3RzdHlsZT17J2luZm8nIGlmIHRvZG8uZG9uZSBlbHNlICdkYW5nZXInfSB0ZXh0PXtzdHIoaWR4ICsgMSkgKyAnKSAnICsgdG9kby5kZXNjfSBwb3M6Z3JpZD17KDAsIGlkeCl9IHBvczp4d2VpZ2h0PTEwIHBvczpzdGlja3k9J25zd2UnIGJpbmQ6MT17dG9nZ2xlcih0b2RvLnV1aWQpfSBiaW5kOjM9e3BvcHVwX21lbnUodG9kby51dWlkKX0KICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD17XygncGFnZXMudG9kb3MubWFyay1kb25lJykgaWYgbm90IHRvZG8uZG9uZSBlbHNlIF8oJ3BhZ2VzLnRvZG9zLm1hcmstdW5kb25lJyl9IGNvbW1hbmQ9e3RvZ2dsZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygxLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9W3BhZ2VzLnRvZG9zLnJlbW92ZV0gY29tbWFuZD17cG9wcGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMiwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXIsIGVudHJ5KToKICAgICAgICBzZWxmLnVzZXIgPSB1c2VyCiAgICAgICAgc2VsZi5lbnRyeSA9IGVudHJ5CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQoKICAgIGRlZiB1cGRhdGVfZW50cnkoc2VsZik6CiAgICAgICAgc3RvcmVbImVudHJ5Il0gPSBzZWxmWyJlbnRyeSJdCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJvb3QuZGVzdHJveSgpCgogICAgZGVmIGFkZF90b2RvKHNlbGYsICpfKToKICAgICAgICBpZiBub3Qgc2VsZlsiZW50cnkiXS5zdHJpcCgpOgogICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgIkVtcHR5IGZpZWxkIiwKICAgICAgICAgICAgICAgICJQbGVhc2UsIGVudGVyIGFuIGl0ZW0iLAogICAgICAgICAgICAgICAgZHVyYXRpb249MTAwMCwKICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0id2FybmluZyIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InRvZG8tZW1wdHktbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAgKS5zaG93KCkKICAgICAgICBzZWxmWyJ1c2VyIl0uY3JlYXRlX3RvZG8oc2VsZlsiZW50cnkiXSkuc2F2ZSgpCiAgICAgICAgc2VsZlsiZW50cnkiXSA9ICIiCiAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgIGRlZiBwb3BwZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBUb2RvLmZyb21fdXVpZCh1dWlkKS5kZWxldGUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHRvZ2dsZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBvYmogPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICBvYmouZG9uZSA9IG5vdCBvYmouZG9uZQogICAgICAgICAgICBvYmouc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCgogICAgZGVmIHBvcHVwX21lbnUoc2VsZiwgdXVpZCk6CiAgICAgICAgbWVudSA9IE1lbnUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJAdG9nZ2xlIjogc2VsZi50b2dnbGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkByZW1vdmUiOiBzZWxmLnBvcHBlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAZWRpdCI6IHNlbGYuZWRpdGVyKHV1aWQpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2xhdGlvbnM9InBhZ2VzLnRvZG9zLm1lbnUiLAogICAgICAgICkKCiAgICAgICAgZGVmIGZ1bmMoZSk6CiAgICAgICAgICAgIG1lbnUucG9zdChlLnhfcm9vdCwgZS55X3Jvb3QpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGVkaXRlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZWRpdCgqXyk6CiAgICAgICAgICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrSW5wdXREaWFsb2cKCiAgICAgICAgICAgIHZhbHVlID0gQ1RrSW5wdXREaWFsb2coCiAgICAgICAgICAgICAgICB0ZXh0PSJFbnRlciB0aGUgbmV3IHZhbHVlIiwgdGl0bGU9IlRvZG9zIgogICAgICAgICAgICApLmdldF9pbnB1dCgpCiAgICAgICAgICAgIHRvZG8gPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICB0b2RvLmRlc2MgPSB2YWx1ZQogICAgICAgICAgICB0b2RvLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBlZGl0CgoKQGNhY2hlCmRlZiBkZWZhdWx0KF9zdG9yZSwgLyk6CiAgICBnbG9iYWwgc3RvcmUsIFNUT1JFLCB1c2VyCiAgICBTVE9SRSA9IF9zdG9yZQogICAgaWYgVXNlci5pc19sb2dpbigpOgogICAgICAgIHVzZXIgPSBVc2VyLmN1cnJlbnQoKQogICAgICAgIHN0b3JlID0gU1RPUkUuZm9yX3BhZ2UoX19uYW1lX18pLnBhcnRpdGlvbigKICAgICAgICAgICAgdXNlci5uYW1lLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiZW50cnkiOiBfKCJwYWdlcy50b2Rvcy5wbGFjZWhvbGRlciIpLAogICAgICAgICAgICB9LAogICAgICAgICkKICAgICAgICByZXR1cm4gVG9kb1BhZ2UodXNlcj11c2VyLCBlbnRyeT1zdG9yZVsiZW50cnkiXSkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgUmVkaXJlY3QoInNpZ25Ac2lnbmluIikK",
					"AQAAAAAAAAABAAAARQIAAAAAAAB/BAAAAAAAAAAAAAAAAPC/"
				],
				[
					202,
					1,
					"left_delete",
					null,
					"AQAAAPkBAAAAAAAA+QEAAAAAAAABAAAALQ",
					"AQAAAAAAAAABAAAA+gEAAAAAAAD6AQAAAAAAAAAAAAAAAPC/"
				],
				[
					205,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAcw0AAAAAAABzDQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PSRlbnRyeSBwb3M6cGFjayBiaW5kOktleVJldHVybj17YWRkX3RvZG99CiAgICAgICAgICAgIFxidXR0b24gdGV4dD0nKycgY29tbWFuZD17YWRkX3RvZG99IHBvczpwYWNrCiAgICAgICAgXGZyYW1lIHBvczpwYWNrCiAgICAgICAgICAgICFlbnVtIHRvZG9zOihpZHgsIHRvZG8pCiAgICAgICAgICAgICAgICBcbGFiZWwgYm9vdHN0eWxlPXsnaW5mbycgaWYgdG9kby5kb25lIGVsc2UgJ2Rhbmdlcid9IHRleHQ9e3N0cihpZHggKyAxKSArICcpICcgKyB0b2RvLmRlc2N9IHBvczpncmlkPXsoMCwgaWR4KX0gcG9zOnh3ZWlnaHQ9MTAgcG9zOnN0aWNreT0nbnN3ZScgYmluZDoxPXt0b2dnbGVyKHRvZG8udXVpZCl9IGJpbmQ6Mz17cG9wdXBfbWVudSh0b2RvLnV1aWQpfQogICAgICAgICAgICAgICAgXGJ1dHRvbiB0ZXh0PXtfKCdwYWdlcy50b2Rvcy5tYXJrLWRvbmUnKSBpZiBub3QgdG9kby5kb25lIGVsc2UgXygncGFnZXMudG9kb3MubWFyay11bmRvbmUnKX0gY29tbWFuZD17dG9nZ2xlcih0b2RvLnV1aWQpfSBwb3M6Z3JpZD17KDEsIGlkeCl9IHBvczpzdGlja3k9J25zZScKICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD1bcGFnZXMudG9kb3MucmVtb3ZlXSBjb21tYW5kPXtwb3BwZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygyLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlciwgZW50cnkpOgogICAgICAgIHNlbGYudXNlciA9IHVzZXIKICAgICAgICBzZWxmLmVudHJ5ID0gZW50cnkKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICBkZWYgaW5pdChzZWxmKToKICAgICAgICBzZWxmWyJ0b2RvcyJdID0gVG9kby5mb3JfdXNlcihzZWxmLnVzZXIpCgogICAgZGVmIHVwZGF0ZV9lbnRyeShzZWxmKToKICAgICAgICBzdG9yZVsiZW50cnkiXSA9IHNlbGZbImVudHJ5Il0KCiAgICBkZWYgY2xvc2Uoc2VsZik6CiAgICAgICAgcm9vdC5kZXN0cm95KCkKCiAgICBkZWYgYWRkX3RvZG8oc2VsZiwgKl8pOgogICAgICAgIGlmIG5vdCBzZWxmWyJlbnRyeSJdLnN0cmlwKCk6CiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb24oCiAgICAgICAgICAgICAgICAiRW1wdHkgZmllbGQiLAogICAgICAgICAgICAgICAgIlBsZWFzZSwgZW50ZXIgYW4gaXRlbSIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbj0xMDAwLAogICAgICAgICAgICAgICAgYm9vdHN0eWxlPSJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNvdXJjZT0idG9kby1lbXB0eS1ub3RpZmljYXRpb24iLAogICAgICAgICAgICApLnNob3coKQogICAgICAgIHNlbGZbInVzZXIiXS5jcmVhdGVfdG9kbyhzZWxmWyJlbnRyeSJdKS5zYXZlKCkKICAgICAgICBzZWxmWyJlbnRyeSJdID0gIiIKICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgZGVmIHBvcHBlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIFRvZG8uZnJvbV91dWlkKHV1aWQpLmRlbGV0ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdG9nZ2xlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIG9iaiA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIG9iai5kb25lID0gbm90IG9iai5kb25lCiAgICAgICAgICAgIG9iai5zYXZlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQogICAgICAgIHN1cGVyKCkudXBkYXRlKCkKCiAgICBkZWYgcG9wdXBfbWVudShzZWxmLCB1dWlkKToKICAgICAgICBtZW51ID0gTWVudSgKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIkB0b2dnbGUiOiBzZWxmLnRvZ2dsZXIodXVpZCksCiAgICAgICAgICAgICAgICAiQHJlbW92ZSI6IHNlbGYucG9wcGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkBlZGl0Ijogc2VsZi5lZGl0ZXIodXVpZCksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRyYW5zbGF0aW9ucz0icGFnZXMudG9kb3MubWVudSIsCiAgICAgICAgKQoKICAgICAgICBkZWYgZnVuYyhlKToKICAgICAgICAgICAgbWVudS5wb3N0KGUueF9yb290LCBlLnlfcm9vdCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgZWRpdGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBlZGl0KCpfKToKICAgICAgICAgICAgZnJvbSBjdXN0b210a2ludGVyIGltcG9ydCBDVGtJbnB1dERpYWxvZwoKICAgICAgICAgICAgdmFsdWUgPSBDVGtJbnB1dERpYWxvZygKICAgICAgICAgICAgICAgIHRleHQ9IkVudGVyIHRoZSBuZXcgdmFsdWUiLCB0aXRsZT0iVG9kb3MiCiAgICAgICAgICAgICkuZ2V0X2lucHV0KCkKICAgICAgICAgICAgdG9kbyA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIHRvZG8uZGVzYyA9IHZhbHVlCiAgICAgICAgICAgIHRvZG8uc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGVkaXQKCgpAY2FjaGUKZGVmIGRlZmF1bHQoX3N0b3JlLCAvKToKICAgIGdsb2JhbCBzdG9yZSwgU1RPUkUsIHVzZXIKICAgIFNUT1JFID0gX3N0b3JlCiAgICBpZiBVc2VyLmlzX2xvZ2luKCk6CiAgICAgICAgdXNlciA9IFVzZXIuY3VycmVudCgpCiAgICAgICAgc3RvcmUgPSBTVE9SRS5mb3JfcGFnZShfX25hbWVfXykucGFydGl0aW9uKAogICAgICAgICAgICB1c2VyLm5hbWUsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJlbnRyeSI6IF8oInBhZ2VzLnRvZG9zLnBsYWNlaG9sZGVyIiksCiAgICAgICAgICAgIH0sCiAgICAgICAgKQogICAgICAgIHJldHVybiBUb2RvUGFnZSh1c2VyPXVzZXIsIGVudHJ5PXN0b3JlWyJlbnRyeSJdKQogICAgZWxzZToKICAgICAgICByYWlzZSBSZWRpcmVjdCgic2lnbkBzaWduaW4iKQo",
					"AQAAAAAAAAABAAAA+QEAAAAAAAD5AQAAAAAAAAAAAAAAAPC/"
				],
				[
					206,
					1,
					"insert",
					{
						"characters": "-"
					},
					"AQAAAPkBAAAAAAAA+gEAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+QEAAAAAAAD5AQAAAAAAAAAAAAAAAPC/"
				],
				[
					209,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAdA0AAAAAAAB0DQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PSRlbnRyeSBwb3M6cGFjayBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6cGFjawogICAgICAgIFxmcmFtZSBwb3M6cGFjawogICAgICAgICAgICAhZW51bSB0b2RvczooaWR4LCB0b2RvKQogICAgICAgICAgICAgICAgXGxhYmVsIGJvb3RzdHlsZT17J2luZm8nIGlmIHRvZG8uZG9uZSBlbHNlICdkYW5nZXInfSB0ZXh0PXtzdHIoaWR4ICsgMSkgKyAnKSAnICsgdG9kby5kZXNjfSBwb3M6Z3JpZD17KDAsIGlkeCl9IHBvczp4d2VpZ2h0PTEwIHBvczpzdGlja3k9J25zd2UnIGJpbmQ6MT17dG9nZ2xlcih0b2RvLnV1aWQpfSBiaW5kOjM9e3BvcHVwX21lbnUodG9kby51dWlkKX0KICAgICAgICAgICAgICAgIFxidXR0b24gdGV4dD17XygncGFnZXMudG9kb3MubWFyay1kb25lJykgaWYgbm90IHRvZG8uZG9uZSBlbHNlIF8oJ3BhZ2VzLnRvZG9zLm1hcmstdW5kb25lJyl9IGNvbW1hbmQ9e3RvZ2dsZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygxLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgICAgICAgICBcYnV0dG9uIHRleHQ9W3BhZ2VzLnRvZG9zLnJlbW92ZV0gY29tbWFuZD17cG9wcGVyKHRvZG8udXVpZCl9IHBvczpncmlkPXsoMiwgaWR4KX0gcG9zOnN0aWNreT0nbnNlJwogICAgIiIiCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVzZXIsIGVudHJ5KToKICAgICAgICBzZWxmLnVzZXIgPSB1c2VyCiAgICAgICAgc2VsZi5lbnRyeSA9IGVudHJ5CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCgogICAgZGVmIGluaXQoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQoKICAgIGRlZiB1cGRhdGVfZW50cnkoc2VsZik6CiAgICAgICAgc3RvcmVbImVudHJ5Il0gPSBzZWxmWyJlbnRyeSJdCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJvb3QuZGVzdHJveSgpCgogICAgZGVmIGFkZF90b2RvKHNlbGYsICpfKToKICAgICAgICBpZiBub3Qgc2VsZlsiZW50cnkiXS5zdHJpcCgpOgogICAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uKAogICAgICAgICAgICAgICAgIkVtcHR5IGZpZWxkIiwKICAgICAgICAgICAgICAgICJQbGVhc2UsIGVudGVyIGFuIGl0ZW0iLAogICAgICAgICAgICAgICAgZHVyYXRpb249MTAwMCwKICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0id2FybmluZyIsCiAgICAgICAgICAgICAgICBzb3VyY2U9InRvZG8tZW1wdHktbm90aWZpY2F0aW9uIiwKICAgICAgICAgICAgKS5zaG93KCkKICAgICAgICBzZWxmWyJ1c2VyIl0uY3JlYXRlX3RvZG8oc2VsZlsiZW50cnkiXSkuc2F2ZSgpCiAgICAgICAgc2VsZlsiZW50cnkiXSA9ICIiCiAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgIGRlZiBwb3BwZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBUb2RvLmZyb21fdXVpZCh1dWlkKS5kZWxldGUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHRvZ2dsZXIoc2VsZiwgdXVpZCk6CiAgICAgICAgZGVmIGZ1bmMoKl8pOgogICAgICAgICAgICBvYmogPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICBvYmouZG9uZSA9IG5vdCBvYmouZG9uZQogICAgICAgICAgICBvYmouc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdXBkYXRlKHNlbGYpOgogICAgICAgIHNlbGZbInRvZG9zIl0gPSBUb2RvLmZvcl91c2VyKHNlbGYudXNlcikKICAgICAgICBzdXBlcigpLnVwZGF0ZSgpCgogICAgZGVmIHBvcHVwX21lbnUoc2VsZiwgdXVpZCk6CiAgICAgICAgbWVudSA9IE1lbnUoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJAdG9nZ2xlIjogc2VsZi50b2dnbGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkByZW1vdmUiOiBzZWxmLnBvcHBlcih1dWlkKSwKICAgICAgICAgICAgICAgICJAZWRpdCI6IHNlbGYuZWRpdGVyKHV1aWQpLAogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2xhdGlvbnM9InBhZ2VzLnRvZG9zLm1lbnUiLAogICAgICAgICkKCiAgICAgICAgZGVmIGZ1bmMoZSk6CiAgICAgICAgICAgIG1lbnUucG9zdChlLnhfcm9vdCwgZS55X3Jvb3QpCgogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIGVkaXRlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZWRpdCgqXyk6CiAgICAgICAgICAgIGZyb20gY3VzdG9tdGtpbnRlciBpbXBvcnQgQ1RrSW5wdXREaWFsb2cKCiAgICAgICAgICAgIHZhbHVlID0gQ1RrSW5wdXREaWFsb2coCiAgICAgICAgICAgICAgICB0ZXh0PSJFbnRlciB0aGUgbmV3IHZhbHVlIiwgdGl0bGU9IlRvZG9zIgogICAgICAgICAgICApLmdldF9pbnB1dCgpCiAgICAgICAgICAgIHRvZG8gPSBUb2RvLmZyb21fdXVpZCh1dWlkKQogICAgICAgICAgICB0b2RvLmRlc2MgPSB2YWx1ZQogICAgICAgICAgICB0b2RvLnNhdmUoKQogICAgICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgICAgIHJldHVybiBlZGl0CgoKQGNhY2hlCmRlZiBkZWZhdWx0KF9zdG9yZSwgLyk6CiAgICBnbG9iYWwgc3RvcmUsIFNUT1JFLCB1c2VyCiAgICBTVE9SRSA9IF9zdG9yZQogICAgaWYgVXNlci5pc19sb2dpbigpOgogICAgICAgIHVzZXIgPSBVc2VyLmN1cnJlbnQoKQogICAgICAgIHN0b3JlID0gU1RPUkUuZm9yX3BhZ2UoX19uYW1lX18pLnBhcnRpdGlvbigKICAgICAgICAgICAgdXNlci5uYW1lLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiZW50cnkiOiBfKCJwYWdlcy50b2Rvcy5wbGFjZWhvbGRlciIpLAogICAgICAgICAgICB9LAogICAgICAgICkKICAgICAgICByZXR1cm4gVG9kb1BhZ2UodXNlcj11c2VyLCBlbnRyeT1zdG9yZVsiZW50cnkiXSkKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgUmVkaXJlY3QoInNpZ25Ac2lnbmluIikK",
					"AQAAAAAAAAABAAAA+gEAAAAAAAD6AQAAAAAAAAAAAAAAAPC/"
				],
				[
					214,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AQAAAGkCAAAAAAAAawIAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcgIAAAAAAAByAgAAAAAAAAAAAAAAAPC/"
				],
				[
					217,
					1,
					"toggle_comment",
					{
						"block": false
					},
					"AwAAAB4EAAAAAAAAIAQAAAAAAAAAAAAAbwMAAAAAAABxAwAAAAAAAAAAAACTAgAAAAAAAJUCAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmgIAAAAAAAAlBAAAAAAAAAAAAAAAQGFA"
				],
				[
					220,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAfA0AAAAAAAB8DQAAZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBjYWNoZQoKZnJvbSB0YWt0ay5jb21wb25lbnQgaW1wb3J0IENvbXBvbmVudApmcm9tIHRha3RrLm1lbnUgaW1wb3J0IE1lbnUKZnJvbSB0YWt0ay5ub3RpZmljYXRpb24gaW1wb3J0IE5vdGlmaWNhdGlvbgpmcm9tIHRha3RrLnBhZ2UgaW1wb3J0IFJlZGlyZWN0CmZyb20gdGFrdGsud3JpdGVhYmxlIGltcG9ydCBTdWJzY3JpYmVyCgpmcm9tIC4uYWRtaW4gaW1wb3J0IFRvZG8gYXMgVG9kbwpmcm9tIC4uYWRtaW4gaW1wb3J0IFVzZXIKCnN0b3JlID0gU1RPUkUgPSBOb25lCnN1YnNjcmliZXIgPSBTdWJzY3JpYmVyKCkKCgpjbGFzcyBUb2RvUGFnZShDb21wb25lbnQpOgogICAgciIiIgogICAgXGZyYW1lIHBhZGRpbmc9MjAKICAgICAgICBcZnJhbWUgcG9zOnBhY2sKICAgICAgICAgICAgXGVudHJ5IHdpZHRoPTgwIHBvczpncmlkPTAsMCB0ZXh0PSRlbnRyeSBwb3M6cGFjayBiaW5kOktleS1SZXR1cm49e2FkZF90b2RvfQogICAgICAgICAgICBcYnV0dG9uIHRleHQ9JysnIGNvbW1hbmQ9e2FkZF90b2RvfSBwb3M6cGFjawogICAgICAgIFxmcmFtZSBwb3M6cGFjawogICAgICAgICAgICAjICFlbnVtIHRvZG9zOihpZHgsIHRvZG8pCiAgICAgICAgICAgICAgICAjIFxsYWJlbCBib290c3R5bGU9eydpbmZvJyBpZiB0b2RvLmRvbmUgZWxzZSAnZGFuZ2VyJ30gdGV4dD17c3RyKGlkeCArIDEpICsgJykgJyArIHRvZG8uZGVzY30gcG9zOmdyaWQ9eygwLCBpZHgpfSBwb3M6eHdlaWdodD0xMCBwb3M6c3RpY2t5PSduc3dlJyBiaW5kOjE9e3RvZ2dsZXIodG9kby51dWlkKX0gYmluZDozPXtwb3B1cF9tZW51KHRvZG8udXVpZCl9CiAgICAgICAgICAgICAgICAjIFxidXR0b24gdGV4dD17XygncGFnZXMudG9kb3MubWFyay1kb25lJykgaWYgbm90IHRvZG8uZG9uZSBlbHNlIF8oJ3BhZ2VzLnRvZG9zLm1hcmstdW5kb25lJyl9IGNvbW1hbmQ9e3RvZ2dsZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygxLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAgICAgICAgICAgICAjIFxidXR0b24gdGV4dD1bcGFnZXMudG9kb3MucmVtb3ZlXSBjb21tYW5kPXtwb3BwZXIodG9kby51dWlkKX0gcG9zOmdyaWQ9eygyLCBpZHgpfSBwb3M6c3RpY2t5PSduc2UnCiAgICAiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgdXNlciwgZW50cnkpOgogICAgICAgIHNlbGYudXNlciA9IHVzZXIKICAgICAgICBzZWxmLmVudHJ5ID0gZW50cnkKICAgICAgICBzdXBlcigpLl9faW5pdF9fKCkKCiAgICBkZWYgaW5pdChzZWxmKToKICAgICAgICBzZWxmWyJ0b2RvcyJdID0gVG9kby5mb3JfdXNlcihzZWxmLnVzZXIpCgogICAgZGVmIHVwZGF0ZV9lbnRyeShzZWxmKToKICAgICAgICBzdG9yZVsiZW50cnkiXSA9IHNlbGZbImVudHJ5Il0KCiAgICBkZWYgY2xvc2Uoc2VsZik6CiAgICAgICAgcm9vdC5kZXN0cm95KCkKCiAgICBkZWYgYWRkX3RvZG8oc2VsZiwgKl8pOgogICAgICAgIGlmIG5vdCBzZWxmWyJlbnRyeSJdLnN0cmlwKCk6CiAgICAgICAgICAgIHJldHVybiBOb3RpZmljYXRpb24oCiAgICAgICAgICAgICAgICAiRW1wdHkgZmllbGQiLAogICAgICAgICAgICAgICAgIlBsZWFzZSwgZW50ZXIgYW4gaXRlbSIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbj0xMDAwLAogICAgICAgICAgICAgICAgYm9vdHN0eWxlPSJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNvdXJjZT0idG9kby1lbXB0eS1ub3RpZmljYXRpb24iLAogICAgICAgICAgICApLnNob3coKQogICAgICAgIHNlbGZbInVzZXIiXS5jcmVhdGVfdG9kbyhzZWxmWyJlbnRyeSJdKS5zYXZlKCkKICAgICAgICBzZWxmWyJlbnRyeSJdID0gIiIKICAgICAgICBzZWxmLnVwZGF0ZSgpCgogICAgZGVmIHBvcHBlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIFRvZG8uZnJvbV91dWlkKHV1aWQpLmRlbGV0ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgdG9nZ2xlcihzZWxmLCB1dWlkKToKICAgICAgICBkZWYgZnVuYygqXyk6CiAgICAgICAgICAgIG9iaiA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIG9iai5kb25lID0gbm90IG9iai5kb25lCiAgICAgICAgICAgIG9iai5zYXZlKCkKICAgICAgICAgICAgc2VsZi51cGRhdGUoKQoKICAgICAgICByZXR1cm4gZnVuYwoKICAgIGRlZiB1cGRhdGUoc2VsZik6CiAgICAgICAgc2VsZlsidG9kb3MiXSA9IFRvZG8uZm9yX3VzZXIoc2VsZi51c2VyKQogICAgICAgIHN1cGVyKCkudXBkYXRlKCkKCiAgICBkZWYgcG9wdXBfbWVudShzZWxmLCB1dWlkKToKICAgICAgICBtZW51ID0gTWVudSgKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIkB0b2dnbGUiOiBzZWxmLnRvZ2dsZXIodXVpZCksCiAgICAgICAgICAgICAgICAiQHJlbW92ZSI6IHNlbGYucG9wcGVyKHV1aWQpLAogICAgICAgICAgICAgICAgIkBlZGl0Ijogc2VsZi5lZGl0ZXIodXVpZCksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRyYW5zbGF0aW9ucz0icGFnZXMudG9kb3MubWVudSIsCiAgICAgICAgKQoKICAgICAgICBkZWYgZnVuYyhlKToKICAgICAgICAgICAgbWVudS5wb3N0KGUueF9yb290LCBlLnlfcm9vdCkKCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgZWRpdGVyKHNlbGYsIHV1aWQpOgogICAgICAgIGRlZiBlZGl0KCpfKToKICAgICAgICAgICAgZnJvbSBjdXN0b210a2ludGVyIGltcG9ydCBDVGtJbnB1dERpYWxvZwoKICAgICAgICAgICAgdmFsdWUgPSBDVGtJbnB1dERpYWxvZygKICAgICAgICAgICAgICAgIHRleHQ9IkVudGVyIHRoZSBuZXcgdmFsdWUiLCB0aXRsZT0iVG9kb3MiCiAgICAgICAgICAgICkuZ2V0X2lucHV0KCkKICAgICAgICAgICAgdG9kbyA9IFRvZG8uZnJvbV91dWlkKHV1aWQpCiAgICAgICAgICAgIHRvZG8uZGVzYyA9IHZhbHVlCiAgICAgICAgICAgIHRvZG8uc2F2ZSgpCiAgICAgICAgICAgIHNlbGYudXBkYXRlKCkKCiAgICAgICAgcmV0dXJuIGVkaXQKCgpAY2FjaGUKZGVmIGRlZmF1bHQoX3N0b3JlLCAvKToKICAgIGdsb2JhbCBzdG9yZSwgU1RPUkUsIHVzZXIKICAgIFNUT1JFID0gX3N0b3JlCiAgICBpZiBVc2VyLmlzX2xvZ2luKCk6CiAgICAgICAgdXNlciA9IFVzZXIuY3VycmVudCgpCiAgICAgICAgc3RvcmUgPSBTVE9SRS5mb3JfcGFnZShfX25hbWVfXykucGFydGl0aW9uKAogICAgICAgICAgICB1c2VyLm5hbWUsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJlbnRyeSI6IF8oInBhZ2VzLnRvZG9zLnBsYWNlaG9sZGVyIiksCiAgICAgICAgICAgIH0sCiAgICAgICAgKQogICAgICAgIHJldHVybiBUb2RvUGFnZSh1c2VyPXVzZXIsIGVudHJ5PXN0b3JlWyJlbnRyeSJdKQogICAgZWxzZToKICAgICAgICByYWlzZSBSZWRpcmVjdCgic2lnbkBzaWduaW4iKQo",
					"AQAAAAAAAAABAAAAnAIAAAAAAAArBAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "src/taktk/template.py",
			"settings":
			{
				"buffer_size": 18983,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					32,
					1,
					"insert",
					{
						"characters": "-"
					},
					"AQAAAJ0FAAAAAAAAngUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAnQUAAAAAAACdBQAAAAAAAAAAAAAAAPC/"
				],
				[
					35,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAJ0oAAAAAAAAnSgAAIiIiClRha3RrIHRlbXBsYXRpbmcgZW5naW5lLgoKQ29weXJpZ2h0IChDKSAyMDIyICBrZW4tbW9yZWwKClRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5Cml0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCihhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCgpUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQpHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgoKWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoiIiIKaW1wb3J0IGRhdGFjbGFzc2VzCmltcG9ydCBkZWNpbWFsCmltcG9ydCBlbnVtCmltcG9ydCBvcy5wYXRoCmltcG9ydCBzdHJpbmcKZnJvbSBkZWNpbWFsIGltcG9ydCBEZWNpbWFsCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgT3B0aW9uYWwsIEFueQoKZnJvbSBweW9sb2FkIGltcG9ydCBhbm5vdGF0ZQoKZnJvbSAuIGltcG9ydCBkaWN0aW9uYXJ5LCB3cml0ZWFibGUsIGNvbXBvbmVudAoKCmNsYXNzIFRhZ1R5cGUoZW51bS5FbnVtKToKICAgICIiIkVudW0gdHlwZSBmb3IgVGVtcGxhdGUuSXRlbSBgLnR5cGVgLiIiIgoKICAgIFRBRyA9IGVudW0uYXV0bygpCiAgICBTUEVDSUFMID0gZW51bS5hdXRvKCkKICAgIE1FVEEgPSBlbnVtLmF1dG8oKQoKClNQQUNFID0gZnJvemVuc2V0KCIgIikKVkFSTkFNRSA9IGZyb3plbnNldChzdHJpbmcuYXNjaWlfbGV0dGVycyArIHN0cmluZy5kaWdpdHMgKyAiXyIpCkNPTVBPTkVOVF9OQU1FID0gVkFSTkFNRSB8IGZyb3plbnNldCgiLiIpCkJSQUNLRVRTID0gZGljdChtYXAodHVwbGUsICIoKSxbXSx7fSIuc3BsaXQoIiwiKSkpClNUUklOR19RVU9URVMgPSBmcm96ZW5zZXQoIlwiJyIpCklOVCA9IGZyb3plbnNldChzdHJpbmcuZGlnaXRzKQpERUNJTUFMID0gZnJvemVuc2V0KHN0cmluZy5kaWdpdHMgKyAiLiIpClNMSUNFID0gSU5UIHwgZnJvemVuc2V0KCI6IikKUE9JTlQgPSBERUNJTUFMIHwgZnJvemVuc2V0KCIsIikKQVRUUl9OQU1FID0gZnJvemVuc2V0KCI6LSIpIHwgVkFSTkFNRQoKCmNsYXNzIFN0YXRlOgogICAgIiIiU3RvcmVzIHBhcnNlciBzdGF0ZSBhbmQgcGFyc2luZyB1dGlscy4iIiIKCiAgICBfX3Nsb3RzX18gPSAoInRleHQiLCAiaWR4IikKICAgIHRleHQ6IHN0cgogICAgaWR4OiBpbnQKCiAgICBAYW5ub3RhdGUKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB0ZXh0OiBzdHIsIGlkeDogaW50ID0gMCk6CiAgICAgICAgIiIiSW5pdGlhbGl6ZSB0aGUgcGFyc2VyIHN0YXRlLiIiIgogICAgICAgIHNlbGYudGV4dCA9IHRleHQKICAgICAgICBzZWxmLmlkeCA9IGlkeAoKICAgIGRlZiBfX2lvcl9fKHNlbGYsIG90aGVyOiAiU3RhdGUiKToKICAgICAgICAiIiJDb3B5IHRoZSBvdGhlciBzdGF0ZSBvYmplY3QuIiIiCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIFN0YXRlKToKICAgICAgICAgICAgcmV0dXJuIE5vdEltcGxlbWVudGVkCiAgICAgICAgc2VsZi5pZHggPSBvdGhlci5pZHgKICAgICAgICByZXR1cm4gc2VsZgoKICAgIGRlZiBjb3B5KHNlbGYpIC0+ICJTdGF0ZSI6CiAgICAgICAgIiIiQ29weSB0aGUgc3RhdGUgb2JqZWN0LiIiIgogICAgICAgIHJldHVybiBTdGF0ZSh0ZXh0PXNlbGYudGV4dCwgaWR4PXNlbGYuaWR4KQoKICAgIGRlZiBfX2ludF9fKHNlbGYpIC0+IGludDoKICAgICAgICAiIiJDb252ZXJ0IHN0YXRlIHRvIGludCwgcmV0dXJuIGluZGV4LiIiIgogICAgICAgIHJldHVybiBzZWxmLmlkeAoKICAgIGRlZiBfX2luZGV4X18oc2VsZikgLT4gaW50OgogICAgICAgICIiIlVzZSBzdGF0ZSBhcyBpbmRleCwgcmV0dXJuIGluZGV4LiIiIgogICAgICAgIHJldHVybiBzZWxmLmlkeAoKICAgIGRlZiBfX2lhZGRfXyhzZWxmLCB2YWwpIC0+ICJTdGF0ZSI6CiAgICAgICAgIiIiQWRkIHN0YXRlIGluZGV4LiIiIgogICAgICAgIHNlbGYuaWR4ICs9IHZhbAogICAgICAgIHJldHVybiBzZWxmCgogICAgZGVmIF9fYWRkX18oc2VsZiwgdmFsKSAtPiBpbnQ6CiAgICAgICAgIiIiQWRkIHN0YXRlcy4iIiIKICAgICAgICByZXR1cm4gc2VsZi5pZHggKyB2YWwKCiAgICBkZWYgX19yYWRkX18oc2VsZiwgdmFsKSAtPiBpbnQ6CiAgICAgICAgIiIiQWRkIHN0YXRlcy4iIiIKICAgICAgICByZXR1cm4gc2VsZi5pZHggKyB2YWwKCiAgICBkZWYgX19ndF9fKHNlbGYsIHZhbDogaW50KSAtPiBib29sOgogICAgICAgICIiIlBlcmZvcm0gZ3Qgb3BlcmF0aW9uIG9uIHN0YXRlIGluZGV4LiIiIgogICAgICAgIHJldHVybiBpbnQuX19ndF9fKHNlbGYuaWR4LCB2YWwpCgogICAgZGVmIF9fbHRfXyhzZWxmLCB2YWw6IGludCkgLT4gYm9vbDoKICAgICAgICAiIiJQZXJmb3JtIGx0IG9wZXJhdGlvbiBvbiBzdGF0ZSBpbmRleC4iIiIKICAgICAgICByZXR1cm4gaW50Ll9fbHRfXyhzZWxmLmlkeCwgdmFsKQoKICAgIGRlZiBfX2hhc2hfXyhzZWxmKSAtPiBpbnQ6CiAgICAgICAgIiIiQ29tcHV0ZSBhIGR1bW15IGhhc2ggYmFzZWQgb24gdGV4dCBoYXNoLiIiIgogICAgICAgIHJldHVybiBzZWxmLmlkeCAqIGxlbihzZWxmLnRleHQpICogaGFzaChzZWxmLnRleHQpCgogICAgZGVmIF9fbGVuX18oc2VsZikgLT4gaW50OgogICAgICAgICIiIkNvbXB1dGUgdGhlIHRleHQgbGVuZ3RoLiIiIgogICAgICAgIHJldHVybiBsZW4oc2VsZi50ZXh0KQoKICAgIGRlZiBfX2dldGl0ZW1fXyhzZWxmLCBpdGVtOiBzbGljZSB8IGludCkgLT4gc3RyOgogICAgICAgICIiIlNsaWNlIHRoZSBzdGF0ZSB0ZXh0LiIiIgogICAgICAgIGlmIGl0ZW0gPT0gLi4uOgogICAgICAgICAgICByZXR1cm4gc2VsZi50ZXh0W3NlbGYuaWR4XQogICAgICAgIGVsaWYgaXNpbnN0YW5jZShpdGVtLCBzbGljZSk6CiAgICAgICAgICAgIHJldHVybiBzZWxmLnRleHQuX19nZXRpdGVtX18oCiAgICAgICAgICAgICAgICBzbGljZSgKICAgICAgICAgICAgICAgICAgICAqKAogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlkeCBpZiB4IGlzIC4uLiBlbHNlIHgKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gKGl0ZW0uc3RhcnQsIGl0ZW0uc3RvcCwgaXRlbS5zdGVwKQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzZWxmLnRleHQuX19nZXRpdGVtX18oaXRlbSkKCiAgICBkZWYgX19ib29sX18oc2VsZikgLT4gYm9vbDoKICAgICAgICAiIiJSZXR1cm4gdHJ1ZSBpZiBpbmRleCBkaWQgbm90IGV4Y2VlZCB0ZXh0IGxlbmd0aC4iIiIKICAgICAgICByZXR1cm4gc2VsZi5pZHggPCBsZW4oc2VsZi50ZXh0KQoKICAgIGRlZiBuZXh0X2xpbmUoc2VsZikgLT4gYm9vbDoKICAgICAgICAiIiJTa2lwIGFsbCBjaGFyYWN0ZXJzIHRpbGwgbmV4dCBuZXdsaW5lIGNoYXJhY3Rlci4iIiIKICAgICAgICB3aGlsZSBzZWxmIGFuZCBzZWxmWy4uLl0gIT0gIlxuIjoKICAgICAgICAgICAgc2VsZiArPSAxCiAgICAgICAgc2VsZiArPSAxCiAgICAgICAgcmV0dXJuIGJvb2woc2VsZikKCiAgICBkZWYgc2tpcF9zcGFjZXMoc2VsZikgLT4gaW50OgogICAgICAgICIiIlNraXAgYWxsIHNwYWNlcyBhbmQgcmV0dXJuIHRoZWlyIG51bWJlci4iIiIKICAgICAgICBjb3VudCA9IDAKICAgICAgICB3aGlsZSBzZWxmIGFuZCBzZWxmWy4uLl0gaW4gU1BBQ0U6CiAgICAgICAgICAgIHNlbGYgKz0gMQogICAgICAgICAgICBjb3VudCArPSAxCiAgICAgICAgaWYgKAogICAgICAgICAgICBzZWxmCiAgICAgICAgICAgIGFuZCBzZWxmW3NlbGYuaWR4XSA9PSAiXFwiCiAgICAgICAgICAgIGFuZCBsZW4oc2VsZikgPiBzZWxmLmlkeCArIDEKICAgICAgICAgICAgYW5kIHNlbGZbc2VsZi5pZHggKyAxXSA9PSAiXG4iCiAgICAgICAgKToKICAgICAgICAgICAgc2VsZiArPSAyCiAgICAgICAgICAgIHJldHVybiBjb3VudCArIHNlbGYuc2tpcF9zcGFjZXMoKQogICAgICAgIHJldHVybiBjb3VudAoKICAgIGRlZiBuZXh0X3RhZ19uYW1lKHNlbGYpIC0+IHR1cGxlW3N0ciwgT3B0aW9uYWxbc3RyXV06CiAgICAgICAgciIiIkdldCBuZXh0IHRhZyBuYW1lIGZyb20gYFxgIGNoYXJhY3RlciwgbWF5IGluY2x1ZGUgYWxpYXMuIiIiCiAgICAgICAgc2VsZi5za2lwX3NwYWNlcygpCiAgICAgICAgYmVnaW4gPSBzZWxmLmNvcHkoKQogICAgICAgIHNlbGYgKz0gMQogICAgICAgIG5hbWUgPSAiIgogICAgICAgIHdoaWxlIHNlbGYgYW5kIHNlbGZbLi4uXSBpbiBDT01QT05FTlRfTkFNRToKICAgICAgICAgICAgc2VsZiArPSAxCiAgICAgICAgbmFtZSA9IHNlbGYudGV4dFtiZWdpbiArIDEgOiBzZWxmXQoKICAgICAgICBpZiBsZW4oc2VsZi50ZXh0KSA+IHNlbGYgYW5kIHNlbGYudGV4dFtzZWxmXSA9PSAiOiI6CiAgICAgICAgICAgIHNlbGYgKz0gMQogICAgICAgICAgICBiZWdpbiA9IHNlbGYuY29weSgpCiAgICAgICAgICAgIHdoaWxlICgKICAgICAgICAgICAgICAgIGxlbihzZWxmLnRleHQpID4gaW50KHNlbGYpCiAgICAgICAgICAgICAgICBhbmQgc2VsZi50ZXh0W2ludChzZWxmKV0gaW4gQ09NUE9ORU5UX05BTUUKICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgIHNlbGYgKz0gMQogICAgICAgICAgICBhbGlhcyA9IHNlbGYudGV4dFtiZWdpbiA6IGludChzZWxmKV0KICAgICAgICBlbHNlOgogICAgICAgICAgICBhbGlhcyA9IE5vbmUKICAgICAgICByZXR1cm4gKG5hbWUsIGFsaWFzKQoKICAgIGRlZiBuZXh0X2F0dHJfdmFsdWUoc2VsZikgLT4gInR1cGxlW1N0YXRlLCBzdHIsIHN0cl0iOgogICAgICAgIHIiIiJHZXQgbmV4dCBhdHRyaWJ1dGUgdmFsdWUgcGFpci4iIiIKICAgICAgICBzZWxmLnNraXBfc3BhY2VzKCkKICAgICAgICBhdHRyID0gIiIKCiAgICAgICAgd2hpbGUgc2VsZiBhbmQgc2VsZlsuLi5dIGluIEFUVFJfTkFNRToKICAgICAgICAgICAgYXR0ciArPSBzZWxmWy4uLl0KICAgICAgICAgICAgc2VsZiArPSAxCiAgICAgICAgaWYgbm90IHNlbGYgb3Igc2VsZlsuLi5dICE9ICI9IjoKICAgICAgICAgICAgcmV0dXJuIGF0dHIsICJUcnVlIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYgKz0gMQogICAgICAgICAgICB2YWwgPSBzZWxmLm5leHRfdmFsdWUoKQogICAgICAgICAgICByZXR1cm4gYXR0ciwgdmFsCgogICAgZGVmIG5leHRfdmFsdWUoc2VsZikgLT4gc3RyOgogICAgICAgICIiIlJlYWQgdGhlIG5leHQgdmFsdWUgaW4gcGFyc2VyLiIiIgogICAgICAgIHNlbGYuc2tpcF9zcGFjZXMoKQogICAgICAgIGJlZ2luID0gc2VsZi5jb3B5KCkKICAgICAgICBicmFja2V0cyA9IFtdCiAgICAgICAgaWYgKAogICAgICAgICAgICAiOiIgaW4gc2VsZlsuLi46XQogICAgICAgICAgICBhbmQgc2VsZlsuLi46XVs6IChuIDo9IHNlbGZbLi4uOl0uaW5kZXgoIjoiKSldLmlzYWxwaGEoKQogICAgICAgICAgICBhbmQgbGVuKGJyYWNrZXRzKSA9PSAwCiAgICAgICAgKToKICAgICAgICAgICAgYmVnaW4gPSBzZWxmLmNvcHkoKQogICAgICAgICAgICBzZWxmICs9IG4KICAgICAgICAgICAgYmMgPSAwCiAgICAgICAgICAgIHdoaWxlIHNlbGY6CiAgICAgICAgICAgICAgICBpZiBzZWxmWy4uLl0gPT0gInsiOgogICAgICAgICAgICAgICAgICAgIGJjICs9IDEKICAgICAgICAgICAgICAgIGVsaWYgc2VsZlsuLi5dID09ICJ9IjoKICAgICAgICAgICAgICAgICAgICBiYyAtPSAxCiAgICAgICAgICAgICAgICBlbGlmIChxdW90ZSA6PSBzZWxmWy4uLl0pIGluIFNUUklOR19RVU9URVM6CiAgICAgICAgICAgICAgICAgICAgc2VsZiArPSAxCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgc2VsZjoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgc2VsZlsuLi5dID09IHF1b3RlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiBzZWxmWy4uLl0gPT0gIlxcIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYgKz0gMgogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZiArPSAxCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInVudGVybWluYXRlZCBzdHJpbmcgaW46IiwgcmVwcihzZWxmLnRleHQpCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGVsaWYgc2VsZlsuLi5dLmlzc3BhY2UoKSBhbmQgYmMgPT0gMDoKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgc2VsZiArPSAxCiAgICAgICAgICAgIHJldHVybiBzZWxmW2JlZ2luOi4uLl0KICAgICAgICB3aGlsZSBzZWxmOgogICAgICAgICAgICBjID0gc2VsZlsuLi5dCiAgICAgICAgICAgIGlmIGMgaW4gQlJBQ0tFVFM6CiAgICAgICAgICAgICAgICBicmFja2V0cy5hcHBlbmQoc2VsZlsuLi5dKQogICAgICAgICAgICBlbGlmIGMgaW4gU1RSSU5HX1FVT1RFUzoKICAgICAgICAgICAgICAgIG9wZW5pbmcgPSBjCiAgICAgICAgICAgICAgICBzZWxmICs9IDEKICAgICAgICAgICAgICAgIHdoaWxlIHNlbGY6CiAgICAgICAgICAgICAgICAgICAgaWYgc2VsZlsuLi5dID09IG9wZW5pbmc6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgZWxpZiBzZWxmWy4uLl0gPT0gIlxcIjoKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZiArPSAyCiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZiArPSAxCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigidW50ZXJtaW5hdGVkIHN0cmluZyBpbjoiLCByZXByKHNlbGYudGV4dCkpCiAgICAgICAgICAgIGVsaWYgYyBpbiBCUkFDS0VUUy52YWx1ZXMoKToKICAgICAgICAgICAgICAgIGlmIGxlbihicmFja2V0cykgPiAwIGFuZCBCUkFDS0VUU1ticmFja2V0c1stMV1dID09IGM6CiAgICAgICAgICAgICAgICAgICAgYnJhY2tldHMucG9wKCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICBmInVubWF0Y2hlZCB7YyFyfSBhdCB7aW50KHNlbGYpfToge3NlbGYudGV4dCFyfSIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVsaWYgbGVuKGJyYWNrZXRzKSA9PSAwIGFuZCBjLmlzc3BhY2UoKToKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIHNlbGYgKz0gMQogICAgICAgIHJldHVybiBzZWxmW2JlZ2luOi4uLl0KCiAgICBkZWYgbmV4dF9lbnVtKHNlbGYpIC0+ICJ0dXBsZVtzdHIsIHR1cGxlW3N0ciwgc3RyXV0iOgogICAgICAgICIiIk5leHQgZW51bWVyYXRvci4iIiIKICAgICAgICBiZWdpbiA9IHNlbGYuY29weSgpCiAgICAgICAgYmVnaW4gfD0gYmVnaW4uc2tpcF9zcGFjZXMoKQogICAgICAgIHN0YXRlID0gYmVnaW4uY29weSgpCiAgICAgICAgc3RhdGUgKz0gbGVuKCIhZW51bSAiKQogICAgICAgIHN0YXRlIHw9IHN0YXRlLnNraXBfc3BhY2VzKCkKICAgICAgICBiID0gc3RhdGUuY29weSgpCiAgICAgICAgd2hpbGUgc3RhdGU6CiAgICAgICAgICAgIGlmIHN0YXRlWy4uLl1bMF0gbm90IGluIFZBUk5BTUU6CiAgICAgICAgICAgICAgICBpZiBzdGF0ZVsuLi5dWzBdICE9ICI6IjoKICAgICAgICAgICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICJ1bnJlY29nbmlzZWQgc3ltYm9sIGluIGFmdGVyIGVudW0gb2JqZWN0IG5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS50ZXh0LAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIHN0YXRlICs9IDEKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oInVudGVybWluYXRlZCBlbnVtIGZpcnN0IGZpZWxkIiwgc3RhdGUudGV4dCkKICAgICAgICBvYmogPSBzdGF0ZS50ZXh0W2I6c3RhdGVdCiAgICAgICAgc3RhdGUgKz0gMQogICAgICAgIGIgPSBzdGF0ZS5jb3B5KCkKICAgICAgICBiICs9IDEKICAgICAgICBuYyA9IDAKICAgICAgICB3aGlsZSBzdGF0ZToKICAgICAgICAgICAgaWYgc3RhdGVbLi4uXVswXSA9PSAiKSI6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBlbGlmIHN0YXRlWy4uLl1bMF0gPT0gIiwiOgogICAgICAgICAgICAgICAgbmMgKz0gMQogICAgICAgICAgICAgICAgaWYgbmMgPiAxOgogICAgICAgICAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgInRvbyBtYW55IGZpZWxkcyBhZnRlciBlbnVtIG9iamVjdCIsIHN0YXRlLnRleHQKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIHN0YXRlICs9IDEKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oIlVudGVybWluYXRlZCBlbnVtIHNlY29uZCBmaWVsZCIsIHN0YXRlLnRleHQpCiAgICAgICAgYWxpYXMgPSB0dXBsZShtYXAoc3RyLnN0cmlwLCBzdGF0ZVtiOnN0YXRlXS5zcGxpdCgiLCIpKSkKICAgICAgICByZXR1cm4gc3RhdGUsIG9iaiwgYWxpYXMKCiAgICBkZWYgbmV4dF9pZihzZWxmKSAtPiAidHVwbGVbc3RyLCB0dXBsZVtzdHIsIHN0cl1dIjoKICAgICAgICAiIiJSZXR1cm4gbmV4dCBpZiBzdGF0ZW1lbnRzIHBhcnRzLiIiIgogICAgICAgIGJlZ2luID0gc2VsZi5jb3B5KCkKICAgICAgICBiZWdpbiB8PSBiZWdpbi5za2lwX3NwYWNlcygpCiAgICAgICAgc3RhdGUgPSBiZWdpbi5jb3B5KCkKICAgICAgICBzdGF0ZSArPSBsZW4oIiFpZiAiKQogICAgICAgIHN0YXRlIHw9IHN0YXRlLnNraXBfc3BhY2VzKCkKICAgICAgICBiID0gc3RhdGUuY29weSgpCgogICAgICAgIHdoaWxlIHN0YXRlIGFuZCBzdGF0ZVsuLi5dWzBdICE9ICJcbiI6CiAgICAgICAgICAgIHN0YXRlICs9IDEKCiAgICAgICAgcmV0dXJuIHN0YXRlLCBzdGF0ZS50ZXh0W2I6c3RhdGVdCgogICAgQHByb3BlcnR5CiAgICBkZWYgcm93KHNlbGYpIC0+IGludDoKICAgICAgICAiIiJGaW5kIHRoZSBjdXJyZW50IHBvc2l0aW9uIHJvdy4iIiIKICAgICAgICByZXR1cm4gc2VsZi50ZXh0Wzogc2VsZi5pZHhdLmNvdW50KCJcbiIpICsgMQoKICAgIEByb3cuc2V0dGVyCiAgICBkZWYgcm93KHNlbGYsIHZhbDogaW50KToKICAgICAgICBjb2wgPSBzZWxmLmNvbAogICAgICAgIHNlbGYuaWR4ID0gMAogICAgICAgIHdoaWxlIHNlbGYucm93IDwgdmFsOgogICAgICAgICAgICBzZWxmLmlkeCArPSAxCiAgICAgICAgc2VsZi5jb2wgKz0gY29sCgogICAgQHByb3BlcnR5CiAgICBkZWYgY29sKHNlbGYpIC0+IGludDoKICAgICAgICAiIiJGaW5kIHRoZSBhY3R1YWwgc3RhdGUgY29sdW1uLiIiIgogICAgICAgIGxpbmVzID0gc2VsZi50ZXh0Wzogc2VsZi5pZHhdLnNwbGl0bGluZXMoKQogICAgICAgIGlmIGxlbihsaW5lcykgPiAwOgogICAgICAgICAgICByZXR1cm4gbGVuKGxpbmVzWy0xXSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXR1cm4gMAoKICAgIEBjb2wuc2V0dGVyCiAgICBkZWYgY29sKHNlbGYsIHZhbDogaW50KSAtPiBib29sOgogICAgICAgIGlmIGxlbihzZWxmLnRleHQuc3BsaXRsaW5lcygpW3NlbGYucm93IC0gMV0pIDwgdmFsOgogICAgICAgICAgICBzZWxmLmlkeCArPSB2YWwgLSBzZWxmLmNvbAogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBwYXJzZV9uZXh0X2luc3RydWN0aW9uKHNlbGYpIC0+ICJ0dXBsZVtpbnQsIFRlbXBsYXRlLkl0ZW1dIjoKICAgICAgICAiIiJQYXJzZSB0aGUgbmV4dCBpbnN0cnVjdGlvbi4iIiIKICAgICAgICBpbmRlbnQgPSBzZWxmLnNraXBfc3BhY2VzKCkKICAgICAgICB3aGlsZSBzZWxmIGFuZCBzZWxmWy4uLl0gaW4gIiNcbiI6CiAgICAgICAgICAgIGlmIG5vdCBzZWxmLm5leHRfbGluZSgpOgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGluZGVudCA9IHNlbGYuc2tpcF9zcGFjZXMoKQogICAgICAgIGlmIG5vdCBzZWxmOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBjaGFyID0gc2VsZlsuLi5dCiAgICAgICAgaWYgY2hhciA9PSAiXFwiOiAgIyBhIHRhZwogICAgICAgICAgICByZXR1cm4gaW5kZW50LCBzZWxmLnBhcnNlX25leHRfdGFnKCkKICAgICAgICBlbGlmIGNoYXIgPT0gIiEiOgogICAgICAgICAgICByZXR1cm4gaW5kZW50LCBzZWxmLnBhcnNlX25leHRfc3BlY2lhbCgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihjaGFyKQoKICAgIGRlZiBwYXJzZV9uZXh0X3RhZyhzZWxmKSAtPiBOb25lOgogICAgICAgICIiIlJldHVybiBuZXh0IHRhZy4iIiIKICAgICAgICBuYW1lLCBhbGlhcyA9IHNlbGYubmV4dF90YWdfbmFtZSgpCiAgICAgICAgYXR0cnMgPSB7fQogICAgICAgIHdoaWxlIHNlbGY6CiAgICAgICAgICAgIHNlbGYuc2tpcF9zcGFjZXMoKQogICAgICAgICAgICBpZiBzZWxmWy4uLl0gPT0gIiMiOgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAga2V5LCB2YWwgPSBzZWxmLm5leHRfYXR0cl92YWx1ZSgpCiAgICAgICAgICAgIGlmIGtleToKICAgICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWwKICAgICAgICAgICAgc2VsZi5za2lwX3NwYWNlcygpCiAgICAgICAgICAgIGlmIG5vdCBzZWxmIG9yIHNlbGZbLi4uXSA9PSAiXG4iOgogICAgICAgICAgICAgICAgc2VsZi5uZXh0X2xpbmUoKQogICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgcmV0dXJuIFRlbXBsYXRlLkl0ZW0odHlwZT1UYWdUeXBlLlRBRywgbmFtZT1uYW1lLCBhcmdzPShhbGlhcywgYXR0cnMpKQoKICAgIEBwcm9wZXJ0eQogICAgZGVmIGxpbmUoc2VsZikgLT4gc3RyOgogICAgICAgICIiIkdldCB0aGUgZnVsbCBjdXJyZW50IGxpbmUuIiIiCiAgICAgICAgcmV0dXJuIHNlbGYudGV4dC5zcGxpdGxpbmVzKClbc2VsZi5yb3cgLSAxXQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICAiIiJSZXByb2R1Y2UgdGhlIHN0YXRlLiIiIgogICAgICAgIHJldHVybiAiU3RhdGUoJWQpIHtcbiAgICAlc1xuICAgICVzXG59IiAlICgKICAgICAgICAgICAgc2VsZi5yb3csCiAgICAgICAgICAgIHNlbGYubGluZSwKICAgICAgICAgICAgIiAiICogc2VsZi5jb2wgKyAiXiIsCiAgICAgICAgKQoKICAgIGRlZiBwYXJzZShzZWxmKSAtPiAiVGVtcGxhdGUuSXRlbSI6CiAgICAgICAgIiIiUGFyc2UgdGhlIHN0YXRlIGNvbnRlbnQuIiIiCiAgICAgICAgdGFncyA9IFtdCiAgICAgICAgd2hpbGUgc2VsZjoKICAgICAgICAgICAgY21kID0gc2VsZi5wYXJzZV9uZXh0X2luc3RydWN0aW9uKCkKICAgICAgICAgICAgaWYgY21kIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgdGFncy5hcHBlbmQoY21kKQogICAgICAgIGlmIGxlbih0YWdzKSA9PSAwOgogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGxhc3RfaW5kZW50LCByb290ID0gdGFnc1swXQogICAgICAgICAgICB0cmVlID0gW10KICAgICAgICAgICAgbGFzdF90YWcgPSByb290CiAgICAgICAgICAgIGZvciBpbmRlbnQsIGNoaWxkIGluIHRhZ3NbMTpdOgogICAgICAgICAgICAgICAgaWYgaW5kZW50ID4gbGFzdF9pbmRlbnQ6CiAgICAgICAgICAgICAgICAgICAgdHJlZS5hcHBlbmQoKGxhc3RfaW5kZW50LCBsYXN0X3RhZykpCiAgICAgICAgICAgICAgICBlbGlmIGluZGVudCA8IGxhc3RfaW5kZW50OgogICAgICAgICAgICAgICAgICAgIHdoaWxlIGluZGVudCA8PSB0cmVlWy0xXVswXToKICAgICAgICAgICAgICAgICAgICAgICAgdHJlZS5wb3AoKQogICAgICAgICAgICAgICAgdHJlZVstMV1bMV0uY2hpbGRyZW4uYXBwZW5kKGNoaWxkKQogICAgICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdHJlZVstMV1bMV0KICAgICAgICAgICAgICAgIGxhc3RfaW5kZW50ID0gaW5kZW50CiAgICAgICAgICAgICAgICBsYXN0X3RhZyA9IGNoaWxkCiAgICAgICAgICAgIHJldHVybiByb290CgoKZGVmIGV2YWx1YXRlX2xpdGVyYWwoCiAgICBzdHJpbmc6IHN0ciwgbmFtZXNwYWNlOiBPcHRpb25hbFt3cml0ZWFibGUuTmFtZXNwYWNlXSA9IE5vbmUKKSAtPiB0dXBsZVtib29sLCBBbnldOgogICAgIiIiRXZhbHVhdGUgYSBsaXR0ZXJhbCBmcm9tIHN0cmluZyBhbmQgb3B0aW9uYWwgbmFtZXNwYWNlLiIiIgogICAgZnJvbSAuIGltcG9ydCBtZWRpYQogICAgZnJvbSAuIGltcG9ydCBjb25zdGFudHMKCiAgICBzdHJpbmdfc2V0ID0gc2V0KHN0cmluZykKICAgIGlmIGxlbihzdHJpbmcpID4gMToKICAgICAgICBiLCAqXywgZSA9IHN0cmluZwogICAgZWxpZiBsZW4oc3RyaW5nKSA9PSAxOgogICAgICAgIGIsIGUgPSBzdHJpbmcsIE5vbmUKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiZW1wdHkgbGl0ZXJhbCBzdHJpbmciKQogICAgaWYgaGFzYXR0cihjb25zdGFudHMsIHN0cmluZyk6CiAgICAgICAgcmV0dXJuIChGYWxzZSwgZ2V0YXR0cihjb25zdGFudHMsIHN0cmluZykpCiAgICBlbGlmIHN0cmluZyA9PSAiTm9uZSI6CiAgICAgICAgcmV0dXJuIChGYWxzZSwgTm9uZSkKICAgIGVsaWYgc3RyaW5nID09ICJUcnVlIjoKICAgICAgICByZXR1cm4gKEZhbHNlLCBUcnVlKQogICAgZWxpZiBzdHJpbmcgPT0gIkZhbHNlIjoKICAgICAgICByZXR1cm4gKEZhbHNlLCBGYWxzZSkKICAgIGVsaWYgYiA9PSAiPCIgYW5kIGUgPT0gIj4iOgogICAgICAgIHJldHVybiAoRmFsc2UsIG1lZGlhLmdldF9tZWRpYShzdHJpbmdbMTotMV0pKQogICAgZWxpZiBsZW4oc3RyaW5nX3NldCAtIElOVCkgPT0gMDoKICAgICAgICByZXR1cm4gKEZhbHNlLCBpbnQoc3RyaW5nKSkKICAgIGVsaWYgbGVuKHN0cmluZ19zZXQgLSBERUNJTUFMKSA9PSAwOgogICAgICAgIHJldHVybiBEZWNpbWFsKHN0cmluZykKICAgIGVsaWYgYiA9PSAieyIgYW5kIGUgPT0gIn0iOgogICAgICAgIGlmIG5hbWVzcGFjZSBpcyBOb25lOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICAgICAgIlVuYWxsb3dlZCB3cml0ZWFibGUuV3JpdGVhYmxlIGluIG5vbmUgbmFtZXNwYWNlZCBjb250ZXh0IiwKICAgICAgICAgICAgICAgIHN0cmluZywKICAgICAgICAgICAgKQogICAgICAgIGNvZGUgPSBzdHJpbmdbMTotMV0KICAgICAgICByZXR1cm4gKEZhbHNlLCBldmFsKGNvZGUsIHt9LCBuYW1lc3BhY2UpKQogICAgZWxpZiBiID09ICIkIjoKICAgICAgICBpZiBsZW4oc3RyaW5nKSA8IDI6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbihmIldyb25nIHN1YnNjcmlwdGlvbiB7c3RyaW5nIXJ9IikKICAgICAgICB0eXAgPSBzdHJpbmdbMV0KICAgICAgICBpZiB0eXAgPT0gInsiOiAgIyBDdXN0b20gd3JpdGVhYmxlCiAgICAgICAgICAgIGNvZGUgPSBzdHJpbmdbMjotMV0KICAgICAgICAgICAgaWYgInx8IiBpbiBjb2RlOgogICAgICAgICAgICAgICAgZ2V0LCBzZXRfID0gY29kZS5zcGxpdCgifHwiKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZ2V0LCBzZXRfID0gY29kZSwgIiIKICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgIFRydWUsCiAgICAgICAgICAgICAgICB3cml0ZWFibGUuV3JpdGVhYmxlLmZyb21fZ2V0X3NldChuYW1lc3BhY2UsIGdldCwgc2V0XyksCiAgICAgICAgICAgICkKICAgICAgICBlbGlmIHR5cCA9PSAiKCI6CiAgICAgICAgICAgIHJldHVybiAoVHJ1ZSwgZXZhbChzdHJpbmdbMjoxXSkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIChUcnVlLCB3cml0ZWFibGUuV3JpdGVhYmxlLmZyb21fbmFtZShuYW1lc3BhY2UsIHN0cmluZ1sxOl0pKQogICAgZWxpZiBiIGluIFNUUklOR19RVU9URVM6CiAgICAgICAgaWYgZSA9PSBiOgogICAgICAgICAgICByZXR1cm4gKEZhbHNlLCBzdHJpbmdbMTotMV0pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiVW50ZXJtaW5hdGVkIHN0cmluZzoiLCBzdHJpbmcpCiAgICBlbGlmIHN0cmluZ1swXSA9PSBzdHJpbmdbLTFdID09ICIvIjoKICAgICAgICByZXR1cm4gKEZhbHNlLCBQYXRoKG9zLnBhdGguZXhwYW5kdmFycyhzdHJpbmdbMTotMV0pKSkKICAgIGVsaWYgYiA9PSAiQCI6CiAgICAgICAgcmV0dXJuIChUcnVlLCBkaWN0aW9uYXJ5LlRyYW5zbGF0aW9uKHN0cmluZ1sxOl0pKQogICAgZWxpZiAiOiIgaW4gc3RyaW5nIGFuZCBsZW4oc3RyaW5nX3NldCAtIChERUNJTUFMIHwgU0xJQ0UpKSA9PSAwOgogICAgICAgIGlmIGxlbihkIDo9IChzdHJpbmdfc2V0IC0gU0xJQ0UpKSA+IDA6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIndyb25nIHNsaWNlIiwgc3RyaW5nLCBkKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBzbGljZSgqbWFwKGludCwgc3RyaW5nLnNwbGl0KCI6IikpKQogICAgZWxpZiBsZW4oc3RyaW5nX3NldCAtIFBPSU5UKSA9PSAwOgogICAgICAgIHZhbHVlcyA9IFtdCiAgICAgICAgcG9zID0gMAogICAgICAgIHdoaWxlIHBvcyA8IGxlbihzdHJpbmcpOgogICAgICAgICAgICBiZWdpbiA9IHBvcwogICAgICAgICAgICBpZiAiLCIgaW4gc3RyaW5nW3BvczpdOgogICAgICAgICAgICAgICAgZW5kID0gc3RyaW5nLmluZGV4KCIsIiwgcG9zKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZW5kID0gbGVuKHN0cmluZykKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaWYgIi4iIGluIHN0cmluZ1tiZWdpbjplbmRdOgogICAgICAgICAgICAgICAgICAgIGRlYyA9IERlY2ltYWwoc3RyaW5nW2JlZ2luOmVuZF0pCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGRlYyA9IGludChzdHJpbmdbYmVnaW46ZW5kXSkKICAgICAgICAgICAgZXhjZXB0IGRlY2ltYWwuSW52YWxpZE9wZXJhdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigKICAgICAgICAgICAgICAgICAgICBzdHIoZSksCiAgICAgICAgICAgICAgICAgICAgc3RyaW5nLAogICAgICAgICAgICAgICAgICAgIGJlZ2luLAogICAgICAgICAgICAgICAgICAgIHN0cmluZ1tiZWdpbjplbmRdLAogICAgICAgICAgICAgICAgKSBmcm9tIGUKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHZhbHVlcy5hcHBlbmQoZGVjKQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgcG9zID0gZW5kICsgMQogICAgICAgIHJldHVybiAoRmFsc2UsIHR1cGxlKHZhbHVlcykpCiAgICBlbHNlOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIlVucmVjb2duc2VkIGxpdGVyYWw6IiwgcmVwcihzdHJpbmcpKQoKCmNsYXNzIFRlbXBsYXRlOgogICAgIiIiCiAgICBBIHRha3RrIGNvbXBvbmVudCB0ZW1wbGF0ZSwgY2FuIGJlIHJlbmRlcnJlZCBpbnRvIGEgcmVhbCBjb21wb25lbnQuCiAgICBIb2xkcyBwYXJzZWQgaW5zdHJ1Y3Rpb25zIGFuZCBuYW1lc3BhY2UuCiAgICAiIiIKCiAgICBAZGF0YWNsYXNzZXMuZGF0YWNsYXNzCiAgICBjbGFzcyBJdGVtOgogICAgICAgICIiIgogICAgICAgIEl0ZW0gaW4gdGVtcGxhdGUgcGFyc2UgcmVzdWx0LCByZXByZXNlbnRzIGFuIGluc3RydWN0aW9uIG9yIHRhZy4KICAgICAgICAiIiIKCiAgICAgICAgdHlwZTogVGFnVHlwZQogICAgICAgIG5hbWU6IHN0cgogICAgICAgIGFyZ3M6IHR1cGxlCiAgICAgICAgcGFyZW50OiAiVGVtcGxhdGUuSXRlbSIgPSBOb25lCiAgICAgICAgY2hpbGRyZW46IGxpc3QgPSBkYXRhY2xhc3Nlcy5maWVsZChkZWZhdWx0X2ZhY3Rvcnk9bGlzdCkKCiAgICAgICAgZGVmIHJlbmRlcihzZWxmLCBwYXJlbnQsIG5hbWVzcGFjZSk6CiAgICAgICAgICAgICIiIkNyZWF0ZSB0aGUgY29tcG9uZW50LiIiIgogICAgICAgICAgICBpZiBzZWxmLnR5cGUgPT0gVGFnVHlwZS5UQUc6CiAgICAgICAgICAgICAgICBhbGlhcywgYXR0cnMgPSBzZWxmLmFyZ3MKICAgICAgICAgICAgICAgIGNvbXAgPSBnZXRfY29tcG9uZW50KHNlbGYubmFtZSwgbmFtZXNwYWNlKSgKICAgICAgICAgICAgICAgICAgICBwYXJlbnQ9cGFyZW50LAogICAgICAgICAgICAgICAgICAgIGF0dHJzPWF0dHJzLAogICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZT1uYW1lc3BhY2UsCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBpZiBhbGlhcyBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VbYWxpYXNdID0gY29tcAogICAgICAgICAgICAgICAgcmV0dXJuIGNvbXAKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoKQoKICAgICAgICBkZWYgX19yZXByX18oc2VsZikgLT4gc3RyOgogICAgICAgICAgICAiIiJSZXByb2R1Y2UgdGhlIG9iamVjdCBhcyBzdHJpbmciIiIKICAgICAgICAgICAgaGVhZCA9IHNlbGYubmFtZQogICAgICAgICAgICBjaGlsZHJlbiA9ICIiCiAgICAgICAgICAgIGlmIHNlbGYudHlwZSA9PSBUYWdUeXBlLlRBRzoKICAgICAgICAgICAgICAgIGFsaWFzLCBhdHRycyA9IHNlbGYuYXJncwogICAgICAgICAgICAgICAgaWYgYWxpYXMgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgaGVhZCArPSAiOiIgKyBhbGlhcwogICAgICAgICAgICAgICAgaWYgYXR0cnM6CiAgICAgICAgICAgICAgICAgICAgaGVhZCArPSAiKCIgKyAiICIuam9pbihtYXAoIj0iLmpvaW4sIGF0dHJzLml0ZW1zKCkpKSArICIpIgogICAgICAgICAgICBpZiBsZW4oc2VsZi5jaGlsZHJlbikgPiAwOgogICAgICAgICAgICAgICAgY2hpbGRyZW4gPSAoCiAgICAgICAgICAgICAgICAgICAgIntcbiIKICAgICAgICAgICAgICAgICAgICArICJcbiIuam9pbigKICAgICAgICAgICAgICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgIiArIGxuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgbG4gaW4gIixcbiIuam9pbigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAoVGVtcGxhdGUuSXRlbS5fX3JlcHJfXywgc2VsZi5jaGlsZHJlbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkuc3BsaXRsaW5lcygpCiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgKyAiXG59IgogICAgICAgICAgICAgICAgKQogICAgICAgICAgICByZXR1cm4gZiJ7aGVhZH17Y2hpbGRyZW59IgoKICAgIGluc3RydWN0aW9uczogbGlzdFtJdGVtXQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCByb290OiBJdGVtLCBuYW1lc3BhY2U9Tm9uZSk6CiAgICAgICAgIiIiQ3JlYXRlIGEgdGFrdGwgdGVtcGxhdGUiIiIKICAgICAgICBzZWxmLnJvb3QgPSByb290CiAgICAgICAgc2VsZi5uYW1lc3BhY2UgPSBuYW1lc3BhY2UKCiAgICBAY2xhc3NtZXRob2QKICAgIGRlZiBwYXJzZShjbHMsIHN0cmluZzogc3RyKSAtPiAiVGVtcGxhdGUiOgogICAgICAgICIiIkxvYWQgdGVtcGxhdGUgZnJvbSB0YWt0bCBzb3VyY2Ugc3RyaW5nLiIiIgogICAgICAgIHJldHVybiBUZW1wbGF0ZShTdGF0ZShzdHJpbmcucmVwbGFjZSgiXFxcbiIsICIiKSkucGFyc2UoKSkKCiAgICBkZWYgZXZhbChzZWxmLCBfbmFtZXNwYWNlOiBPcHRpb25hbFt3cml0ZWFibGUuTmFtZXNwYWNlXSA9IE5vbmUpOgogICAgICAgICIiIkV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgZ2l2ZW4gbmFtZXNwYWNlLiIiIgogICAgICAgIG5hbWVzcGFjZSA9IHNlbGYubmFtZXNwYWNlIG9yIF9uYW1lc3BhY2UKICAgICAgICBhc3NlcnQgbmFtZXNwYWNlIGlzIG5vdCBOb25lLCAiTm8gbmFtZXNwYWNlIHNwZWNpZmllZCEiCgogICAgICAgIGRlZiBzdWJfcmVuZGVyKHBhcmVudCwgaXRlbSk6CiAgICAgICAgICAgIGNvbXAgPSBpdGVtLnJlbmRlcihwYXJlbnQsIG5hbWVzcGFjZSkKICAgICAgICAgICAgZm9yIGNoaWxkIGluIGl0ZW0uY2hpbGRyZW46CiAgICAgICAgICAgICAgICBzdWJfcmVuZGVyKGNvbXAsIGNoaWxkKQogICAgICAgICAgICByZXR1cm4gY29tcAoKICAgICAgICByZXR1cm4gc3ViX3JlbmRlcihOb25lLCBzZWxmLnJvb3QpCgogICAgZGVmIF9fcmVwcl9fKHNlbGYpIC0+IHN0cjoKICAgICAgICByZXR1cm4gc3RyKHNlbGYucm9vdCkKCgpkZWYgZ2V0X2NvbXBvbmVudCgKICAgIG5hbWU6IHN0ciwgbmFtZXNwYWNlOiBPcHRpb25hbFt3cml0ZWFibGUuTmFtZXNwYWNlXSA9IE5vbmUKKSAtPiAiY29tcG9uZW50LkJhc2VDb21wb25lbnQiOgogICAgIiIiR2V0IGEgY29tcG9uZW50IGJ5IG5hbWUgZnJvbSBidWlsdGlucyBvciBvcHRpb25hbCBgbmFtZXNwYWNlYC4iIiIKICAgIGZyb20gLiBpbXBvcnQgY29tcG9uZW50cwoKICAgIHRyeToKICAgICAgICByZXR1cm4gZXZhbChuYW1lLCB7fSwgdmFycyhjb21wb25lbnRzKSB8IChuYW1lc3BhY2UudmFycyBvciB7fSkpCiAgICBleGNlcHQgTmFtZUVycm9yIGFzIGU6CiAgICAgICAgcmFpc2UgTmFtZUVycm9yKGYiQ29tcG9uZW50IHtuYW1lIXJ9IGRvZXMgbm90IGV4aXN0LiIpIGZyb20gZQo",
					"AQAAAAAAAAABAAAAngUAAAAAAACeBQAAAAAAAAAAAAAAAPC/"
				]
			]
		}
	],
	"build_system": "Taktk todoapp",
	"build_system_choices":
	[
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk Docs",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk Docs",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/py310.sublime-build",
					""
				],
				[
					"Packages/User/py312.sublime-build",
					""
				],
				[
					"Packages/User/py313.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk Docs",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk admin",
					""
				],
				[
					"Taktk notify",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk admin",
					""
				],
				[
					"Taktk simple",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk simple",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk admin",
					""
				],
				[
					"Taktk simple test",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/User/black.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk notify",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Black taktk",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/py310.sublime-build",
					""
				],
				[
					"Packages/User/py312.sublime-build",
					""
				],
				[
					"Packages/User/py313.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Black taktk",
					""
				],
				[
					"Taktk Docs",
					""
				],
				[
					"Taktk todoapp",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk todoapp",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/User/black.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Anaconda Python Builder",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Sbook",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Sbook",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		],
		[
			[
				[
					"Anaconda Python Builder",
					""
				],
				[
					"Sbook",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/sass.sublime-build",
					""
				]
			],
			[
				"Anaconda Python Builder",
				""
			]
		],
		[
			[
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk Docs",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					""
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					"All Syntaxes"
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					"Performance"
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					"Regex Compatibility"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"JSON"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"Property List"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Block Style)"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Default Style)"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk",
				""
			]
		],
		[
			[
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk Docs",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"JSON"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"Property List"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Block Style)"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Default Style)"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/py310.sublime-build",
					""
				],
				[
					"Packages/User/py312.sublime-build",
					""
				],
				[
					"Packages/User/py313.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk Docs",
				""
			]
		],
		[
			[
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"Taktk Docs",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/py310.sublime-build",
					""
				],
				[
					"Packages/User/py312.sublime-build",
					""
				],
				[
					"Packages/User/py313.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk",
				""
			]
		],
		[
			[
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"JSON"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"Property List"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Block Style)"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Default Style)"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"isort taktk",
				""
			]
		],
		[
			[
				[
					"Black taktk",
					""
				],
				[
					"Taktk",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk",
				""
			]
		],
		[
			[
				[
					"Black taktk",
					""
				],
				[
					"Taktk Docs",
					""
				],
				[
					"Taktk todoapp",
					""
				],
				[
					"isort taktk",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"JSON"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"Property List"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Block Style)"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Default Style)"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk todoapp",
				""
			]
		],
		[
			[
				[
					"Packages/Default/Syntax Tests.sublime-build",
					""
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					"All Syntaxes"
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					"Performance"
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					"Regex Compatibility"
				],
				[
					"Packages/User/Django.sublime-build",
					""
				]
			],
			[
				"Packages/User/Django.sublime-build",
				""
			]
		],
		[
			[
				[
					"Packages/Default/Syntax Tests.sublime-build",
					""
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					"All Syntaxes"
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					"Performance"
				],
				[
					"Packages/Default/Syntax Tests.sublime-build",
					"Regex Compatibility"
				],
				[
					"Packages/User/Django.sublime-build",
					""
				],
				[
					"Packages/User/Django.sublime-build",
					"pylint"
				]
			],
			[
				"Packages/User/Django.sublime-build",
				""
			]
		],
		[
			[
				[
					"Packages/Golang Build/Go.sublime-build",
					""
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Run"
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Test"
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Install"
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Cross-Compile (Interactive)"
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Clean"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/Golang Build/Go.sublime-build",
				"Run"
			]
		],
		[
			[
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					""
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Run"
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Test"
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Install"
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Cross-Compile (Interactive)"
				],
				[
					"Packages/Golang Build/Go.sublime-build",
					"Clean"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/Golang Build/Go.sublime-build",
				"Run"
			]
		],
		[
			[
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/NSIS/NSIS.sublime-build",
					""
				],
				[
					"Packages/NSIS/NSIS.sublime-build",
					"strict"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/NSIS/NSIS.sublime-build",
				"strict"
			]
		],
		[
			[
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/NSIS/NSIS.sublime-build",
					""
				],
				[
					"Packages/NSIS/NSIS.sublime-build",
					"strict"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/NSIS/NSIS.sublime-build",
				""
			]
		],
		[
			[
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/shellsy/shellsy.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/shellsy/shellsy.sublime-build",
				""
			]
		],
		[
			[
				[
					"Packages/Makefile/Make.sublime-build",
					""
				],
				[
					"Packages/Makefile/Make.sublime-build",
					"Clean"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/User/black.sublime-build",
				""
			]
		],
		[
			[
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"JSON"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"Property List"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Block Style)"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Default Style)"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/User/black.sublime-build",
				""
			]
		],
		[
			[
				[
					"Packages/User/Django.sublime-build",
					""
				],
				[
					"Packages/User/Django.sublime-build",
					"pylint"
				]
			],
			[
				"Packages/User/Django.sublime-build",
				""
			]
		],
		[
			[
				[
					"Sbook",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				]
			],
			[
				"Sbook",
				""
			]
		],
		[
			[
				[
					"Sbook",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				]
			],
			[
				"Packages/subliminal/Django.sublime-build",
				""
			]
		],
		[
			[
				[
					"Sbook",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sass.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Packages/User/sass.sublime-build",
				""
			]
		],
		[
			[
				[
					"Sbook",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/sass.sublime-build",
					""
				]
			],
			[
				"Packages/User/sass.sublime-build",
				""
			]
		],
		[
			[
				[
					"Taktk",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"JSON"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"Property List"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Block Style)"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Default Style)"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk",
				""
			]
		],
		[
			[
				[
					"Taktk",
					""
				],
				[
					"Taktk admin",
					""
				],
				[
					"Taktk notify",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"JSON"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"Property List"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Block Style)"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Default Style)"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk admin",
				""
			]
		],
		[
			[
				[
					"Taktk",
					""
				],
				[
					"Taktk admin",
					""
				],
				[
					"Taktk simple test",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					""
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"JSON"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"Property List"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Block Style)"
				],
				[
					"Packages/PackageDev/Package/Convert to ....sublime-build",
					"YAML (Default Style)"
				],
				[
					"Packages/subliminal/Django.sublime-build",
					""
				],
				[
					"Packages/subliminal/Django.sublime-build",
					"pylint"
				],
				[
					"Packages/User/black.sublime-build",
					""
				],
				[
					"Packages/User/go.sublime-build",
					""
				],
				[
					"Packages/User/sphinx.sublime-build",
					""
				]
			],
			[
				"Taktk",
				""
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"myp",
				"Anaconda: McCabe complexity check"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"anaconda",
				"Anaconda: McCabe complexity check"
			],
			[
				"black",
				"python-black: Format the selected code or the code of the entire file"
			],
			[
				"remo",
				"Package Control: Remove Package"
			],
			[
				"bl",
				"python-black: Format the selected code or the code of the entire file"
			],
			[
				"enab",
				"Package Control: Enable Package"
			],
			[
				"helium",
				"Helium: Settings"
			],
			[
				"insta",
				"Package Control: Install Package"
			],
			[
				"notifi",
				"Open Github Notifications"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"enable",
				"Package Control: Enable Package"
			],
			[
				"dis",
				"Package Control: Disable Package"
			],
			[
				"in",
				"Package Control: Install Package"
			],
			[
				"re",
				"Package Control: Remove Package"
			],
			[
				"waka",
				"WakaTime: Open Dashboard"
			],
			[
				"camel",
				"Convert Case: lowerCamelCase"
			],
			[
				"disable",
				"Package Control: Disable Package"
			],
			[
				"disa",
				"Package Control: Disable Package"
			],
			[
				"lsp py",
				"Preferences: LSP-pylsp Settings"
			],
			[
				"ins",
				"Package Control: Install Package"
			],
			[
				"anac",
				"Anaconda: Goto Python object"
			],
			[
				"lab",
				"Preferences: LSP-basedpyright Settings"
			],
			[
				"lsp",
				"Preferences: LSP Settings"
			],
			[
				"UI",
				"UI: Select Theme"
			],
			[
				"cAMEL",
				"Convert Case: UpperCamelCase"
			],
			[
				"ui",
				"UI: Select Theme"
			],
			[
				"Package Control: i",
				"Package Control: Install Package"
			],
			[
				"reformat",
				"Preferences: Terminus Command Palette"
			],
			[
				"Package Control: dis",
				"Package Control: Disable Package"
			],
			[
				"install ",
				"Package Control: Install Package"
			],
			[
				"Package Control: e",
				"Package Control: Enable Package"
			],
			[
				"Package Control: in",
				"Package Control: Install Package"
			],
			[
				"Package Control: add",
				"Package Control: Add Repository"
			],
			[
				"Package Control: I",
				"Package Control: Install Package"
			],
			[
				"Package Control: d",
				"Package Control: Disable Package"
			],
			[
				"Package Control: D",
				"Package Control: Disable Package"
			],
			[
				"open",
				"Sublime Files: Open Navigator"
			],
			[
				"ter",
				"Terminal: Open"
			],
			[
				"Package Control: Add",
				"Package Control: Add Repository"
			],
			[
				"Package Control: l",
				"Package Control: List Packages"
			],
			[
				"Package Control: ",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 164.0,
		"history":
		[
			"import socket; socket.socket(socket.AF_INET, socket.SOCK_STREAM).connect((\"localhost\", 52595))",
			"\nd",
			"\nimport socket; socket.socket(socket.AF_INET, socket.SOCK_STREAM).connect((\"localhost\", 49491))"
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/media/ken-morel/data/taktk",
		"/media/ken-morel/data/taktk/examples",
		"/media/ken-morel/data/taktk/examples/todoapp",
		"/media/ken-morel/data/taktk/examples/todoapp/todoapp",
		"/media/ken-morel/data/taktk/examples/todoapp/todoapp/pages",
		"/media/ken-morel/data/taktk/src",
		"/media/ken-morel/data/taktk/src/taktk"
	],
	"file_history":
	[
		"/media/ken-morel/data/taktk/lib/python3.12/site-packages/pyoload/__init__.py",
		"/media/ken-morel/data/taktk/pyproject.toml",
		"/media/ken-morel/data/taktk/taktk.sublime-project",
		"/media/ken-morel/data/taktk/src/taktk/dictionary.py",
		"/media/ken-morel/data/taktk/src/taktk/template.py",
		"/media/ken-morel/data/taktk/examples/locale/main.py",
		"/media/ken-morel/data/taktk/examples/locale/<string>",
		"/media/ken-morel/data/taktk/src/taktk/menu.py",
		"/home/ken-morel/.config/sublime-text/Packages/User/githubNotif.sublime-settings",
		"/media/ken-morel/data/taktk/src/taktk/components.py",
		"/media/ken-morel/data/taktk/src/taktk/writeable.py",
		"/media/ken-morel/data/taktk/src/taktk/component.py",
		"/media/ken-morel/data/taktk/examples/login_page.py",
		"/media/ken-morel/data/taktk/examples/acrylic.py",
		"/media/ken-morel/data/taktk/examples/notify.py",
		"/media/ken-morel/data/taktk/examples/simple.py",
		"/media/ken-morel/data/taktk/src/taktk/<string>",
		"/usr/lib/python3.10/tkinter/__init__.py",
		"/media/ken-morel/data/taktk/lib/python3.10/site-packages/ttkbootstrap/style.py",
		"/home/ken-morel/.config/sublime-text/Packages/User/Anaconda.sublime-settings",
		"/home/ken-morel/.config/sublime-text/Packages/Anaconda/Anaconda.sublime-settings",
		"/media/ken-morel/6A84527C84524B29/Users/engon/AppData/Roaming/Sublime Text/Packages/User/Default (Windows).sublime-keymap",
		"/D/taktk/src/taktk/constants.py",
		"/C/Users/engon/.ipython/profile_default/ipython_config.py",
		"/C/.py/py_startup.py",
		"/C/Users/engon/AppData/Roaming/Sublime Text/Packages/User/Anaconda.sublime-settings",
		"/C/Users/engon/AppData/Roaming/Sublime Text/Packages/Anaconda/Anaconda.sublime-settings",
		"/D/taktk/src/taktk/sdown.py",
		"/D/taktk/src/taktk/component/builtin/__init__.py",
		"/D/taktk/pyproject.toml",
		"/D/taktk/src/taktk/component/builtin/sdown.py",
		"/D/taktk/src/taktk/component.py",
		"/D/taktk/examples/todoapp/todoapp/taktk.py",
		"/D/taktk/examples/noseman.obj",
		"/D/taktk/examples/load_obj.py",
		"/D/tkinter_gl/test/square.py",
		"/D/shellsy/src/shellsy/lexer.py",
		"/D/taktk/docs/whatsnew.rst",
		"/D/taktk/docs/index.rst",
		"/D/taktk/examples/login_page.py",
		"/D/taktk/docs/quickstart.rst",
		"/D/taktk/src/taktk/lexer.py",
		"/C/Users/engon/AppData/Local/Packages/Microsoft.DesktopAppInstaller_8wekyb3d8bbwe/LocalState/settings.json",
		"/C/Users/engon/AppData/Roaming/Sublime Text/Packages/subliminal/subliminal-Python.sublime-syntax",
		"/D/taktk/docs/conf.py",
		"/D/taktk/examples/maps.py",
		"/D/taktk/examples/tiny_3d.py",
		"/D/taktk/docs/requirements.txt",
		"/D/taktk/docs/installation.rst",
		"/D/taktk/docs/_static/github.svg",
		"/D/taktk/docs/todo.md",
		"/D/taktk/docs/tutorials/index.rst",
		"/D/taktk/docs/docutils.conf",
		"/D/taktk/.pre-commit-config.yaml",
		"/D/taktk/.readthedocs.yaml",
		"/D/taktk/requirements.txt",
		"/D/taktk/taktk.sublime-project",
		"/C/Users/engon/AppData/Roaming/Sublime Text/Packages/User/SublimeTextTrans.sublime-settings",
		"/C/Users/engon/AppData/Roaming/Sublime Text/Packages/Transparency/SublimeTextTrans.sublime-settings",
		"/D/utils/rmbg.py",
		"/D/taktk/README.md",
		"/D/taktk/examples/todoapp/main.py",
		"/D/taktk/examples/todo.py",
		"/D/taktk/src/taktk/component/__init__.py",
		"/D/taktk/src/taktk/notification.py",
		"/D/taktk/src/taktk/dictionary.py",
		"/D/taktk/src/taktk/writeable.py",
		"/D/taktk/src/taktk/template.py",
		"/C/Users/engon/OneDrive/Documents/PowerShell/Microsoft.PowerShell_profile.ps1",
		"/D/taktk/src/taktk/component/builtin/ctk.py",
		"/D/TBomb/bomber.py",
		"/D/taktk/examples/todoapp/todoapp/admin.py",
		"/D/taktk/examples/notify.py",
		"/C/Users/engon/AppData/Roaming/Sublime Text/Packages/User/Sublime Text Settings.sublime-settings",
		"/D/taktk/src/taktk/component/parser.py",
		"/D/nanoGPT/out-shakespeare-char/ckpt.pt",
		"/D/taktk/src/taktk/application.py",
		"/D/taktk/src/taktk/__init__.py",
		"/D/taktk/examples/todoapp/todoapp/dictionaries/English.yml",
		"/D/taktk/examples/todoapp/todoapp/dictionaries/French.yml",
		"/C/Users/engon/AppData/Roaming/Sublime Text/Packages/Github Notifications/githubNotif.sublime-settings",
		"/C/Users/engon/AppData/Roaming/Sublime Text/Packages/User/githubNotif.sublime-settings",
		"/D/taktk/examples/todoapp/todoapp/pages/sign.py",
		"/D/taktk/.gitignore",
		"/D/taktk/examples/todoapp/todoapp/pages/__init__.py",
		"/D/taktk/examples/acrylic.py",
		"/C/Users/engon/AppData/Roaming/Sublime Text/Packages/User/py313.sublime-build",
		"/C/taktk/examples/todoapp/todoapp/__init__.py",
		"/C/taktk/examples/todoapp/main.py",
		"/C/taktk/examples/todoapp/todoapp/pages/users.py",
		"/C/taktk/examples/todoapp/todoapp/pages/todos.py",
		"/C/taktk/examples/todoapp/todoapp/pages/_user.py",
		"/C/taktk/examples/todoapp/todoapp/pages/__init__.py",
		"/C/taktk/src/taktk/page.py",
		"/C/taktk/src/taktk/application.py",
		"/C/taktk/examples/todoapp/todoapp/pages/sign.py",
		"/C/taktk/src/taktk/component/__init__.py",
		"/C/taktk/examples/todoapp/todoapp/store.json",
		"/C/taktk/src/taktk/component/instructions.py",
		"/C/taktk/src/taktk/store.py",
		"/C/taktk/src/taktk/component/builtin/__init__.py",
		"/C/taktk/src/taktk/dictionary.py",
		"/C/taktk/src/taktk/__init__.py",
		"/C/taktk/src/taktk/component/builtin/taktk.py",
		"/C/taktk/src/taktk/media.py",
		"/C/taktk/src/taktk/application_server.py",
		"/C/taktk/taktk.sublime-project",
		"/C/taktk/src/taktk/__main__.py",
		"/C/Program Files/Python313/Lib/http/server.py",
		"/C/taktk/examples/todoapp/todoapp/media/img/rmbg.py",
		"/C/taktk/examples/video.py",
		"/C/taktk/src/taktk/notification.py",
		"/C/gh_models/main.py",
		"/C/gh_models/log.md",
		"/C/Users/engon/OneDrive/Documents/Rainmeter/Skins/GMailNotify/GMailNotify.ini",
		"/C/Users/engon/OneDrive/Desktop/bot.py",
		"/C/djam/main.py",
		"/C/Users/engon/OneDrive/Documents/Rainmeter/Skins/W98PLAYER/W98PLAYER.ini",
		"/C/taktk/examples/todoapp/todoapp/data.json",
		"/C/Program Files/Python313/Lib/socketserver.py",
		"/C/taktk/examples/todoapp/todoapp/pages/settings.py",
		"/C/taktk/src/taktk/component/parser.py",
		"/C/taktk/examples/todoapp/todoapp/admin.py",
		"/C/taktk/examples/video_vlc.py",
		"/C/taktk/src/taktk/menu.py",
		"/C/Users/engon/requirements.txt",
		"/C/taktk/src/taktk/component/builtin/tk.py",
		"/C/taktk/src/taktk/settings.py"
	],
	"find":
	{
		"height": 82.0
	},
	"find_in_files":
	{
		"height": 101.0,
		"where_history":
		[
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"_store",
			"image",
			"Resoirce",
			"Media",
			"Writeable",
			"tuple",
			"created",
			"self",
			"taktk-media-spec",
			"d",
			"locale",
			"Subscriber",
			"NamespaceWriteable",
			"simple",
			"english",
			"self",
			"locale",
			"self",
			"namespace",
			"locale",
			"Component",
			"grid",
			"french",
			"english",
			"Writeable",
			"Subscribeable",
			"eval_structure",
			"ttkMenu",
			"ttkbootstrap",
			"window",
			"show",
			"dictionary",
			"Subscribeable",
			"Dictionary",
			"None",
			"add",
			"subscribers",
			"self",
			"False",
			"resolve",
			"print",
			"self",
			"val",
			"vars(self.attrs).items()",
			"set",
			"add",
			"set",
			"sub",
			"value",
			"dir",
			"functools",
			"key",
			"args",
			"namespace",
			"attrs",
			"params",
			"Attrs",
			"Iterable",
			"code",
			"false",
			"basic",
			"call",
			"subscriber",
			"Scripts",
			"True",
			"code",
			"constants",
			"tkinter",
			"get_media",
			"RAW",
			"State",
			"phantom",
			"false",
			"show",
			"hide",
			"Expression",
			"TkComponent",
			"_Component",
			"Writeable",
			"Image",
			"_Component",
			"TkComponent",
			"_Component",
			"Writeable",
			"Namespace",
			"evaluate_literal",
			"Template",
			"component",
			"pep8.ig",
			"writeable",
			"Writeable",
			"Namespace",
			"Translation",
			"textvariable",
			"value",
			"false",
			"basic",
			"false",
			"/ 10",
			"window",
			"self.square_widget",
			"SquareWidget",
			"glVertex3f",
			",  ",
			"self",
			"GL.glVertex2d",
			"SquareWidget",
			"Toplevel",
			"vertex",
			"mesh",
			"vertices",
			"model",
			"load_3d",
			"load_obj",
			"shellsy",
			"include(\"python\")",
			"subscribtion",
			"binding",
			"lambdas",
			"interpolation",
			"lambdas",
			"interpolation",
			"takml",
			"TaktkLexer",
			"taktk-literal",
			"taktk-args",
			"args",
			"Punctuation"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			" +",
			"",
			"store",
			"cls.from_dict(",
			"_Component"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "/home/ken-morel/.config/sublime-text/Packages/subliminal/subliminal-Python.sublime-syntax",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 142517,
						"regions":
						{
						},
						"selection":
						[
							[
								142516,
								142516
							]
						],
						"settings":
						{
							"syntax": "Packages/PackageDev/Package/Sublime Text Syntax Definition/Sublime Text Syntax Definition.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 56190.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "src/taktk/components.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5723,
						"regions":
						{
						},
						"selection":
						[
							[
								1441,
								1446
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": ":",
									"selector": "text.html.markdown"
								},
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".",
									"selector": "source.python - string - comment - constant.numeric, meta.interpolated.format.fstring"
								}
							],
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 325.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "examples/todoapp/main.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 172,
						"regions":
						{
						},
						"selection":
						[
							[
								102,
								102
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": ":",
									"selector": "text.html.markdown"
								},
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".",
									"selector": "source.python - string - comment - constant.numeric, meta.interpolated.format.fstring"
								}
							],
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "lib/python3.12/site-packages/pyoload/__init__.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 29490,
						"regions":
						{
						},
						"selection":
						[
							[
								23608,
								23608
							]
						],
						"settings":
						{
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 10259.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "examples/todoapp/todoapp/pages/__init__.py",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1149,
						"regions":
						{
						},
						"selection":
						[
							[
								244,
								244
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": ":",
									"selector": "text.html.markdown"
								},
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".",
									"selector": "source.python - string - comment - constant.numeric, meta.interpolated.format.fstring"
								}
							],
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 39.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "src/taktk/application.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9916,
						"regions":
						{
						},
						"selection":
						[
							[
								5082,
								5082
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": ":",
									"selector": "text.html.markdown"
								},
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".",
									"selector": "source.python - string - comment - constant.numeric, meta.interpolated.format.fstring"
								}
							],
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 1833.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "examples/todoapp/todoapp/taktk.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3853,
						"regions":
						{
						},
						"selection":
						[
							[
								1931,
								1931
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": ":",
									"selector": "text.html.markdown"
								},
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".",
									"selector": "source.python - string - comment - constant.numeric, meta.interpolated.format.fstring"
								}
							],
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 806.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "src/taktk/page.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 8783,
						"regions":
						{
						},
						"selection":
						[
							[
								1418,
								1418
							]
						],
						"settings":
						{
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 403.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "src/taktk/component.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 16557,
						"regions":
						{
						},
						"selection":
						[
							[
								2522,
								2522
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": ":",
									"selector": "text.html.markdown"
								},
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".",
									"selector": "source.python - string - comment - constant.numeric, meta.interpolated.format.fstring"
								}
							],
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 806.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 9,
					"file": "src/taktk/media.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2910,
						"regions":
						{
						},
						"selection":
						[
							[
								63,
								63
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": ":",
									"selector": "text.html.markdown"
								},
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".",
									"selector": "source.python - string - comment - constant.numeric, meta.interpolated.format.fstring"
								}
							],
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "src/taktk/menu.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6117,
						"regions":
						{
						},
						"selection":
						[
							[
								4911,
								4911
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": ":",
									"selector": "text.html.markdown"
								},
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".",
									"selector": "source.python - string - comment - constant.numeric, meta.interpolated.format.fstring"
								}
							],
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 1755.0,
						"zoom_level": 1.0
					},
					"stack_index": 11,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "examples/todoapp/todoapp/pages/todos.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3452,
						"regions":
						{
						},
						"selection":
						[
							[
								3452,
								3452
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": ":",
									"selector": "text.html.markdown"
								},
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".",
									"selector": "source.python - string - comment - constant.numeric, meta.interpolated.format.fstring"
								}
							],
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 1162.0,
						"zoom_level": 1.0
					},
					"stack_index": 12,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "src/taktk/template.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 18983,
						"regions":
						{
						},
						"selection":
						[
							[
								1438,
								1438
							]
						],
						"settings":
						{
							"syntax": "Packages/subliminal/subliminal-Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 481.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 30.0
	},
	"input":
	{
		"height": 57.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.SublimeLinter":
	{
		"height": 0.0
	},
	"output.Terminus":
	{
		"height": 187.0
	},
	"output.Terminus 2":
	{
		"height": 134.0
	},
	"output.Terminus 3":
	{
		"height": 151.0
	},
	"output.Terminus 4":
	{
		"height": 146.0
	},
	"output.Terminus 5":
	{
		"height": 126.0
	},
	"output.Terminus 6":
	{
		"height": 220.0
	},
	"output.diff_views":
	{
		"height": 527.0
	},
	"output.exec":
	{
		"height": 188.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"output.golang_build":
	{
		"height": 126.0
	},
	"output.gotools_syntax_errors":
	{
		"height": 98.0
	},
	"output.mdpopups":
	{
		"height": 0.0
	},
	"output.stino_build_panel":
	{
		"height": 0.0
	},
	"output.stino_panel":
	{
		"height": 0.0
	},
	"pinned_build_system": "",
	"project": "taktk.sublime-project",
	"replace":
	{
		"height": 56.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"templa",
				"taktk/src/taktk/template.py"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"C:\\taktic\\desktop\\taktic-desktop.sublime-project"
			]
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 129.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"gt_next"
			]
		],
		"width": 598.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 266.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
